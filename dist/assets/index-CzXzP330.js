var L0=Object.defineProperty;var U0=(n,t,e)=>t in n?L0(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Xe=(n,t,e)=>(U0(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const A of o.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&r(A)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function Dt(){}const ta=n=>n;function x0(n,t){for(const e in t)n[e]=t[e];return n}function Y0(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function yo(n){return n()}function _a(){return Object.create(null)}function An(n){n.forEach(yo)}function fr(n){return typeof n=="function"}function Sn(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let Bs;function ha(n,t){return n===t?!0:(Bs||(Bs=document.createElement("a")),Bs.href=t,n===Bs.href)}function O0(n){return Object.keys(n).length===0}function G0(n,t,e,r){if(n){const i=Eo(n,t,e,r);return n[0](i)}}function Eo(n,t,e,r){return n[1]&&r?x0(e.ctx.slice(),n[1](r(t))):e.ctx}function H0(n,t,e,r){if(n[2]&&r){const i=n[2](r(e));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],A=Math.max(t.dirty.length,i.length);for(let p=0;p<A;p+=1)o[p]=t.dirty[p]|i[p];return o}return t.dirty|i}return t.dirty}function V0(n,t,e,r,i,o){if(i){const A=Eo(t,e,r,o);n.p(A,i)}}function J0(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let r=0;r<e;r++)t[r]=-1;return t}return-1}function pa(n){const t=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[n,"px"]}const bo=typeof window<"u";let Bo=bo?()=>window.performance.now():()=>Date.now(),na=bo?n=>requestAnimationFrame(n):Dt;const gi=new Set;function wo(n){gi.forEach(t=>{t.c(n)||(gi.delete(t),t.f())}),gi.size!==0&&na(wo)}function Qo(n){let t;return gi.size===0&&na(wo),{promise:new Promise(e=>{gi.add(t={c:n,f:e})}),abort(){gi.delete(t)}}}const j0=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function S(n,t){n.appendChild(t)}function ko(n){if(!n)return document;const t=n.getRootNode?n.getRootNode():n.ownerDocument;return t&&t.host?t:n.ownerDocument}function X0(n){const t=O("style");return t.textContent="/* empty */",W0(ko(n),t),t.sheet}function W0(n,t){return S(n.head||n,t),t.sheet}function te(n,t,e){n.insertBefore(t,e||null)}function ee(n){n.parentNode&&n.parentNode.removeChild(n)}function Nn(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function O(n){return document.createElement(n)}function yt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Gt(n){return document.createTextNode(n)}function ne(){return Gt(" ")}function xt(){return Gt("")}function le(n,t,e,r){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}function ur(n){return function(t){return t.preventDefault(),n.call(this,t)}}function q0(n){return function(t){t.target===this&&n.call(this,t)}}function d(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function z0(n){return Array.from(n.childNodes)}function jn(n,t){t=""+t,n.data!==t&&(n.data=t)}function Jt(n,t,e,r){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,r?"important":"")}function _r(n,t,e){n.classList.toggle(t,!!e)}function So(n,t,{bubbles:e=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:t,bubbles:e,cancelable:r})}function Mn(n,t){return new n(t)}const Fs=new Map;let Ns=0;function K0(n){let t=5381,e=n.length;for(;e--;)t=(t<<5)-t^n.charCodeAt(e);return t>>>0}function Z0(n,t){const e={stylesheet:X0(t),rules:{}};return Fs.set(n,e),e}function Do(n,t,e,r,i,o,A,p=0){const u=16.666/r;let l=`{
`;for(let D=0;D<=1;D+=u){const I=t+(e-t)*o(D);l+=D*100+`%{${A(I,1-I)}}
`}const g=l+`100% {${A(e,1-e)}}
}`,h=`__svelte_${K0(g)}_${p}`,m=ko(n),{stylesheet:v,rules:B}=Fs.get(m)||Z0(m,n);B[h]||(B[h]=!0,v.insertRule(`@keyframes ${h} ${g}`,v.cssRules.length));const Q=n.style.animation||"";return n.style.animation=`${Q?`${Q}, `:""}${h} ${r}ms linear ${i}ms 1 both`,Ns+=1,h}function qs(n,t){const e=(n.style.animation||"").split(", "),r=e.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),i=e.length-r.length;i&&(n.style.animation=r.join(", "),Ns-=i,Ns||$0())}function $0(){na(()=>{Ns||(Fs.forEach(n=>{const{ownerNode:t}=n.stylesheet;t&&ee(t)}),Fs.clear())})}let ps;function gr(n){ps=n}function ra(){if(!ps)throw new Error("Function called outside component initialization");return ps}function To(n){ra().$$.on_mount.push(n)}function Is(){const n=ra();return(t,e,{cancelable:r=!1}={})=>{const i=n.$$.callbacks[t];if(i){const o=So(t,e,{cancelable:r});return i.slice().forEach(A=>{A.call(n,o)}),!o.defaultPrevented}return!0}}const ui=[],Ft=[];let di=[];const zs=[],el=Promise.resolve();let Ks=!1;function tl(){Ks||(Ks=!0,el.then(ia))}function _i(n){di.push(n)}function er(n){zs.push(n)}const Ys=new Set;let Ai=0;function ia(){if(Ai!==0)return;const n=ps;do{try{for(;Ai<ui.length;){const t=ui[Ai];Ai++,gr(t),nl(t.$$)}}catch(t){throw ui.length=0,Ai=0,t}for(gr(null),ui.length=0,Ai=0;Ft.length;)Ft.pop()();for(let t=0;t<di.length;t+=1){const e=di[t];Ys.has(e)||(Ys.add(e),e())}di.length=0}while(ui.length);for(;zs.length;)zs.pop()();Ks=!1,Ys.clear(),gr(n)}function nl(n){if(n.fragment!==null){n.update(),An(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(_i)}}function rl(n){const t=[],e=[];di.forEach(r=>n.indexOf(r)===-1?t.push(r):e.push(r)),e.forEach(r=>r()),di=t}let fs;function Fo(){return fs||(fs=Promise.resolve(),fs.then(()=>{fs=null})),fs}function Rs(n,t,e){n.dispatchEvent(So(`${t?"intro":"outro"}${e}`))}const Ss=new Set;let Qr;function gn(){Qr={r:0,c:[],p:Qr}}function dn(){Qr.r||An(Qr.c),Qr=Qr.p}function Be(n,t){n&&n.i&&(Ss.delete(n),n.i(t))}function Fe(n,t,e,r){if(n&&n.o){if(Ss.has(n))return;Ss.add(n),Qr.c.push(()=>{Ss.delete(n),r&&(e&&n.d(1),r())}),n.o(t)}else r&&r()}const No={duration:0};function il(n,t,e){const r={direction:"in"};let i=t(n,e,r),o=!1,A,p,u=0;function l(){A&&qs(n,A)}function g(){const{delay:m=0,duration:v=300,easing:B=ta,tick:Q=Dt,css:D}=i||No;D&&(A=Do(n,0,1,v,m,B,D,u++)),Q(0,1);const I=Bo()+m,T=I+v;p&&p.abort(),o=!0,_i(()=>Rs(n,!0,"start")),p=Qo(w=>{if(o){if(w>=T)return Q(1,0),Rs(n,!0,"end"),l(),o=!1;if(w>=I){const b=B((w-I)/v);Q(b,1-b)}}return o})}let h=!1;return{start(){h||(h=!0,qs(n),fr(i)?(i=i(r),Fo().then(g)):g())},invalidate(){h=!1},end(){o&&(l(),o=!1)}}}function sl(n,t,e){const r={direction:"out"};let i=t(n,e,r),o=!0,A;const p=Qr;p.r+=1;let u;function l(){const{delay:g=0,duration:h=300,easing:m=ta,tick:v=Dt,css:B}=i||No;B&&(A=Do(n,1,0,h,g,m,B));const Q=Bo()+g,D=Q+h;_i(()=>Rs(n,!1,"start")),"inert"in n&&(u=n.inert,n.inert=!0),Qo(I=>{if(o){if(I>=D)return v(0,1),Rs(n,!1,"end"),--p.r||An(p.c),!1;if(I>=Q){const T=m((I-Q)/h);v(1-T,T)}}return o})}return fr(i)?Fo().then(()=>{i=i(r),l()}):l(),{end(g){g&&"inert"in n&&(n.inert=u),g&&i.tick&&i.tick(1,0),o&&(A&&qs(n,A),o=!1)}}}function ma(n,t){const e=t.token={};function r(i,o,A,p){if(t.token!==e)return;t.resolved=p;let u=t.ctx;A!==void 0&&(u=u.slice(),u[A]=p);const l=i&&(t.current=i)(u);let g=!1;t.block&&(t.blocks?t.blocks.forEach((h,m)=>{m!==o&&h&&(gn(),Fe(h,1,1,()=>{t.blocks[m]===h&&(t.blocks[m]=null)}),dn())}):t.block.d(1),l.c(),Be(l,1),l.m(t.mount(),t.anchor),g=!0),t.block=l,t.blocks&&(t.blocks[o]=l),g&&ia()}if(Y0(n)){const i=ra();if(n.then(o=>{gr(i),r(t.then,1,t.value,o),gr(null)},o=>{if(gr(i),r(t.catch,2,t.error,o),gr(null),!t.hasCatch)throw o}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,n),!0;t.resolved=n}}function al(n,t,e){const r=t.slice(),{resolved:i}=n;n.current===n.then&&(r[n.value]=i),n.current===n.catch&&(r[n.error]=i),n.block.p(r,e)}function Ut(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function kn(n,t,e){const r=n.$$.props[t];r!==void 0&&(n.$$.bound[r]=e,e(n.$$.ctx[r]))}function Ct(n){n&&n.c()}function It(n,t,e){const{fragment:r,after_update:i}=n.$$;r&&r.m(t,e),_i(()=>{const o=n.$$.on_mount.map(yo).filter(fr);n.$$.on_destroy?n.$$.on_destroy.push(...o):An(o),n.$$.on_mount=[]}),i.forEach(_i)}function vt(n,t){const e=n.$$;e.fragment!==null&&(rl(e.after_update),An(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function ol(n,t){n.$$.dirty[0]===-1&&(ui.push(n),tl(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function Pn(n,t,e,r,i,o,A=null,p=[-1]){const u=ps;gr(n);const l=n.$$={fragment:null,ctx:[],props:o,update:Dt,not_equal:i,bound:_a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:_a(),dirty:p,skip_bound:!1,root:t.target||u.$$.root};A&&A(l.root);let g=!1;if(l.ctx=e?e(n,t.props||{},(h,m,...v)=>{const B=v.length?v[0]:m;return l.ctx&&i(l.ctx[h],l.ctx[h]=B)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](B),g&&ol(n,h)),m}):[],l.update(),g=!0,An(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const h=z0(t.target);l.fragment&&l.fragment.l(h),h.forEach(ee)}else l.fragment&&l.fragment.c();t.intro&&Be(n.$$.fragment),It(n,t.target,t.anchor),ia()}gr(u)}class Ln{constructor(){Xe(this,"$$");Xe(this,"$$set")}$destroy(){vt(this,1),this.$destroy=Dt}$on(t,e){if(!fr(e))return Dt;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!O0(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ll="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ll);function cl(n){const t=n-1;return t*t*t+1}function Al(n,{delay:t=0,duration:e=400,easing:r=ta}={}){const i=+getComputedStyle(n).opacity;return{delay:t,duration:e,easing:r,css:o=>`opacity: ${o*i}`}}function fl(n,{delay:t=0,duration:e=400,easing:r=cl,x:i=0,y:o=0,opacity:A=0}={}){const p=getComputedStyle(n),u=+p.opacity,l=p.transform==="none"?"":p.transform,g=u*(1-A),[h,m]=pa(i),[v,B]=pa(o);return{delay:t,duration:e,easing:r,css:(Q,D)=>`
			transform: ${l} translate(${(1-Q)*h}${m}, ${(1-Q)*v}${B});
			opacity: ${u-g*D}`}}const{document:ul}=j0;function Ia(n){let t,e=(n[0]*n[3]).toFixed(n[4])+"",r,i,o,A;return{c(){t=O("div"),r=Gt(e),d(t,"class","range__tooltip svelte-tyxnph")},m(p,u){te(p,t,u),S(t,r),A=!0},p(p,u){(!A||u[0]&25)&&e!==(e=(p[0]*p[3]).toFixed(p[4])+"")&&jn(r,e)},i(p){A||(p&&_i(()=>{A&&(o&&o.end(1),i=il(t,fl,{y:7,duration:200}),i.start())}),A=!0)},o(p){i&&i.invalidate(),p&&(o=sl(t,Al,{duration:100})),A=!1},d(p){p&&ee(t),p&&o&&o.end()}}}function gl(n){let t,e,r,i,o,A,p,u,l,g,h,m=(n[10]||n[11])&&Ia(n);return{c(){t=O("div"),e=O("div"),r=O("div"),i=O("div"),o=ne(),A=O("div"),m&&m.c(),u=ne(),l=O("style"),l.textContent=`.mouse-over-shield {
      position: fixed;
      top: 0px;
      left: 0px;
      height: 100%;
      width: 100%;
      background-color: rgba(255, 0, 0, 0);
      z-index: 10000;
      cursor: grabbing;
    }`,d(i,"class","range__track--highlighted svelte-tyxnph"),d(A,"class","range__thumb svelte-tyxnph"),d(A,"role","none"),_r(A,"range__thumb--holding",n[10]),d(r,"class","range__track svelte-tyxnph"),d(e,"class","range__wrapper svelte-tyxnph"),d(e,"tabindex","0"),d(e,"role","slider"),d(e,"aria-valuemin",n[1]),d(e,"aria-valuemax",n[2]),d(e,"aria-valuenow",p=(n[0]*n[3]).toFixed(n[4])),d(e,"id",n[5]),d(t,"class","range svelte-tyxnph")},m(v,B){te(v,t,B),S(t,e),S(e,r),S(r,i),n[20](i),S(r,o),S(r,A),m&&m.m(A,null),n[21](A),n[24](r),n[25](e),te(v,u,B),S(ul.head,l),g||(h=[le(window,"touchmove",n[17],{passive:!1}),le(window,"touchcancel",n[15]),le(window,"touchend",n[15]),le(window,"mousemove",n[17]),le(window,"mouseup",n[15]),le(window,"resize",n[12]),le(A,"touchstart",n[14]),le(A,"mousedown",n[14]),le(A,"mouseover",n[22]),le(A,"mouseout",n[23]),le(A,"focus",_l),le(A,"blur",hl),le(e,"keydown",n[16]),le(e,"mousedown",n[13]),le(e,"touchstart",n[13])],g=!0)},p(v,B){v[10]||v[11]?m?(m.p(v,B),B[0]&3072&&Be(m,1)):(m=Ia(v),m.c(),Be(m,1),m.m(A,null)):m&&(gn(),Fe(m,1,1,()=>{m=null}),dn()),B[0]&1024&&_r(A,"range__thumb--holding",v[10]),B[0]&2&&d(e,"aria-valuemin",v[1]),B[0]&4&&d(e,"aria-valuemax",v[2]),B[0]&25&&p!==(p=(v[0]*v[3]).toFixed(v[4]))&&d(e,"aria-valuenow",p),B[0]&32&&d(e,"id",v[5])},i(v){Be(m)},o(v){Fe(m)},d(v){v&&(ee(t),ee(u)),n[20](null),m&&m.d(),n[21](null),n[24](null),n[25](null),ee(l),g=!1,An(h)}}}function dl(n,t){let e=t.getBoundingClientRect(),{clientX:r,clientY:i}=n;return!(r<e.left||r>=e.right||i<e.top||i>=e.bottom)}const _l=()=>{},hl=()=>{};function pl(n,t,e){let{min:r=0}=t,{max:i=100}=t,{stepSize:o=1}=t,{decimalPlaces:A=0}=t,{initialValue:p=0}=t,{id:u=null}=t,{value:l=typeof p=="string"?parseFloat(p)/o:p/o}=t,g=null,h=null,m=null,v=null,B=null,Q=null,D=!1,I=!1,T=0,w=null;const b=Is(),U=document.createElement("div");U.setAttribute("class","mouse-over-shield"),U.addEventListener("mouseover",$=>{$.preventDefault(),$.stopPropagation()});function L(){B=v.getBoundingClientRect().left}function Y($){e(0,l=$);let be=(l*o).toFixed(A);b("change",{value:be})}function z($){Ee($),Z($)}function Z($){$.type==="mousedown"&&document.body.append(U),e(19,Q=h)}function ae($){$.type==="mouseup"&&(document.body.contains(U)&&document.body.removeChild(U),dl($,h)&&e(11,I=!0)),e(19,Q=null)}function me($){T<50&&T++;let be=Math.ceil(T/5);($.key==="ArrowUp"||$.key==="ArrowRight")&&(l+be>i||l>=i?Y(i):Y(l+be)),($.key==="ArrowDown"||$.key==="ArrowLeft")&&(l-be<r||l<=r?Y(r):Y(l-be)),clearTimeout(w),w=setTimeout(()=>T=1,100)}function ge($){let Se=($-(B+10))*100/(g.clientWidth-10);Se=Se<0?0:Se>100?100:Se,Y(parseInt(Se*(i-r)/100)+r)}function Ee($){if(!Q&&$.type!=="touchstart"&&$.type!=="mousedown")return!1;$.stopPropagation&&$.stopPropagation(),$.preventDefault&&$.preventDefault();const be=$.type==="touchmove"||$.type==="touchstart"?$.touches[0].clientX:$.clientX;ge(be)}function pe($){Ft[$?"unshift":"push"](()=>{m=$,e(8,m),e(7,h),e(0,l),e(1,r),e(2,i),e(6,g),e(18,p),e(3,o)})}function W($){Ft[$?"unshift":"push"](()=>{h=$,e(7,h),e(8,m),e(0,l),e(1,r),e(2,i),e(6,g),e(18,p),e(3,o)})}const Ne=()=>e(11,I=!0),Ve=()=>e(11,I=!1);function we($){Ft[$?"unshift":"push"](()=>{g=$,e(6,g)})}function Ke($){Ft[$?"unshift":"push"](()=>{v=$,e(9,v)})}return n.$$set=$=>{"min"in $&&e(1,r=$.min),"max"in $&&e(2,i=$.max),"stepSize"in $&&e(3,o=$.stepSize),"decimalPlaces"in $&&e(4,A=$.decimalPlaces),"initialValue"in $&&e(18,p=$.initialValue),"id"in $&&e(5,u=$.id),"value"in $&&e(0,l=$.value)},n.$$.update=()=>{if(n.$$.dirty[0]&262152&&e(0,l=typeof p=="string"?parseFloat(p)/o:p/o),n.$$.dirty[0]&512&&v&&(B=v.getBoundingClientRect().left),n.$$.dirty[0]&524288&&e(10,D=!!Q),n.$$.dirty[0]&455&&m&&h){e(0,l=l>r?l:r),e(0,l=l<i?l:i);let $=(l-r)*100/(i-r),be=(g.clientWidth-10)*($/100)+5;e(7,h.style.left=`${be}px`,h),e(8,m.style.width=`${be}px`,m)}},[l,r,i,o,A,u,g,h,m,v,D,I,L,z,Z,ae,me,Ee,p,Q,pe,W,Ne,Ve,we,Ke]}class dr extends Ln{constructor(t){super(),Pn(this,t,pl,gl,Sn,{min:1,max:2,stepSize:3,decimalPlaces:4,initialValue:18,id:5,value:0},null,[-1,-1])}}var Ds=function(){var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(t){t=t||{};var e;e||(e=typeof t<"u"?t:{});var r;e.ready=new Promise(function(R){r=R});var i={},o;for(o in e)e.hasOwnProperty(o)&&(i[o]=e[o]);var A=!1,p=!1,u=!1,l=!1;A=typeof window=="object",p=typeof importScripts=="function",u=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",l=!A&&!u&&!p;var g="",h,m,v,B;u?(g=p?require("path").dirname(g)+"/":__dirname+"/",h=function(R,H){var se=X(R);return se?H?se:se.toString():(v||(v=require("fs")),B||(B=require("path")),R=B.normalize(R),v.readFileSync(R,H?null:"utf8"))},m=function(R){return R=h(R,!0),R.buffer||(R=new Uint8Array(R)),U(R.buffer),R},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(R){throw R}),process.on("unhandledRejection",be),e.inspect=function(){return"[Emscripten Module object]"}):l?(typeof read<"u"&&(h=function(R){var H=X(R);return H?ft(H):read(R)}),m=function(R){var H;return(H=X(R))?H:typeof readbuffer=="function"?new Uint8Array(readbuffer(R)):(H=read(R,"binary"),U(typeof H=="object"),H)},typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(A||p)&&(p?g=self.location.href:document.currentScript&&(g=document.currentScript.src),n&&(g=n),g.indexOf("blob:")!==0?g=g.substr(0,g.lastIndexOf("/")+1):g="",h=function(R){try{var H=new XMLHttpRequest;return H.open("GET",R,!1),H.send(null),H.responseText}catch(se){if(R=X(R))return ft(R);throw se}},p&&(m=function(R){try{var H=new XMLHttpRequest;return H.open("GET",R,!1),H.responseType="arraybuffer",H.send(null),new Uint8Array(H.response)}catch(se){if(R=X(R))return R;throw se}}));var Q=e.print||console.log.bind(console),D=e.printErr||console.warn.bind(console);for(o in i)i.hasOwnProperty(o)&&(e[o]=i[o]);i=null;var I;e.wasmBinary&&(I=e.wasmBinary),e.noExitRuntime&&e.noExitRuntime,typeof WebAssembly!="object"&&be("no native wasm support detected");var T,w=new WebAssembly.Table({initial:1,maximum:1,element:"anyfunc"}),b=!1;function U(R,H){R||be("Assertion failed: "+H)}var L=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Y,z,Z,ae;function me(R){Y=R,e.HEAP8=z=new Int8Array(R),e.HEAP16=new Int16Array(R),e.HEAP32=ae=new Int32Array(R),e.HEAPU8=Z=new Uint8Array(R),e.HEAPU16=new Uint16Array(R),e.HEAPU32=new Uint32Array(R),e.HEAPF32=new Float32Array(R),e.HEAPF64=new Float64Array(R)}var ge=e.INITIAL_MEMORY||16777216;e.wasmMemory?T=e.wasmMemory:T=new WebAssembly.Memory({initial:ge/65536,maximum:32768}),T&&(Y=T.buffer),ge=Y.byteLength,me(Y),ae[496]=5245024;function Ee(R){for(;0<R.length;){var H=R.shift();if(typeof H=="function")H(e);else{var se=H.v;typeof se=="number"?H.u===void 0?e.dynCall_v(se):e.dynCall_vi(se,H.u):se(H.u===void 0?null:H.u)}}}var pe=[],W=[],Ne=[],Ve=[];function we(){var R=e.preRun.shift();pe.unshift(R)}var Ke=0,$=null;e.preloadedImages={},e.preloadedAudios={};function be(R){throw e.onAbort&&e.onAbort(R),Q(R),D(R),b=!0,new WebAssembly.RuntimeError("abort("+R+"). Build with -s ASSERTIONS=1 for more info.")}function Se(R,H){return String.prototype.startsWith?R.startsWith(H):R.indexOf(H)===0}var We="data:application/octet-stream;base64,",Ue="data:application/octet-stream;base64,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DAELIAEoAgQiBiABKAIAIgQ2AgggCUF/aiEIIAQoAgghAkEAIQcgBCEDA0AgAiIAKAIIIQIgACADNgIIIAAhAyAHQQFqIgcgCEcNAAsgASAENgIEIAEgBjYCACAEQQA2AggLQQEhCCAGRQ0AIAUoAgAiAEUNASABKAIEIAA2AgggBSAGNgIAIAUgBSgCECAJajYCEAwCCyAIDwsgBSAGNgIADAELIAUoAgRBADYCCEEBDwsgBSABKAIENgIEQQELmQYBA38jAEGwAWsiAiQAIABCADcCACAAQQA2AgggASgCDCIBBEADQCACQTBqIAEoAgAQCCACIAJBMGpB9ggQBSIDIgQoAgg2AkggAiADKQIANwNAIANCADcCACAEQQA2AgggAkEgaiABKAIEEAggAiACQUBrIAIoAiAgAkEgaiACLQArIgNBGHRBGHVBAEgiBBsgAigCJCADIAQbEAYiAyIEKAIINgJYIAIgAykCADcDUCADQgA3AgAgBEEANgIIIAIgAkHQAGpB9ggQBSIDIgQoAgg2AmggAiADKQIANwNgIANCADcCACAEQQA2AgggAkEQaiABKAIIEAggAiACQeAAaiACKAIQIAJBEGogAi0AGyIDQRh0QRh1QQBIIgQbIAIoAhQgAyAEGxAGIgMiBCgCCDYCeCACIAMpAgA3A3AgA0IANwIAIARBADYCCCACIAJB8ABqQfYIEAUiAyIEKAIINgKIASACIAMpAgA3A4ABIANCADcCACAEQQA2AgggAiABKAIMEAggAiACQYABaiACKAIAIAIgAi0ACyIDQRh0QRh1QQBIIgQbIAIoAgQgAyAEGxAGIgMiBCgCCDYCmAEgAiADKQIANwOQASADQgA3AgAgBEEANgIIIAIgAkGQAWpB+ggQBSIDIgQoAgg2AqgBIAIgAykCADcDoAEgA0IANwIAIARBADYCCCAAIAIoAqABIAJBoAFqIAItAKsBIgNBGHRBGHVBAEgiBBsgAigCpAEgAyAEGxAGGiACLACrAUF/TARAIAIoAqABEAMLIAIsAJsBQX9MBEAgAigCkAEQAwsgAiwAC0F/TARAIAIoAgAQAwsgAiwAiwFBf0wEQCACKAKAARADCyACLAB7QX9MBEAgAigCcBADCyACLAAbQX9MBEAgAigCEBADCyACLABrQX9MBEAgAigCYBADCyACLABb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";if(!Se(Ue,We)){var dt=Ue;Ue=e.locateFile?e.locateFile(dt,g):g+dt}function Ze(){try{if(I)return new Uint8Array(I);var R=X(Ue);if(R)return R;if(m)return m(Ue);throw"both async and sync fetching of the wasm failed"}catch(H){be(H)}}function jt(){return I||!A&&!p||typeof fetch!="function"||Se(Ue,"file://")?new Promise(function(R){R(Ze())}):fetch(Ue,{credentials:"same-origin"}).then(function(R){if(!R.ok)throw"failed to load wasm binary file at '"+Ue+"'";return R.arrayBuffer()}).catch(function(){return Ze()})}W.push({v:function(){Mt()}});function ft(R){for(var H=[],se=0;se<R.length;se++){var oe=R[se];255<oe&&(oe&=255),H.push(String.fromCharCode(oe))}return H.join("")}var Ie=typeof atob=="function"?atob:function(R){var H="",se=0;R=R.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(R.charAt(se++)),ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(R.charAt(se++)),he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(R.charAt(se++)),fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(R.charAt(se++));oe=oe<<2|ie>>4,ie=(ie&15)<<4|he>>2;var de=(he&3)<<6|fe;H+=String.fromCharCode(oe),he!==64&&(H+=String.fromCharCode(ie)),fe!==64&&(H+=String.fromCharCode(de))}while(se<R.length);return H};function X(R){if(Se(R,We)){if(R=R.slice(We.length),typeof u=="boolean"&&u){try{var H=Buffer.from(R,"base64")}catch{H=new Buffer(R,"base64")}var se=new Uint8Array(H.buffer,H.byteOffset,H.byteLength)}else try{var oe=Ie(R),ie=new Uint8Array(oe.length);for(H=0;H<oe.length;++H)ie[H]=oe.charCodeAt(H);se=ie}catch{throw Error("Converting base64 string to bytes failed.")}return se}}var ut={a:function(){be()},b:function(R,H,se){Z.copyWithin(R,H,H+se)},c:function(R){R>>>=0;var H=Z.length;if(2147483648<R)return!1;for(var se=1;4>=se;se*=2){var oe=H*(1+.2/se);oe=Math.min(oe,R+100663296),oe=Math.max(16777216,R,oe),0<oe%65536&&(oe+=65536-oe%65536);e:{try{T.grow(Math.min(2147483648,oe)-Y.byteLength+65535>>>16),me(T.buffer);var ie=1;break e}catch{}ie=void 0}if(ie)return!0}return!1},memory:T,table:w};(function(){function R(ie){e.asm=ie.exports,Ke--,e.monitorRunDependencies&&e.monitorRunDependencies(Ke),Ke==0&&$&&(ie=$,$=null,ie())}function H(ie){R(ie.instance)}function se(ie){return jt().then(function(he){return WebAssembly.instantiate(he,oe)}).then(ie,function(he){D("failed to asynchronously prepare wasm: "+he),be(he)})}var oe={a:ut};if(Ke++,e.monitorRunDependencies&&e.monitorRunDependencies(Ke),e.instantiateWasm)try{return e.instantiateWasm(oe,R)}catch(ie){return D("Module.instantiateWasm callback failed with error: "+ie),!1}return function(){if(I||typeof WebAssembly.instantiateStreaming!="function"||Se(Ue,We)||Se(Ue,"file://")||typeof fetch!="function")return se(H);fetch(Ue,{credentials:"same-origin"}).then(function(ie){return WebAssembly.instantiateStreaming(ie,oe).then(H,function(he){return D("wasm streaming compile failed: "+he),D("falling back to ArrayBuffer instantiation"),se(H)})})}(),{}})();var Mt=e.___wasm_call_ctors=function(){return(Mt=e.___wasm_call_ctors=e.asm.d).apply(null,arguments)};e.___em_js__array_bounds_check_error=function(){return(e.___em_js__array_bounds_check_error=e.asm.e).apply(null,arguments)};var Pt=e._emscripten_bind_VoidPtr___destroy___0=function(){return(Pt=e._emscripten_bind_VoidPtr___destroy___0=e.asm.f).apply(null,arguments)},Qe=e._emscripten_bind_skeleton_tracer_t_skeleton_tracer_t_0=function(){return(Qe=e._emscripten_bind_skeleton_tracer_t_skeleton_tracer_t_0=e.asm.g).apply(null,arguments)},De=e._emscripten_bind_skeleton_tracer_t_trace_3=function(){return(De=e._emscripten_bind_skeleton_tracer_t_trace_3=e.asm.h).apply(null,arguments)};e._free=function(){return(e._free=e.asm.i).apply(null,arguments)},e._malloc=function(){return(e._malloc=e.asm.j).apply(null,arguments)};var Tt=e._emscripten_bind_skeleton_tracer_t_destroy_0=function(){return(Tt=e._emscripten_bind_skeleton_tracer_t_destroy_0=e.asm.k).apply(null,arguments)},Ye=e._emscripten_bind_skeleton_tracer_t___destroy___0=function(){return(Ye=e._emscripten_bind_skeleton_tracer_t___destroy___0=e.asm.l).apply(null,arguments)},bt;$=function R(){bt||lt(),bt||($=R)};function lt(){function R(){if(!bt&&(bt=!0,e.calledRun=!0,!b)){if(Ee(W),Ee(Ne),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;){var H=e.postRun.shift();Ve.unshift(H)}Ee(Ve)}}if(!(0<Ke)){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)we();Ee(pe),0<Ke||(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),R()},1)):R())}}if(e.run=lt,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();lt();function gt(){}gt.prototype=Object.create(gt.prototype),gt.prototype.constructor=gt,gt.prototype.o=gt,gt.s={},e.WrapperObject=gt;function _t(R){return(R||gt).s}e.getCache=_t;function Je(R,H){var se=_t(H),oe=se[R];return oe||(oe=Object.create((H||gt).prototype),oe.m=R,se[R]=oe)}e.wrapPointer=Je,e.castObject=function(R,H){return Je(R.m,H)},e.NULL=Je(0),e.destroy=function(R){if(!R.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";R.__destroy__(),delete _t(R.o)[R.m]},e.compare=function(R,H){return R.m===H.m},e.getPointer=function(R){return R.m},e.getClass=function(R){return R.o};var Re=0,$e=0,J=0,Me=[],et=0;function x(){throw"cannot construct a VoidPtr, no constructor in IDL"}x.prototype=Object.create(gt.prototype),x.prototype.constructor=x,x.prototype.o=x,x.s={},e.VoidPtr=x,x.prototype.__destroy__=function(){Pt(this.m)};function re(){this.m=Qe(),_t(re)[this.m]=this}return re.prototype=Object.create(gt.prototype),re.prototype.constructor=re,re.prototype.o=re,re.s={},e.skeleton_tracer_t=re,re.prototype.trace=function(R,H,se){var oe=this.m;if(et){for(var ie=0;ie<Me.length;ie++)e._free(Me[ie]);Me.length=0,e._free(Re),Re=0,$e+=et,et=0}if(Re||($e+=128,Re=e._malloc($e),U(Re)),J=0,R&&typeof R=="object")R=R.m;else if(ie=R,typeof ie=="string"){for(var he=R=0;he<ie.length;++he){var fe=ie.charCodeAt(he);55296<=fe&&57343>=fe&&(fe=65536+((fe&1023)<<10)|ie.charCodeAt(++he)&1023),127>=fe?++R:R=2047>=fe?R+2:65535>=fe?R+3:R+4}if(R=Array(R+1),fe=R.length,he=0,0<fe){fe=he+fe-1;for(var de=0;de<ie.length;++de){var Pe=ie.charCodeAt(de);if(55296<=Pe&&57343>=Pe){var tt=ie.charCodeAt(++de);Pe=65536+((Pe&1023)<<10)|tt&1023}if(127>=Pe){if(he>=fe)break;R[he++]=Pe}else{if(2047>=Pe){if(he+1>=fe)break;R[he++]=192|Pe>>6}else{if(65535>=Pe){if(he+2>=fe)break;R[he++]=224|Pe>>12}else{if(he+3>=fe)break;R[he++]=240|Pe>>18,R[he++]=128|Pe>>12&63}R[he++]=128|Pe>>6&63}R[he++]=128|Pe&63}}R[he]=0}switch(ie=z,U(Re),ie=R.length*ie.BYTES_PER_ELEMENT,ie=ie+7&-8,J+ie>=$e?(U(0<ie),et+=ie,he=e._malloc(ie),Me.push(he)):(he=Re+J,J+=ie),ie=he,fe=z,he=ie>>>0,fe.BYTES_PER_ELEMENT){case 2:he>>>=1;break;case 4:he>>>=2;break;case 8:he>>>=3}for(de=0;de<R.length;de++)fe[he+de]=R[de];R=ie}else R=ie;if(H&&typeof H=="object"&&(H=H.m),se&&typeof se=="object"&&(se=se.m),H=De(oe,R,H,se)){for(se=Z,R=H+NaN,oe=H;se[oe]&&!(oe>=R);)++oe;if(16<oe-H&&se.subarray&&L)H=L.decode(se.subarray(H,oe));else{for(R="";H<oe;)ie=se[H++],ie&128?(he=se[H++]&63,(ie&224)==192?R+=String.fromCharCode((ie&31)<<6|he):(fe=se[H++]&63,ie=(ie&240)==224?(ie&15)<<12|he<<6|fe:(ie&7)<<18|he<<12|fe<<6|se[H++]&63,65536>ie?R+=String.fromCharCode(ie):(ie-=65536,R+=String.fromCharCode(55296|ie>>10,56320|ie&1023)))):R+=String.fromCharCode(ie);H=R}}else H="";return H},re.prototype.destroy=function(){Tt(this.m)},re.prototype.__destroy__=function(){Ye(this.m)},t.ready}}();typeof exports=="object"&&typeof module=="object"?module.exports=Ds:typeof define=="function"&&define.amd?define([],function(){return Ds}):typeof exports=="object"&&(exports._TRACESKELETON=Ds);let ml=class Ro{constructor(t){if(typeof t>"u")throw new Error("Cannot be called directly");this.tracer=t}static load(){return Ds().then(t=>new Ro(t))}fromBoolArray(t,e,r){for(var i="",o=0;o<t.length;o++)t[o]?i+="":i+="\0";return this.fromCharString(i,e,r)}fromImageData(t,e){for(var r=t.width,i=t.height,o=t.data,A="",p=0;p<o.length;p+=4)o[p]?A+="":A+="\0";return this.fromCharString(A,r,i,e)}fromCanvas(t){var e=t.getContext("2d"),r=e.getImageData(0,0,t.width,t.height);return this.fromImageData(r)}fromCharString(t,e,r,i){var o=new this.tracer.skeleton_tracer_t,A=o.trace(t,e,r,i),p=A.split("RECTS:")[1].split(`
`).filter(g=>g.length).map(g=>g.split(",").map(h=>parseInt(h))),u=A.split("RECTS:")[0].split("POLYLINES:")[1].split(`
`).filter(g=>g.length).map(g=>g.split(" ").filter(h=>h.length).map(h=>h.split(",").map(m=>parseInt(m)))),l={rects:p,polylines:u,width:e,height:r};return this.tracer.destroy(o),l}visualize(t,e){var r=t.rects,i=t.polylines;e==null&&(e={});var o=e.scale==null?1:e.scale,A=e.strokeWidth==null?1:e.strokeWidth,p=e.rects==null?1:0,u=e.keypoints=1,l=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="${t.width*o}" height="${t.height*o}">`;if(p)for(var g=0;g<r.length;g++)l+=`<rect fill="none" stroke="gray" x="${r[g][0]*o}" y="${r[g][1]*o}" width="${r[g][2]*o}" height="${r[g][3]*o}" />`;for(var g=0;g<i.length;g++)l+=`<path fill="none" stroke-width="${A}" stroke="rgb(${Math.floor(Math.random()*200)},${Math.floor(Math.random()*200)},${Math.floor(Math.random()*200)})" d="M${i[g].map(v=>v[0]*o+","+v[1]*o).join(" L")}"/>`;if(u)for(var g=0;g<i.length;g++)for(var h=0;h<i[g].length;h++)l+=`<rect fill="none" stroke="red" x="${i[g][h][0]*o-1}" y="${i[g][h][1]*o-1}" width="2" height="2"/>`;return l+="</svg>",l}};function $n(n,t){return Array.isArray(t)?[n.a*t[0]+n.c*t[1]+n.e,n.b*t[0]+n.d*t[1]+n.f]:{x:n.a*t.x+n.c*t.y+n.e,y:n.b*t.x+n.d*t.y+n.f}}function va(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function ds(n){return typeof n>"u"}function hi(n,t=0){return{a:1,c:0,e:n,b:0,d:1,f:t}}function Ps(...n){n=Array.isArray(n[0])?n[0]:n;const t=(e,r)=>({a:e.a*r.a+e.c*r.b,c:e.a*r.c+e.c*r.d,e:e.a*r.e+e.c*r.f+e.e,b:e.b*r.a+e.d*r.b,d:e.b*r.c+e.d*r.d,f:e.b*r.e+e.d*r.f+e.f});switch(n.length){case 0:throw new Error("no matrices provided");case 1:return n[0];case 2:return t(n[0],n[1]);default:{const[e,r,...i]=n,o=t(e,r);return Ps(o,...i)}}}function Ar(...n){return Ps(...n)}const{cos:Il,sin:vl,PI:eA}=Math;function Os(n,t,e){const r=Il(n),i=vl(n),o={a:r,c:-i,e:0,b:i,d:r,f:0};return ds(t)||ds(e)?o:Ps([hi(t,e),o,hi(-t,-e)])}function gs(n,t=void 0,e=void 0,r=void 0){ds(t)&&(t=n);const i={a:n,c:0,e:0,b:0,d:t,f:0};return ds(e)||ds(r)?i:Ps([hi(e,r),i,hi(-e,-r)])}function ms(n){return Cl(n)}function Cl(n){return`matrix(${n.a},${n.b},${n.c},${n.d},${n.e},${n.f})`}function yl(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function Ls(n,t,e,r){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,Ls.prototype),i.expected=t,i.found=e,i.location=r,i.name="SyntaxError",i}yl(Ls,Error);function Gs(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,e+=e.repeat(t),n+e.slice(0,t))}Ls.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var e=null,r;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){e=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,o=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,A=this.location.source+":"+o.line+":"+o.column;if(e){var p=this.location.end,u=Gs("",o.line.toString().length," "),l=e[i.line-1],g=i.line===p.line?p.column:l.length+1,h=g-i.column||1;t+=`
 --> `+A+`
`+u+` |
`+o.line+" | "+l+`
`+u+" | "+Gs("",i.column-1," ")+Gs("",h,"^")}else t+=`
 at `+A}return t};Ls.buildMessage=function(n,t){var e={literal:function(l){return'"'+i(l.text)+'"'},class:function(l){var g=l.parts.map(function(h){return Array.isArray(h)?o(h[0])+"-"+o(h[1]):o(h)});return"["+(l.inverted?"^":"")+g.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(l){return l.description}};function r(l){return l.charCodeAt(0).toString(16).toUpperCase()}function i(l){return l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+r(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+r(g)})}function o(l){return l.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+r(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+r(g)})}function A(l){return e[l.type](l)}function p(l){var g=l.map(A),h,m;if(g.sort(),g.length>0){for(h=1,m=1;h<g.length;h++)g[h-1]!==g[h]&&(g[m]=g[h],m++);g.length=m}switch(g.length){case 1:return g[0];case 2:return g[0]+" or "+g[1];default:return g.slice(0,-1).join(", ")+", or "+g[g.length-1]}}function u(l){return l?'"'+i(l)+'"':"end of input"}return"Expected "+p(n)+" but "+u(t)+" found."};function Ca(){return{a:1,c:0,e:0,b:0,d:-1,f:0}}function ya(){return{a:-1,c:0,e:0,b:0,d:1,f:0}}class Ea{constructor(t,e,r,i){Xe(this,"xl");Xe(this,"xh");Xe(this,"yl");Xe(this,"yh");this.xl=t,this.xh=e,this.yl=r,this.yh=i}contains(t,e){return this.xl<t&&t<this.xh&&this.yl<e&&e<this.yh}}class ze{constructor(t,e){Xe(this,"x",0);Xe(this,"y",0);this.x=t,this.y=e}}class Qn extends ze{constructor(e,r,i=0,o=-1){super(e,r);Xe(this,"color",0);Xe(this,"tileIdx");this.color=i,this.tileIdx=o}minus(e){return new Qn(this.x-e.x,this.y-e.y,this.color,this.tileIdx)}static mulPoint(e,r){return new Qn(e.a*r.x+e.c*r.y+e.e,e.b*r.x+e.d*r.y+e.f,r.color,r.tileIdx)}}class Wr{constructor(t,e,r,i,o=0,A=-1){Xe(this,"x1");Xe(this,"y1");Xe(this,"x2");Xe(this,"y2");Xe(this,"connected_11");Xe(this,"connected_12");Xe(this,"connected_21");Xe(this,"connected_22");Xe(this,"color",0);Xe(this,"tileIdx");this.x1=t,this.y1=e,this.x2=r,this.y2=i,this.color=o,this.connected_11=[],this.connected_12=[],this.connected_21=[],this.connected_22=[],this.tileIdx=A}minus(t){return new Wr(this.x1-t.x,this.y1-t.y,this.x2-t.x,this.y2-t.y,this.color,this.tileIdx)}toString(){return"("+this.x1+" "+this.y1+") ("+this.x2+" "+this.y2+")"}}var ba=new function(){var n=this;n.thinningZS=function(u,l,g){var h=!0;do h&=t(u,l,g,0),h&=t(u,l,g,1);while(h);return u};function t(u,l,g,h){for(var m=0,v=1;v<g-1;v++)for(var B=1;B<l-1;B++){var Q=u[(v-1)*l+B]&1,D=u[(v-1)*l+B+1]&1,I=u[v*l+B+1]&1,T=u[(v+1)*l+B+1]&1,w=u[(v+1)*l+B]&1,b=u[(v+1)*l+B-1]&1,U=u[v*l+B-1]&1,L=u[(v-1)*l+B-1]&1,Y=(Q==0&&D==1)+(D==0&&I==1)+(I==0&&T==1)+(T==0&&w==1)+(w==0&&b==1)+(b==0&&U==1)+(U==0&&L==1)+(L==0&&Q==1),z=Q+D+I+T+w+b+U+L,Z=h==0?Q*I*w:Q*I*U,ae=h==0?I*w*U:Q*w*U;Y==1&&z>=2&&z<=6&&Z==0&&ae==0&&(u[v*l+B]|=2)}for(var v=0;v<g*l;v++){var me=u[v]>>1,ge=u[v]&1;u[v]=ge&!me,!m&&u[v]!=ge&&(m=1)}return m}function e(u,l,g,h,m,v,B){for(var Q=m;Q<m+B;Q++)for(var D=h;D<h+v;D++)if(u[Q*l+D])return!0;return!1}function r(u,l,g,h,m,v){var B=(v>>1&1)>0,Q=(v>>0&1)>0,D=-1,I=4,T=l[g].length-1,w=l[g][Q?0:T];if(Math.abs(w[m?1:0]-h)>0)return!1;for(var b=0;b<u.length;b++){var U=u[b].length-1,L=u[b][B?0:U];if(!(Math.abs(L[m?1:0]-h)>1)){var Y=Math.abs(L[m?0:1]-w[m?0:1]);Y<I&&(D=b,I=Y)}}return D!=-1?(B&&Q?(l[g].reverse(),u[D]=l[g].concat(u[D])):!B&&Q?u[D]=u[D].concat(l[g]):B&&!Q?u[D]=l[g].concat(u[D]):(l[g].reverse(),u[D]=u[D].concat(l[g])),l.splice(g,1),!0):!1}var i=1,o=2;function A(u,l,g,h){for(var m=l.length-1;m>=0;m--)if(h==i){if(r(u,l,m,g,!1,1)||r(u,l,m,g,!1,3)||r(u,l,m,g,!1,0)||r(u,l,m,g,!1,2))continue}else if(r(u,l,m,g,!0,1)||r(u,l,m,g,!0,3)||r(u,l,m,g,!0,0)||r(u,l,m,g,!0,2))continue;l.map(v=>u.push(v))}function p(u,l,g,h,m,v,B){for(var Q=[],D=!1,I=-1,T=-1,w=0;w<B+B+v+v-4;w++){var b,U;w<v?(b=m+0,U=h+w):w<v+B-1?(b=m+w-v+1,U=h+v-1):w<v+B+v-2?(b=m+B-1,U=h+v-(w-v-B+3)):(b=m+B-(w-v-B-v+4),U=h+0),u[b*l+U]?D||(D=!0,Q.push([[U,b],[Math.floor(h+v/2),Math.floor(m+B/2)]])):D&&(Q[Q.length-1][0][0]=Math.floor((Q[Q.length-1][0][0]+T)/2),Q[Q.length-1][0][1]=Math.floor((Q[Q.length-1][0][1]+I)/2),D=!1),I=b,T=U}if(Q.length==2)Q=[[Q[0][0],Q[1][0]]];else if(Q.length>2){for(var L=0,Y=-1,z=-1,b=m+1;b<m+B-1;b++)for(var U=h+1;U<h+v-1;U++){var Z=u[b*l-l+U-1]+u[b*l-l+U]+u[b*l-l+U-1+1]+u[b*l+U-1]+u[b*l+U]+u[b*l+U+1]+u[b*l+l+U-1]+u[b*l+l+U]+u[b*l+l+U+1];(Z>L||Z==L&&Math.abs(U-(h+v/2))+Math.abs(b-(m+B/2))<Math.abs(z-(h+v/2))+Math.abs(Y-(m+B/2)))&&(Y=b,z=U,L=Z)}if(Y!=-1)for(var b=0;b<Q.length;b++)Q[b][1]=[z,Y]}return Q}n.traceSkeleton=function(u,l,g,h,m,v,B,Q,D,I){var T=[];if(D==0)return T;if(v<=Q&&B<=Q)return p(u,l,g,h,m,v,B);var w=l+g,b=-1,U=-1;if(B>Q){for(var L=m+3;L<m+B-3;L++)if(!(u[L*l+h]||u[(L-1)*l+h]||u[L*l+h+v-1]||u[(L-1)*l+h+v-1])){for(var Y=0,z=h;z<h+v;z++)Y+=u[L*l+z],Y+=u[(L-1)*l+z];(Y<w||Y==w&&Math.abs(L-(m+B/2))<Math.abs(b-(m+B/2)))&&(w=Y,b=L)}}if(v>Q){for(var z=h+3;z<h+v-3;z++)if(!(u[l*m+z]||u[l*(m+B)-l+z]||u[l*m+z-1]||u[l*(m+B)-l+z-1])){for(var Y=0,L=m;L<m+B;L++)Y+=u[L*l+z],Y+=u[L*l+z-1];(Y<w||Y==w&&Math.abs(z-(h+v/2))<Math.abs(U-(h+v/2)))&&(w=Y,b=-1,U=z)}}if(B>Q&&b!=-1){var Z=[h,m,v,b-m],ae=[h,b,v,m+B-b];e(u,l,g,Z[0],Z[1],Z[2],Z[3])&&(I!=null&&I.push(Z),T=n.traceSkeleton(u,l,g,Z[0],Z[1],Z[2],Z[3],Q,D-1,I)),e(u,l,g,ae[0],ae[1],ae[2],ae[3])&&(I!=null&&I.push(ae),A(T,n.traceSkeleton(u,l,g,ae[0],ae[1],ae[2],ae[3],Q,D-1,I),b,o))}else if(v>Q&&U!=-1){var Z=[h,m,U-h,B],ae=[U,m,h+v-U,B];e(u,l,g,Z[0],Z[1],Z[2],Z[3])&&(I!=null&&I.push(Z),T=n.traceSkeleton(u,l,g,Z[0],Z[1],Z[2],Z[3],Q,D-1,I)),e(u,l,g,ae[0],ae[1],ae[2],ae[3])&&(I!=null&&I.push(ae),A(T,n.traceSkeleton(u,l,g,ae[0],ae[1],ae[2],ae[3],Q,D-1,I),U,i))}return b==-1&&U==-1&&(T=p(u,l,g,h,m,v,B)),T},n.trace=function(u,l,g,h){n.thinningZS(u,l,g);var m=[],v=n.traceSkeleton(u,l,g,0,0,l,g,h,999,m);return{rects:m,polylines:v,width:l,height:g,thinImag:u}},n.onload=function(u){u()},n.fromBoolArray=function(u,l,g){return n.trace(u.map(h=>h?1:0),l,g,10)},n.fromCharString=function(u,l,g){return n.trace(u.split("").map(h=>h.charCodeAt(0)),l,g,10)},n.imageDataToBinary=function(u){u.width,u.height;for(var l=u.data,g=[],h=0;h<l.length;h+=4)l[h]||l[h+1]||l[h+2]?g.push(1):g.push(0);return g},n.fromImageData=function(u,l){var g=u.width,h=u.height,m=n.imageDataToBinary(u);return n.trace(m,g,h,l)},n.fromCanvas=function(u){var l=u.getContext("2d"),g=l.getImageData(0,0,u.width,u.height);return n.fromImageData(g)},n.visualize=function(u,l){var g=u.rects,h=u.polylines;l==null&&(l={});var m=l.scale==null?1:l.scale,v=l.strokeWidth==null?1:l.strokeWidth,B=l.rects==null||l.rects==!0?1:0,Q=(l.keypoints=l.keypoints==!1)?0:1,D=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="${u.width*m}" height="${u.height*m}">`;if(B)for(var I=0;I<g.length;I++)D+=`<rect fill="none" stroke="gray" x="${g[I][0]*m}" y="${g[I][1]*m}" width="${g[I][2]*m}" height="${g[I][3]*m}" />`;for(var I=0;I<h.length;I++)D+=`<path fill="none" stroke-width="${v}" stroke="rgb(${Math.floor(Math.random()*200)},${Math.floor(Math.random()*200)},${Math.floor(Math.random()*200)})" d="M${h[I].map(b=>b[0]*m+","+b[1]*m).join(" L")}"/>`;if(Q)for(var I=0;I<h.length;I++)for(var T=0;T<h[I].length;T++)D+=`<rect fill="none" stroke="red" x="${h[I][T][0]*m-1}" y="${h[I][T][1]*m-1}" width="2" height="2"/>`;return D+="</svg>",D}};class wr{constructor(t,e,r){Xe(this,"point");Xe(this,"parent",null);Xe(this,"children",[]);Xe(this,"pixel",[]);Xe(this,"loops",[]);Xe(this,"segmentRef",null);this.point=t,this.parent=e,e!=null&&e.children.push(this),this.pixel=r}}const V=class V{static updateSkelleton(t,e,r,i,o,A){if(t==null)return[];V.ctx=t,V.imgX=e,V.imgY=r,V.tileWidth=i,V.tileHeight=o,V.deviation=A;let p=t.getImageData(e,r,i,o);V.fixSmallPassages(p);let u=ba.imageDataToBinary(p),l=ba.thinningZS(u,i,o);V.erodeKeepCrossings(l);let{thinImagRGB:g,crossings:h,ends:m}=V.detectEndsAndCrossings(l,p),v=V.vectorize(l,h,m);V.visualizeTreeRec(v,g),V.visualizePoints(h,g,[0,255,255]),V.visualizePoints(m,g,[255,0,0]);var B=new ImageData(new Uint8ClampedArray(g),i,o);t.putImageData(B,e,r),V.subdivideTreeRec(v);let Q=[];return V.segemntsFromTreeRec(v,Q),Q}static visualizePoints(t,e,r){t.forEach(i=>{e[V.fromXY(i.x,i.y)*4]=r[0],e[V.fromXY(i.x,i.y)*4+1]=r[1],e[V.fromXY(i.x,i.y)*4+2]=r[2]})}static detectEndsAndCrossings(t,e){let r=0,i=0,o=[],A=[],p=[];return t.forEach(u=>{let{x:l,y:g}=V.fromI(r),h=t[V.fromXY(l-1,g-1)],m=t[V.fromXY(l,g-1)],v=t[V.fromXY(l+1,g-1)],B=t[V.fromXY(l-1,g)],Q=t[V.fromXY(l+1,g)],D=t[V.fromXY(l-1,g+1)],I=t[V.fromXY(l,g+1)],T=t[V.fromXY(l+1,g+1)];B&&Q&&I&&!h&&!m&&!v&&!D&&!T||m&&B&&I&&!h&&!v&&!Q&&!D&&!T||m&&B&&Q&&!h&&!v&&!D&&!I&&!T||m&&Q&&I&&!h&&!v&&!B&&!D&&!T||(v&&B&&I&&!h&&!m&&!Q&&!D&&!T||m&&B&&T&&!h&&!v&&!Q&&!D&&!I||m&&Q&&D&&!h&&!v&&!B&&!I&&!T||h&&Q&&I&&!m&&!v&&!B&&!D&&!T)||(h&&v&&I&&!m&&!B&&!Q&&!D&&!T||v&&B&&T&&!h&&!m&&!Q&&!D&&!I||m&&D&&T&&!h&&!v&&!B&&!Q&&!I||h&&Q&&D&&!m&&!v&&!B&&!I&&!T)||(h&&D&&T&&!m&&!v&&!B&&!Q&&!I||h&&v&&D&&!m&&!B&&!Q&&!I&&!T||h&&v&&T&&!m&&!B&&!Q&&!D&&!I||v&&D&&T&&!h&&!m&&!B&&!Q&&!I)?(o.push(255),o.push(0),o.push(255),o.push(255),t[r]=2,A.push(new ze(l,g))):u&&(h&&!m&&!v&&!B&&!Q&&!D&&!I&&!T||m&&!h&&!v&&!B&&!Q&&!D&&!I&&!T||v&&!h&&!m&&!B&&!Q&&!D&&!I&&!T||B&&!h&&!m&&!v&&!Q&&!D&&!I&&!T||Q&&!h&&!m&&!v&&!B&&!D&&!I&&!T||D&&!h&&!m&&!v&&!B&&!Q&&!I&&!T||I&&!h&&!m&&!v&&!B&&!Q&&!D&&!T||T&&!h&&!m&&!v&&!B&&!Q&&!D&&!I)?(o.push(255),o.push(255),o.push(0),o.push(255),t[r]=3,p.push(new ze(l,g))):u?(o.push(0),o.push(0),o.push(255),o.push(255)):(o.push(e.data[i]),o.push(e.data[i+1]),o.push(e.data[i+2]),o.push(255)),r++,i+=4}),{thinImagRGB:o,crossings:A,ends:p}}static erodeKeepCrossings(t){let e=0;t.forEach(r=>{let{x:i,y:o}=V.fromI(e),A=t[V.fromXY(i-1,o-1)],p=t[V.fromXY(i,o-1)],u=t[V.fromXY(i+1,o-1)],l=t[V.fromXY(i-1,o)],g=t[V.fromXY(i+1,o)],h=t[V.fromXY(i-1,o+1)],m=t[V.fromXY(i,o+1)],v=t[V.fromXY(i+1,o+1)];(r&&g&&m||r&&g&&p||r&&l&&p||r&&l&&m)&&!(l&&g&&m||p&&l&&m||p&&l&&g||p&&g&&m||(u&&l&&m||p&&l&&v||p&&g&&h||A&&g&&m)||(A&&u&&m||u&&l&&v||p&&h&&v||A&&g&&h)||(A&&h&&v||A&&u&&h||A&&u&&v||u&&h&&v))&&(t[e]=0),e++})}static isBlack(t,e){return e.data[t]==0&&e.data[t+1]==0&&e.data[t+2]==0}static fixSmallPassages(t){for(let e=0;e<t.width;e++)for(let r=0;r<t.height;r++)if(!V.isBlack(this.fromXY(e,r)*4,t)){V.isBlack(this.fromXY(e-1,r)*4,t)&&V.isBlack(this.fromXY(e+1,r)*4,t)&&V.isBlack(this.fromXY(e,r-1)*4,t)&&V.isBlack(this.fromXY(e,r+1)*4,t)&&(t.data[this.fromXY(e,r)*4]=0,t.data[this.fromXY(e,r)*4+1]=0,t.data[this.fromXY(e,r)*4+2]=0,t.data[this.fromXY(e,r)*4+3]=0);let i=[];i.push(new ze(e-1,r-1)),i.push(new ze(e-1,r)),i.push(new ze(e-1,r+1)),i.push(new ze(e,r+1)),i.push(new ze(e+1,r+1)),i.push(new ze(e+1,r)),i.push(new ze(e+1,r-1)),i.push(new ze(e,r-1));let o=V.isBlack(this.fromXY(i[0].x,i[0].y)*4,t),A=0,p=[0,0,0,0];for(let u=1;u<8;u++){let l=V.isBlack(this.fromXY(i[u].x,i[u].y)*4,t);o!=l&&(A+=1,o=l),l||(p=[t.data[this.fromXY(e,r)*4],t.data[this.fromXY(e,r)*4+1],t.data[this.fromXY(e,r)*4+2],t.data[this.fromXY(e,r)*4+3]])}if(A>3)for(let u=0;u<8;u++)t.data[this.fromXY(i[u].x,i[u].y)*4]=p[0],t.data[this.fromXY(i[u].x,i[u].y)*4+1]=p[1],t.data[this.fromXY(i[u].x,i[u].y)*4+2]=p[2],t.data[this.fromXY(i[u].x,i[u].y)*4+3]=p[3]}}static getBorderImg(t){let e=Array(t.length);for(let r=0;r<V.tileWidth;r++)for(let i=0;i<V.tileHeight;i++)t[this.fromXY(r,i)]==0&&(t[this.fromXY(r-1,i)]==1||t[this.fromXY(r+1,i)]==1||t[this.fromXY(r,i-1)]==1||t[this.fromXY(r,i+1)]==1)?e[this.fromXY(r,i)]=1:e[this.fromXY(r,i)]=0;return e}static calcNeighbourCnt16(t,e,r){t[V.fromXY(e-2,r-2)],t[V.fromXY(e-1,r-2)],t[V.fromXY(e,r-2)],t[V.fromXY(e+1,r-2)],t[V.fromXY(e+2,r-2)],t[V.fromXY(e+2,r-1)],t[V.fromXY(e+2,r)],t[V.fromXY(e+2,r+1)],t[V.fromXY(e+2,r+2)],t[V.fromXY(e+1,r+2)],t[V.fromXY(e,r+2)],t[V.fromXY(e-1,r+2)],t[V.fromXY(e-2,r+2)],t[V.fromXY(e-2,r+1)],t[V.fromXY(e-2,r)],t[V.fromXY(e-2,r-1)]}static calcNeighbourCnt8(t,e,r){let i=0;return t[V.fromXY(e-1,r-1)]&&i++,t[V.fromXY(e,r-1)]&&i++,t[V.fromXY(e+1,r-1)]&&i++,t[V.fromXY(e+1,r)]&&i++,t[V.fromXY(e+1,r+1)]&&i++,t[V.fromXY(e,r+1)]&&i++,t[V.fromXY(e-1,r+1)]&&i++,t[V.fromXY(e-1,r)]&&i++,i}static calcNeighbourCnt4(t,e,r){let i=0;return t[V.fromXY(e,r-1)]&&i++,t[V.fromXY(e+1,r)]&&i++,t[V.fromXY(e,r+1)]&&i++,t[V.fromXY(e-1,r)]&&i++,i}static fromI(t){return{x:t%V.tileWidth,y:Math.floor(t/V.tileWidth)}}static fromXY(t,e){return e*V.tileWidth+t}static vectorize(t,e,r){let i=null;if(r.length<=0){for(let A=0;A<t.length;A++)if(t[A]!=0){i=new wr(new ze(this.fromI(A).x,this.fromI(A).y),null,[]);break}if(i==null)return null}else i=new wr(r[0],null,[]);return t[V.fromXY(i.point.x,i.point.y)]=4,V.get1Neighbours(t,i.point.x,i.point.y).forEach(A=>{t[V.fromXY(A.x,A.y)]<4&&V.vectorizeRec(i,A,[i.point],t,e,r)}),i}static vectorizeRec(t,e,r,i,o,A){if(r.push(e),i[V.fromXY(e.x,e.y)]==2)if(i[V.fromXY(e.x,e.y)]=5,(e.x-t.point.x)*(e.x-t.point.x)+(e.y-t.point.y)*(e.y-t.point.y)>4){let u=new wr(e,t,r);V.get1Neighbours(i,e.x,e.y).forEach(g=>{i[V.fromXY(g.x,g.y)]<4&&V.vectorizeRec(u,g,[],i,o,A)})}else t.pixel.push(e),i[V.fromXY(t.point.x,t.point.y)]=4,t.point=e,V.get1Neighbours(i,e.x,e.y).forEach(l=>{i[V.fromXY(l.x,l.y)]<4&&V.vectorizeRec(t,l,[],i,o,A)});else if(i[V.fromXY(e.x,e.y)]==3)i[V.fromXY(e.x,e.y)]=4,new wr(e,t,r);else if(i[V.fromXY(e.x,e.y)]==1){i[V.fromXY(e.x,e.y)]=4;let p=V.get1Neighbours(i,e.x,e.y);p.length>2&&(p=p.filter(u=>{let l=!0;return V.get1Neighbours(i,t.point.x,t.point.y).forEach(g=>{if(g.x==u.x&&g.y==u.y){l=!1;return}}),l})),A.length==0&&p.length==2&&i[V.fromXY(p[0].x,p[0].y)]==4&&i[V.fromXY(p[1].x,p[1].y)]==4&&new wr(e,t,r),p.forEach(u=>{if(i[V.fromXY(u.x,u.y)]<4)V.vectorizeRec(t,u,r,i,o,A);else if(i[V.fromXY(u.x,u.y)]==5&&r.length>1)if(u.x==t.point.x&&u.y==t.point.y){if(r.length>=3){let l=Math.floor(r.length/2),g=new wr(r[l],t,r.splice(0,l));t.loops.push(g)}}else{let l=new wr(u,t,r);t.loops.push(l)}})}}static get1Neighbours(t,e,r){let i=[];return t[V.fromXY(e-1,r-1)]&&i.push(new ze(e-1,r-1)),t[V.fromXY(e-1,r)]&&i.push(new ze(e-1,r)),t[V.fromXY(e-1,r+1)]&&i.push(new ze(e-1,r+1)),t[V.fromXY(e,r-1)]&&i.push(new ze(e,r-1)),t[V.fromXY(e,r+1)]&&i.push(new ze(e,r+1)),t[V.fromXY(e+1,r-1)]&&i.push(new ze(e+1,r-1)),t[V.fromXY(e+1,r)]&&i.push(new ze(e+1,r)),t[V.fromXY(e+1,r+1)]&&i.push(new ze(e+1,r+1)),i.sort((o,A)=>t[V.fromXY(A.x,A.y)]-t[V.fromXY(o.x,o.y)])}static segemntsFromTreeRec(t,e){var r,i;if(t==null)return[];t.children.forEach(o=>{let A=new Wr(t.point.x,t.point.y,o.point.x,o.point.y);o.segmentRef=A,t.parent!=null&&(A.connected_12.push(t.segmentRef),t.segmentRef.connected_21.push(A)),e.push(A),V.segemntsFromTreeRec(o,e)});for(let o=0;o<t.children.length;o++)for(let A=0;A<t.children.length;A++)o!=A&&((r=t.children[o].segmentRef)==null||r.connected_11.push(t.children[A].segmentRef),(i=t.children[A].segmentRef)==null||i.connected_11.push(t.children[o].segmentRef));return e}static visualizeTreeRec(t,e){if(t==null)return;let r=V.getRandomColor();t.pixel.forEach(i=>{e[V.fromXY(i.x,i.y)*4]=r[0],e[V.fromXY(i.x,i.y)*4+1]=r[1],e[V.fromXY(i.x,i.y)*4+2]=r[2]}),t.children.forEach(i=>{V.visualizeTreeRec(i,e)})}static subdivideTreeRec(t){t!=null&&(t.children.forEach(e=>{if(e.pixel.length>10){let r=Math.floor(e.pixel.length/2),i=e.pixel[r],o=i.x,A=i.y,p=t.point.x,u=t.point.y,l=e.point.x,g=e.point.y,h,m=((o-p)*(l-p)+(A-u)*(g-u))/((g-u)*(g-u)+(l-p)*(l-p));if(m<0?h=Math.sqrt((p-o)*(p-o)+(u-A)*(u-A)):m>1?h=Math.sqrt((l-o)*(l-o)+(g-A)*(g-A)):h=((g-u)*o-(l-p)*A+l*u-g*p)/Math.sqrt((g-u)*(g-u)+(l-p)*(l-p)),h=Math.abs(h),h>V.deviation){let v=new wr(i,null,[]);v.parent=t,v.children=[e],v.pixel=e.pixel.slice(0,r+1),e.pixel=e.pixel.slice(r+1,e.pixel.length);for(let B=0;B<t.children.length;B++)t.children[B]==e&&(t.children[B]=v);e.parent=v,V.subdivideTreeRec(t)}}V.subdivideTreeRec(e)}),t.loops.forEach(e=>{V.subdivideTreeRec(e)}))}static getRandomColor(){for(var t=[],e=0;e<3;e++)t.push(Math.floor(Math.random()*255));return t}};Xe(V,"ctx"),Xe(V,"imgX"),Xe(V,"imgY"),Xe(V,"tileWidth"),Xe(V,"tileHeight"),Xe(V,"deviation");let Zs=V;const fi=[];function Us(n,t=Dt){let e;const r=new Set;function i(p){if(Sn(n,p)&&(n=p,e)){const u=!fi.length;for(const l of r)l[1](),fi.push(l,n);if(u){for(let l=0;l<fi.length;l+=2)fi[l][0](fi[l+1]);fi.length=0}}}function o(p){i(p(n))}function A(p,u=Dt){const l=[p,u];return r.add(l),r.size===1&&(e=t(i,o)||Dt),p(n),()=>{r.delete(l),r.size===0&&e&&(e(),e=null)}}return{set:i,update:o,subscribe:A}}const Vt=new ze(300,300);let _s=Us({sitePoints:[],siteSegments:[],tileWidth:Vt.x,tileHeight:Vt.y,tileCenter:new ze(0,0),imageOffset:new ze(0,0)}),$s=Us({image:null,imageData:null,imageDataProcessed:null}),Ts=Us({symGroup:"",IH:-1,origin:"",name:"",image:"",tilingScaleFactor:1,parameterNames:null}),ea=Us([]);function Mo(n){let t=!1;for(let e=0;e<n.length;e++){for(let r=0;r<n.length;r++)if(e!=r&&El(n[e],n[r])){console.log("intersect "+n[e].toString()+" "+n[r].toString()),t=!0;break}if(t)break}return t}function El(n,t){let e=((n.x1-t.x1)*(t.y1-t.y2)-(n.y1-t.y1)*(t.x1-t.x2))/((n.x1-n.x2)*(t.y1-t.y2)-(n.y1-n.y2)*(t.x1-t.x2)),r=-((n.x1-n.x2)*(n.y1-t.y1)-(n.y1-n.y2)*(n.x1-t.x1))/((n.x1-n.x2)*(t.y1-t.y2)-(n.y1-n.y2)*(t.x1-t.x2)),i=0<e&&e<1&&0<r&&r<1;return i&&(n.x1==t.x1&&n.y1==t.y1||n.x1==t.x1&&n.y2==t.y2||n.x2==t.x2&&n.y1==t.y1||n.x2==t.x2&&n.y2==t.y2)?(console.log("intersect is at endpoint"),!1):i}const bl="/escherization/assets/Tux-DF1pLvDX.png";function Ba(n,t,e){const r=n.slice();return r[62]=t[e],r[64]=e,r}function wa(n,t,e){const r=n.slice();return r[65]=t[e],r[64]=e,r}function Qa(n,t,e){const r=n.slice();return r[67]=t[e],r[64]=e,r}function Bl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">open_with</span>',d(t,"class","bg-slate-50 hover:bg-slate-200 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){te(i,t,o),e||(r=le(t,"click",n[28]),e=!0)},p:Dt,d(i){i&&ee(t),e=!1,r()}}}function wl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">open_with</span>',d(t,"class","bg-sky-500 hover:bg-sky-300 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){te(i,t,o),e||(r=le(t,"click",n[27]),e=!0)},p:Dt,d(i){i&&ee(t),e=!1,r()}}}function Ql(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">add</span> <div class="relative -top-4 left-3 text-xs">S</div>',d(t,"class","bg-slate-50 hover:bg-slate-200 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){te(i,t,o),e||(r=le(t,"click",n[30]),e=!0)},p:Dt,d(i){i&&ee(t),e=!1,r()}}}function kl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">add</span> <div class="relative -top-4 left-3 text-xs">S</div>',d(t,"class","bg-sky-500 hover:bg-sky-300 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){te(i,t,o),e||(r=le(t,"click",n[29]),e=!0)},p:Dt,d(i){i&&ee(t),e=!1,r()}}}function Sl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">delete</span>',d(t,"class","bg-slate-50 hover:bg-slate-200 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){te(i,t,o),e||(r=le(t,"click",n[32]),e=!0)},p:Dt,d(i){i&&ee(t),e=!1,r()}}}function Dl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">delete</span>',d(t,"class","bg-sky-500 hover:bg-sky-300 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){te(i,t,o),e||(r=le(t,"click",n[31]),e=!0)},p:Dt,d(i){i&&ee(t),e=!1,r()}}}function ka(n){let t,e,r,i,o;return{c(){t=yt("circle"),d(t,"id","sitePoint_"+n[64]),d(t,"class","sitePoint draggable svelte-1nasrnd"),d(t,"style",n[15]),d(t,"cx",e=n[67].x),d(t,"cy",r=n[67].y),d(t,"r","2"),d(t,"fill","black")},m(A,p){te(A,t,p),i||(o=le(t,"click",n[35]),i=!0)},p(A,p){p[0]&32768&&d(t,"style",A[15]),p[0]&1024&&e!==(e=A[67].x)&&d(t,"cx",e),p[0]&1024&&r!==(r=A[67].y)&&d(t,"cy",r)},d(A){A&&ee(t),i=!1,o()}}}function Sa(n){let t,e,r,i,o,A,p,u,l,g;return{c(){t=yt("path"),r=yt("circle"),A=yt("circle"),d(t,"id","siteSegment_"+n[64]),d(t,"d",e="M "+n[65].x1+" "+n[65].y1+" L "+n[65].x2+" "+n[65].y2),d(t,"stroke","red"),d(t,"stroke-width","1"),d(t,"fill","none"),d(r,"id","siteSegmentPoint_"+n[64]*2),d(r,"class","siteSegmentPoint draggable svelte-1nasrnd"),d(r,"style",n[15]),d(r,"cx",i=n[65].x1),d(r,"cy",o=n[65].y1),d(r,"r","4"),d(r,"fill","red"),d(A,"id","siteSegmentPoint_"+(n[64]*2+1)),d(A,"class","siteSegmentPoint draggable svelte-1nasrnd"),d(A,"style",n[15]),d(A,"cx",p=n[65].x2),d(A,"cy",u=n[65].y2),d(A,"r","4"),d(A,"fill","red")},m(h,m){te(h,t,m),te(h,r,m),te(h,A,m),l||(g=[le(r,"click",n[36]),le(A,"click",n[37])],l=!0)},p(h,m){m[0]&2048&&e!==(e="M "+h[65].x1+" "+h[65].y1+" L "+h[65].x2+" "+h[65].y2)&&d(t,"d",e),m[0]&32768&&d(r,"style",h[15]),m[0]&2048&&i!==(i=h[65].x1)&&d(r,"cx",i),m[0]&2048&&o!==(o=h[65].y1)&&d(r,"cy",o),m[0]&32768&&d(A,"style",h[15]),m[0]&2048&&p!==(p=h[65].x2)&&d(A,"cx",p),m[0]&2048&&u!==(u=h[65].y2)&&d(A,"cy",u)},d(h){h&&(ee(t),ee(r),ee(A)),l=!1,An(g)}}}function Da(n){let t,e,r,i,o,A,p,u,l,g;return{c(){t=yt("path"),r=yt("circle"),A=yt("circle"),d(t,"d",e="M "+n[12].x1+" "+n[12].y1+" L "+n[12].x2+" "+n[12].y2),d(t,"stroke","red"),d(t,"stroke-width","1"),d(t,"fill","none"),d(r,"class","siteSegmentPoint draggable svelte-1nasrnd"),d(r,"cx",i=n[12].x1),d(r,"cy",o=n[12].y1),d(r,"r","2"),d(r,"fill","red"),d(A,"class","siteSegmentPoint draggable svelte-1nasrnd"),d(A,"cx",p=n[12].x2),d(A,"cy",u=n[12].y2),d(A,"r","2"),d(A,"fill","red")},m(h,m){te(h,t,m),te(h,r,m),te(h,A,m),l||(g=le(A,"click",n[38]),l=!0)},p(h,m){m[0]&4096&&e!==(e="M "+h[12].x1+" "+h[12].y1+" L "+h[12].x2+" "+h[12].y2)&&d(t,"d",e),m[0]&4096&&i!==(i=h[12].x1)&&d(r,"cx",i),m[0]&4096&&o!==(o=h[12].y1)&&d(r,"cy",o),m[0]&4096&&p!==(p=h[12].x2)&&d(A,"cx",p),m[0]&4096&&u!==(u=h[12].y2)&&d(A,"cy",u)},d(h){h&&(ee(t),ee(r),ee(A)),l=!1,g()}}}function Ta(n){let t,e;return{c(){t=yt("path"),d(t,"id","outline_"+n[64]),d(t,"d",e="M "+n[62].startPoint.x+" "+n[62].startPoint.y+" L "+n[62].endPoint.x+" "+n[62].endPoint.y),d(t,"stroke","yellow"),d(t,"stroke-width","2"),d(t,"fill","none")},m(r,i){te(r,t,i)},p(r,i){i[0]&16384&&e!==(e="M "+r[62].startPoint.x+" "+r[62].startPoint.y+" L "+r[62].endPoint.x+" "+r[62].endPoint.y)&&d(t,"d",e)},d(r){r&&ee(t)}}}function Tl(n){let t,e,r,i,o,A,p,u,l,g,h,m,v,B,Q,D,I,T,w,b,U,L,Y,z,Z,ae,me,ge,Ee,pe,W,Ne,Ve,we,Ke,$,be,Se,We,Ue,dt,Ze,jt,ft;function Ie(J,Me){return J[8]=="move"?wl:Bl}let X=Ie(n),ut=X(n);function Mt(J,Me){return J[8]=="addSegment"?kl:Ql}let Pt=Mt(n),Qe=Pt(n);function De(J,Me){return J[8]=="delete"?Dl:Sl}let Tt=De(n),Ye=Tt(n),bt=Ut(n[10]),lt=[];for(let J=0;J<bt.length;J+=1)lt[J]=ka(Qa(n,bt,J));let gt=Ut(n[11]),_t=[];for(let J=0;J<gt.length;J+=1)_t[J]=Sa(wa(n,gt,J));let Je=n[12]!=null&&Da(n),Re=Ut(n[14]),$e=[];for(let J=0;J<Re.length;J+=1)$e[J]=Ta(Ba(n,Re,J));return W=new dr({props:{min:1,max:50,initialValue:n[7]}}),W.$on("change",n[40]),{c(){t=O("div"),e=O("div"),r=O("div"),i=O("div"),ut.c(),o=ne(),Qe.c(),A=ne(),Ye.c(),p=ne(),u=O("div"),l=O("canvas"),g=ne(),h=O("div"),m=yt("svg"),v=yt("g"),B=yt("rect"),D=yt("circle");for(let J=0;J<lt.length;J+=1)lt[J].c();w=xt();for(let J=0;J<_t.length;J+=1)_t[J].c();b=xt(),Je&&Je.c(),U=xt();for(let J=0;J<$e.length;J+=1)$e[J].c();Y=ne(),z=O("div"),Z=O("p"),ae=Gt(n[13]),me=ne(),ge=O("div"),Ee=O("label"),Ee.textContent="Deviation Tolerance",pe=ne(),Ct(W.$$.fragment),Ne=ne(),Ve=O("button"),Ve.innerHTML=`<span class="material-symbols-outlined me-2">upload</span>
            Upload Image`,we=ne(),Ke=O("button"),Ke.innerHTML=`<span class="material-symbols-outlined me-2">image</span>
            Use Example Image`,$=ne(),be=O("button"),be.innerHTML=`<span class="material-symbols-outlined me-2">download</span>
            Download Image`,Se=ne(),We=O("button"),We.innerHTML=`<span class="material-symbols-outlined me-2">download</span>
            Download SVG`,Ue=ne(),dt=O("input"),d(i,"class","tools flex flex-col"),d(l,"class","uploadCanvas bg-slate-50 border border-sky-600 col-start-1 row-start-1"),d(l,"width",Vt.x),d(l,"height",Vt.y),Jt(l,"width",Vt.x+"px"),Jt(l,"height",Vt.y+"px"),d(B,"width",n[3]),d(B,"height",n[4]),d(B,"class","svgBackground svelte-1nasrnd"),d(B,"style",Q=n[15]+";fill:none"),d(D,"class","tileCenter draggable svelte-1nasrnd"),d(D,"style",n[15]),d(D,"id","origin"),d(D,"cx",I=n[9].x),d(D,"cy",T=n[9].y),d(D,"r","5"),d(D,"fill","pink"),d(v,"transform",L="translate("+n[5]+" "+n[6]+")"),d(m,"id","previewSvg"),d(m,"width",Vt.x),d(m,"height",Vt.y),d(m,"viewBox","0 0 "+Vt.x+" "+Vt.y),d(m,"xmlns","http://www.w3.org/2000/svg"),d(h,"class","overdrawSvg col-start-1 row-start-1"),d(Z,"class","text-red-700 text-sm break-words"),d(z,"class","lastErrorContainer max-w-72"),d(u,"class","grid grid-cols-1"),d(r,"class","flex flex-row items-center"),d(Ee,"for","basic-range"),d(ge,"class","resolution-slider min-w-72 font-sans text-center text-black"),_r(ge,"purple-theme",!1),d(Ve,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(Ke,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-center inline-flex items-center min-w-52"),d(be,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(We,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(dt,"type","file"),Jt(dt,"display","none"),d(dt,"accept",".jpg, .jpeg, .png"),d(e,"class","flex flex-col items-center gap-4 place-content-start")},m(J,Me){te(J,t,Me),S(t,e),S(e,r),S(r,i),ut.m(i,null),S(i,o),Qe.m(i,null),S(i,A),Ye.m(i,null),S(r,p),S(r,u),S(u,l),n[33](l),S(u,g),S(u,h),S(h,m),S(m,v),S(v,B),S(v,D);for(let et=0;et<lt.length;et+=1)lt[et]&&lt[et].m(v,null);S(v,w);for(let et=0;et<_t.length;et+=1)_t[et]&&_t[et].m(v,null);S(v,b),Je&&Je.m(v,null),S(v,U);for(let et=0;et<$e.length;et+=1)$e[et]&&$e[et].m(v,null);n[39](h),S(u,Y),S(u,z),S(z,Z),S(Z,ae),S(e,me),S(e,ge),S(ge,Ee),S(ge,pe),It(W,ge,null),S(e,Ne),S(e,Ve),S(e,we),S(e,Ke),S(e,$),S(e,be),S(e,Se),S(e,We),S(e,Ue),S(e,dt),n[46](dt),Ze=!0,jt||(ft=[le(B,"click",n[34]),le(m,"load",n[21]),le(Ve,"click",n[41]),le(Ke,"click",n[42]),le(be,"click",n[43]),le(We,"click",n[44]),le(dt,"change",n[45])],jt=!0)},p(J,Me){if(X===(X=Ie(J))&&ut?ut.p(J,Me):(ut.d(1),ut=X(J),ut&&(ut.c(),ut.m(i,o))),Pt===(Pt=Mt(J))&&Qe?Qe.p(J,Me):(Qe.d(1),Qe=Pt(J),Qe&&(Qe.c(),Qe.m(i,A))),Tt===(Tt=De(J))&&Ye?Ye.p(J,Me):(Ye.d(1),Ye=Tt(J),Ye&&(Ye.c(),Ye.m(i,null))),(!Ze||Me[0]&8)&&d(B,"width",J[3]),(!Ze||Me[0]&16)&&d(B,"height",J[4]),(!Ze||Me[0]&32768&&Q!==(Q=J[15]+";fill:none"))&&d(B,"style",Q),(!Ze||Me[0]&32768)&&d(D,"style",J[15]),(!Ze||Me[0]&512&&I!==(I=J[9].x))&&d(D,"cx",I),(!Ze||Me[0]&512&&T!==(T=J[9].y))&&d(D,"cy",T),Me[0]&33588224){bt=Ut(J[10]);let x;for(x=0;x<bt.length;x+=1){const re=Qa(J,bt,x);lt[x]?lt[x].p(re,Me):(lt[x]=ka(re),lt[x].c(),lt[x].m(v,w))}for(;x<lt.length;x+=1)lt[x].d(1);lt.length=bt.length}if(Me[0]&16812032){gt=Ut(J[11]);let x;for(x=0;x<gt.length;x+=1){const re=wa(J,gt,x);_t[x]?_t[x].p(re,Me):(_t[x]=Sa(re),_t[x].c(),_t[x].m(v,b))}for(;x<_t.length;x+=1)_t[x].d(1);_t.length=gt.length}if(J[12]!=null?Je?Je.p(J,Me):(Je=Da(J),Je.c(),Je.m(v,U)):Je&&(Je.d(1),Je=null),Me[0]&16384){Re=Ut(J[14]);let x;for(x=0;x<Re.length;x+=1){const re=Ba(J,Re,x);$e[x]?$e[x].p(re,Me):($e[x]=Ta(re),$e[x].c(),$e[x].m(v,null))}for(;x<$e.length;x+=1)$e[x].d(1);$e.length=Re.length}(!Ze||Me[0]&96&&L!==(L="translate("+J[5]+" "+J[6]+")"))&&d(v,"transform",L),(!Ze||Me[0]&8192)&&jn(ae,J[13]);const et={};Me[0]&128&&(et.initialValue=J[7]),W.$set(et)},i(J){Ze||(Be(W.$$.fragment,J),Ze=!0)},o(J){Fe(W.$$.fragment,J),Ze=!1},d(J){J&&ee(t),ut.d(),Qe.d(),Ye.d(),n[33](null),Nn(lt,J),Nn(_t,J),Je&&Je.d(),Nn($e,J),n[39](null),vt(W),n[46](null),jt=!1,An(ft)}}}function Fl(n,t,e){let r,i,o,A,p=null,u,l,g=300,h=300,m=0,v=0,B=40,Q="move",D={cursorDraggable:"move",cursorBackground:"default"},I=new ze(g/2,h/2);const T=[],w=[];let b=T,U=w,L=null,Y="",z="",Z=[];function ae(){e(11,U=Zs.updateSkelleton(p,m,v,g,h,B)),me()}function me(){Mo(U)?(e(13,Y="Site Intersection in Input detected, please remove intersections"),_s.set({sitePoints:[],siteSegments:[],tileWidth:g,tileHeight:h,tileCenter:I,imageOffset:new ze(m,v)})):(e(13,Y=""),_s.set({sitePoints:b.map(x=>we(x,I)),siteSegments:U.map(x=>Ke(x,I)),tileWidth:g,tileHeight:h,tileCenter:I,imageOffset:new ze(m,v)}))}function ge(){z=="center"?e(9,I=new ze(g/2,h/2)):z=="ul"&&e(9,I=new ze(0,0)),me()}function Ee(x){Promise.resolve().then(()=>W(x))}function pe(){l=new Image,l.onload=()=>Promise.resolve().then(()=>{p=A.getContext("2d",{willReadFrequently:!0}),p==null||p.clearRect(0,0,Vt.x,Vt.y);let x=Ne(l);ge(),ae();let re=p.getImageData(m,v,g,h);$s.set({image:l,imageData:x,imageDataProcessed:re})}),l.src=bl}function W(x){var R;e(10,b=[]);let re=(R=x.target)==null?void 0:R.files[0];if(re){let H=new FileReader;H.readAsDataURL(re),H.onload=se=>{var oe;i=(oe=se.target)==null?void 0:oe.result,l=new Image,l.onload=()=>Promise.resolve().then(()=>{p=A.getContext("2d",{willReadFrequently:!0}),p==null||p.clearRect(0,0,Vt.x,Vt.y);let ie=Ne(l);ge(),ae();let he=p.getImageData(m,v,g,h);$s.set({image:l,imageData:ie,imageDataProcessed:he})}),l.src=i}}}function Ne(x){if(p==null)return null;let re=p.canvas,R=re.width/x.width,H=re.height/x.height,se=Math.min(R,H),oe=(re.width-x.width*se)/2,ie=(re.height-x.height*se)/2;e(3,g=Math.floor(x.width*se)),e(4,h=Math.floor(x.height*se)),e(5,m=Math.floor(oe)),e(6,v=Math.floor(ie));let he=document.createElement("canvas"),fe=he.getContext("2d");he.width=x.width,he.height=x.height,fe.drawImage(x,0,0);let de=fe.getImageData(0,0,x.width,x.height),Pe=[];for(let nt=0;nt<h;nt++)for(let Xt=0;Xt<g;Xt++){let $t=(Math.round(nt/se)*x.width+Math.round(Xt/se))*4;Pe.push(de.data[$t]),Pe.push(de.data[$t+1]),Pe.push(de.data[$t+2]),Pe.push(de.data[$t+3])}let tt=new ImageData(new Uint8ClampedArray(Pe),g,h);return p.putImageData(tt,m,v),tt}function Ve(x){e(7,B=x),Promise.resolve().then(ae)}function we(x,re){return new Qn(x.x-re.x,x.y-re.y,x.color,x.M,x.tileIdx)}function Ke(x,re){return new Wr(x.x1-re.x,x.y1-re.y,x.x2-re.x,x.y2-re.y,x.color,x.M,x.tileIdx)}function $(){var x=document.createElement("a");x.download="canvas.png",x.href=A.toDataURL(),x.click()}function be(x){return Ar(gs(Vt.x/x.width,Vt.y/x.height,0,0))}function Se(){const x=document.getElementById("previewSvg");if(x!=null){let R=x.appendChild(document.createElement("defs")).appendChild(document.createElement("pattern"));R.setAttribute("id","patternBackground"),R.setAttribute("patternContentUnits","userSpaceOnUse"),R.setAttribute("patternUnits","userSpaceOnUse"),R.setAttribute("patternTransform",ms(be(l))),R.setAttribute("width","1"),R.setAttribute("height","1");let H=R.appendChild(document.createElement("image"));H.setAttribute("href",l.src),H.setAttribute("x",String(0)),H.setAttribute("y",String(0)),H.setAttribute("width",String(g)),H.setAttribute("height",String(h));let se=x.insertBefore(document.createElement("rect"),x.firstChild);se.setAttribute("x",String(m)),se.setAttribute("y",String(v)),se.setAttribute("width",String(g)),se.setAttribute("height",String(h)),se.setAttribute("fill","url(#patternBackground)");const oe=new Blob([x.outerHTML],{type:"image/svg+xml"}),ie=document.createElement("a");ie.href=URL.createObjectURL(oe),ie.download="preview.svg",ie.click()}}function We(x){var re=null,R=null,H=x.target;H.addEventListener("mousedown",se),H.addEventListener("mousemove",oe),H.addEventListener("mouseup",ie),H.addEventListener("mouseleave",ie),H.addEventListener("touchstart",se),H.addEventListener("touchmove",oe),H.addEventListener("touchend",ie),H.addEventListener("touchcancel",ie);function se(fe){console.log("start"),Q=="move"&&fe.target.classList.contains("draggable")&&(re=fe.target,R=he(fe),R.x-=parseFloat(re.getAttributeNS(null,"cx")),R.y-=parseFloat(re.getAttributeNS(null,"cy")))}function oe(fe){if(console.log("move"),re!=null){fe.preventDefault();var de=he(fe);if(re.classList.contains("tileCenter"))re.setAttributeNS(null,"cx",de.x-R.x),re.setAttributeNS(null,"cy",de.y-R.y),e(9,I.x=de.x-R.x,I),e(9,I.y=de.y-R.y,I);else if(re.classList.contains("sitePoint")){re.setAttributeNS(null,"cx",de.x-R.x),re.setAttributeNS(null,"cy",de.y-R.y);let Pe=Number(re.id.substring(10));e(10,b[Pe].x=de.x-R.x,b),e(10,b[Pe].y=de.y-R.y,b)}else if(re.classList.contains("siteSegmentPoint")){re.setAttributeNS(null,"cx",de.x-R.x),re.setAttributeNS(null,"cy",de.y-R.y);let Pe=Number(re.id.substring(17)),tt;Pe%2==0?(tt=U[Pe/2],tt.x1=de.x-R.x,tt.y1=de.y-R.y,tt.connected_12.forEach(nt=>{nt.x2=tt.x1,nt.y2=tt.y1}),tt.connected_11.forEach(nt=>{nt.x1=tt.x1,nt.y1=tt.y1})):(tt=U[(Pe-1)/2],tt.x2=de.x-R.x,tt.y2=de.y-R.y,tt.connected_21.forEach(nt=>{nt.x1=tt.x2,nt.y1=tt.y2}),tt.connected_22.forEach(nt=>{nt.x2=tt.x2,nt.y2=tt.y2})),e(11,U=[...U])}}if(L!=null){var de=he(fe);e(12,L.x2=de.x-m,L),e(12,L.y2=de.y-v,L),e(12,L)}}function ie(fe){console.log("end"),Q=="move"&&re!=null&&(re=null,me())}function he(fe){var de=H.getScreenCTM();let Pe=0,tt=0;return fe.touches&&fe.touches[0]&&!Number.isNaN(fe.touches[0].clientX)&&fe.touches[0].clientY?(Pe=fe.touches[0].clientX,tt=fe.touches[0].clientY):!Number.isNaN(fe.clientX)&&!Number.isNaN(fe.clientX)?(Pe=fe.clientX,tt=fe.clientY):console.log(fe),{x:(Pe-de.e)/de.a,y:(tt-de.f)/de.d}}}function Ue(x){e(8,Q=x),Q=="move"?(e(26,D.cursorDraggable="move",D),e(26,D.cursorBackground="default",D)):Q=="add"||Q=="addSegment"?(e(26,D.cursorDraggable="default",D),e(26,D.cursorBackground="crosshair",D)):Q=="delete"&&(e(26,D.cursorDraggable="default",D),e(26,D.cursorBackground="default",D)),Q!="addSegment"&&e(12,L=null)}function dt(x){Q=="add"?(e(10,b=[...b,new Qn(x.offsetX-m,x.offsetY-v)]),me()):Q=="addSegment"&&(L==null?e(12,L=new Wr(x.offsetX-m,x.offsetY-v,x.offsetX-m,x.offsetY-v,void 0,[],-1)):(e(12,L.x2=x.offsetX-m,L),e(12,L.y2=x.offsetY-v,L),e(11,U=[...U,L]),e(12,L=null),me()))}function Ze(x){if(Q=="delete"&&x.target.classList.contains("siteSegmentPoint")){let re=Number(x.target.id.substring(17));re%2==0?re=re/2:re=(re-1)/2,U.splice(re,1),e(11,U=[...U]),me()}}function jt(x){if(Q=="delete"&&x.target.classList.contains("sitePoint")){let re=Number(x.target.id.substring(10));b.splice(re,1),e(10,b),me()}}To(async()=>{Ts.subscribe(x=>{z=x.origin,ge()}),ea.subscribe(x=>{e(14,Z=x)}),await ml.load(),me()});const ft=()=>{Ue("move")},Ie=()=>{Ue("move")},X=()=>{Ue("addSegment")},ut=()=>{Ue("addSegment")},Mt=()=>{Ue("delete")},Pt=()=>{Ue("delete")};function Qe(x){Ft[x?"unshift":"push"](()=>{A=x,e(1,A)})}const De=x=>dt(x),Tt=x=>jt(x),Ye=x=>Ze(x),bt=x=>Ze(x),lt=x=>dt(x);function gt(x){Ft[x?"unshift":"push"](()=>{u=x,e(2,u)})}const _t=x=>Ve(x.detail.value),Je=()=>{o.click()},Re=()=>{pe()},$e=()=>{$()},J=()=>{Se()},Me=x=>Ee(x);function et(x){Ft[x?"unshift":"push"](()=>{o=x,e(0,o)})}return n.$$.update=()=>{n.$$.dirty[0]&67108864&&e(15,r=Object.entries(D).map(([x,re])=>`--${x}:${re}`).join(";"))},[o,A,u,g,h,m,v,B,Q,I,b,U,L,Y,Z,r,Ee,pe,Ve,$,Se,We,Ue,dt,Ze,jt,D,ft,Ie,X,ut,Mt,Pt,Qe,De,Tt,Ye,bt,lt,gt,_t,Je,Re,$e,J,Me,et]}class Nl extends Ln{constructor(t){super(),Pn(this,t,Fl,Tl,Sn,{},null,[-1,-1,-1])}}var Rl=(()=>{var n=import.meta.url;return function(t={}){var e=t,r,i;e.ready=new Promise((c,f)=>{r=c,i=f}),["getExceptionMessage","$incrementExceptionRefcount","$decrementExceptionRefcount","_memory","__Z7computeNSt3__26vectorIdNS_9allocatorIdEEEENS0_IiNS1_IiEEEES5_S5_S5_S5_S5_","___indirect_function_table","onRuntimeInitialized"].forEach(c=>{Object.getOwnPropertyDescriptor(e.ready,c)||Object.defineProperty(e.ready,c,{get:()=>Ie("You are getting "+c+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>Ie("You are setting "+c+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var o=Object.assign({},e),A=!0,p=!1,u=!1,l=!1;if(e.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var g="";function h(c){return e.locateFile?e.locateFile(c,g):g+c}if(typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),n&&(g=n),g.startsWith("blob:")?g="":g=g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1),!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var m=e.print||console.log.bind(console),v=e.printErr||console.error.bind(console);Object.assign(e,o),o=null,Ji(),e.arguments&&e.arguments,Re("arguments","arguments_"),e.thisProgram&&e.thisProgram,Re("thisProgram","thisProgram"),e.quit&&e.quit,Re("quit","quit_"),I(typeof e.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),I(typeof e.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),I(typeof e.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),I(typeof e.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),I(typeof e.read>"u","Module.read option was removed (modify read_ in JS)"),I(typeof e.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),I(typeof e.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),I(typeof e.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),I(typeof e.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Re("asm","wasmExports"),Re("read","read_"),Re("readAsync","readAsync"),Re("readBinary","readBinary"),Re("setWindowTitle","setWindowTitle"),I(!p,"worker environment detected but not enabled at build time.  Add `worker` to `-sENVIRONMENT` to enable."),I(!u,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),I(!l,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var B;e.wasmBinary&&(B=e.wasmBinary),Re("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&v("no native wasm support detected");var Q,D=!1;function I(c,f){c||Ie("Assertion failed"+(f?": "+f:""))}var T,w,b,U,L,Y,z,Z;function ae(){var c=Q.buffer;e.HEAP8=T=new Int8Array(c),e.HEAP16=b=new Int16Array(c),e.HEAPU8=w=new Uint8Array(c),e.HEAPU16=U=new Uint16Array(c),e.HEAP32=L=new Int32Array(c),e.HEAPU32=Y=new Uint32Array(c),e.HEAPF32=z=new Float32Array(c),e.HEAPF64=Z=new Float64Array(c)}I(!e.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),I(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),I(!e.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),I(!e.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function me(){var c=or();I((c&3)==0),c==0&&(c+=4),Y[c>>2]=34821223,Y[c+4>>2]=2310721022,Y[0]=1668509029}function ge(){if(!D){var c=or();c==0&&(c+=4);var f=Y[c>>2],y=Y[c+4>>2];(f!=34821223||y!=2310721022)&&Ie(`Stack overflow! Stack cookie has been overwritten at ${fe(c)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${fe(y)} ${fe(f)}`),Y[0]!=1668509029&&Ie("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var c=new Int16Array(1),f=new Int8Array(c.buffer);if(c[0]=25459,f[0]!==115||f[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var Ee=[],pe=[],W=[],Ne=!1;function Ve(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)$(e.preRun.shift());re(Ee)}function we(){I(!Ne),Ne=!0,ge(),re(pe)}function Ke(){if(ge(),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Se(e.postRun.shift());re(W)}function $(c){Ee.unshift(c)}function be(c){pe.unshift(c)}function Se(c){W.unshift(c)}I(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),I(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),I(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),I(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var We=0,Ue=null,dt=null,Ze={};function jt(c){var f;We++,(f=e.monitorRunDependencies)==null||f.call(e,We),c?(I(!Ze[c]),Ze[c]=1,Ue===null&&typeof setInterval<"u"&&(Ue=setInterval(()=>{if(D){clearInterval(Ue),Ue=null;return}var y=!1;for(var F in Ze)y||(y=!0,v("still waiting on run dependencies:")),v(`dependency: ${F}`);y&&v("(end of list)")},1e4))):v("warning: run dependency added without ID")}function ft(c){var y;if(We--,(y=e.monitorRunDependencies)==null||y.call(e,We),c?(I(Ze[c]),delete Ze[c]):v("warning: run dependency removed without ID"),We==0&&(Ue!==null&&(clearInterval(Ue),Ue=null),dt)){var f=dt;dt=null,f()}}function Ie(c){var y;(y=e.onAbort)==null||y.call(e,c),c="Aborted("+c+")",v(c),D=!0;var f=new WebAssembly.RuntimeError(c);throw i(f),f}var X={error(){Ie("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){X.error()},createDataFile(){X.error()},createPreloadedFile(){X.error()},createLazyFile(){X.error()},open(){X.error()},mkdev(){X.error()},registerDevice(){X.error()},analyzePath(){X.error()},ErrnoError(){X.error()}};e.FS_createDataFile=X.createDataFile,e.FS_createPreloadedFile=X.createPreloadedFile;var ut="data:application/octet-stream;base64,",Mt=c=>c.startsWith(ut),Pt=c=>c.startsWith("file://");function Qe(c){return(...f)=>{I(Ne,`native function \`${c}\` called before runtime initialization`);var y=Zt[c];return I(y,`exported native function \`${c}\` not found`),y(...f)}}class De extends Error{}class Tt extends De{constructor(f){super(f),this.excPtr=f;const y=he(f);this.name=y[0],this.message=y[1]}}var Ye;e.locateFile?(Ye="wasmVoronoi.wasm",Mt(Ye)||(Ye=h(Ye))):Ye=new URL("/escherization/assets/wasmVoronoi-CNpWi7lj.wasm",import.meta.url).href;function bt(c){if(c==Ye&&B)return new Uint8Array(B);throw"both async and sync fetching of the wasm failed"}function lt(c){return!B&&A&&typeof fetch=="function"?fetch(c,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw`failed to load wasm binary file at '${c}'`;return f.arrayBuffer()}).catch(()=>bt(c)):Promise.resolve().then(()=>bt(c))}function gt(c,f,y){return lt(c).then(F=>WebAssembly.instantiate(F,f)).then(y,F=>{v(`failed to asynchronously prepare wasm: ${F}`),Pt(Ye)&&v(`warning: Loading from a file URI (${Ye}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),Ie(F)})}function _t(c,f,y,F){return!c&&typeof WebAssembly.instantiateStreaming=="function"&&!Mt(f)&&typeof fetch=="function"?fetch(f,{credentials:"same-origin"}).then(s=>{var a=WebAssembly.instantiateStreaming(s,y);return a.then(F,function(_){return v(`wasm streaming compile failed: ${_}`),v("falling back to ArrayBuffer instantiation"),gt(f,y,F)})}):gt(f,y,F)}function Je(){var c={env:Hr,wasi_snapshot_preview1:Hr};function f(s,a){return Zt=s.exports,Q=Zt.memory,I(Q,"memory not found in wasm exports"),ae(),On=Zt.__indirect_function_table,I(On,"table not found in wasm exports"),be(Zt.__wasm_call_ctors),ft("wasm-instantiate"),Zt}jt("wasm-instantiate");var y=e;function F(s){I(e===y,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),y=null,f(s.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(c,f)}catch(s){v(`Module.instantiateWasm callback failed with error: ${s}`),i(s)}return _t(B,Ye,c,F).catch(i),{}}function Re(c,f,y=!0){Object.getOwnPropertyDescriptor(e,c)||Object.defineProperty(e,c,{configurable:!0,get(){let F=y?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";Ie(`\`Module.${c}\` has been replaced by \`${f}\``+F)}})}function $e(c){Object.getOwnPropertyDescriptor(e,c)&&Ie(`\`Module.${c}\` was supplied but \`${c}\` not included in INCOMING_MODULE_JS_API`)}function J(c){return c==="FS_createPath"||c==="FS_createDataFile"||c==="FS_createPreloadedFile"||c==="FS_unlink"||c==="addRunDependency"||c==="FS_createLazyFile"||c==="FS_createDevice"||c==="removeRunDependency"}function Me(c,f){typeof globalThis<"u"&&Object.defineProperty(globalThis,c,{configurable:!0,get(){de(`\`${c}\` is not longer defined by emscripten. ${f}`)}})}Me("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),Me("asm","Please use wasmExports instead");function et(c){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,c)&&Object.defineProperty(globalThis,c,{configurable:!0,get(){var f=`\`${c}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,y=c;y.startsWith("_")||(y="$"+c),f+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${y}')`,J(c)&&(f+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),de(f)}}),x(c)}function x(c){Object.getOwnPropertyDescriptor(e,c)||Object.defineProperty(e,c,{configurable:!0,get(){var f=`'${c}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;J(c)&&(f+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Ie(f)}})}var re=c=>{for(;c.length>0;)c.shift()(e)},R=c=>{var f=ot(),y=c();return rt(f),y},H=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,se=(c,f,y)=>{for(var F=f+y,s=f;c[s]&&!(s>=F);)++s;if(s-f>16&&c.buffer&&H)return H.decode(c.subarray(f,s));for(var a="";f<s;){var _=c[f++];if(!(_&128)){a+=String.fromCharCode(_);continue}var C=c[f++]&63;if((_&224)==192){a+=String.fromCharCode((_&31)<<6|C);continue}var E=c[f++]&63;if((_&240)==224?_=(_&15)<<12|C<<6|E:((_&248)!=240&&de("Invalid UTF-8 leading byte "+fe(_)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),_=(_&7)<<18|C<<12|E<<6|c[f++]&63),_<65536)a+=String.fromCharCode(_);else{var k=_-65536;a+=String.fromCharCode(55296|k>>10,56320|k&1023)}}return a},oe=(c,f)=>(I(typeof c=="number",`UTF8ToString expects a number (got ${typeof c})`),c?se(w,c,f):""),ie=c=>R(()=>{var f=yn(4),y=yn(4);Xi(c,f,y);var F=Y[f>>2],s=Y[y>>2],a=oe(F);Ot(F);var _;return s&&(_=oe(s),Ot(s)),[a,_]}),he=c=>ie(c);e.getExceptionMessage=he,e.noExitRuntime;var fe=c=>(I(typeof c=="number"),c>>>=0,"0x"+c.toString(16).padStart(8,"0")),de=c=>{de.shown||(de.shown={}),de.shown[c]||(de.shown[c]=1,v(c))},Pe=(c,f,y,F)=>{Ie(`Assertion failed: ${oe(c)}, at: `+[f?oe(f):"unknown filename",y,F?oe(F):"unknown function"])},tt=c=>{var f=new Xt(c);return f.get_caught()||f.set_caught(!0),f.set_rethrown(!1),ni(f.excPtr),f.get_exception_ptr()},nt=0;class Xt{constructor(f){this.excPtr=f,this.ptr=f-24}set_type(f){Y[this.ptr+4>>2]=f}get_type(){return Y[this.ptr+4>>2]}set_destructor(f){Y[this.ptr+8>>2]=f}get_destructor(){return Y[this.ptr+8>>2]}set_caught(f){f=f?1:0,T[this.ptr+12]=f}get_caught(){return T[this.ptr+12]!=0}set_rethrown(f){f=f?1:0,T[this.ptr+13]=f}get_rethrown(){return T[this.ptr+13]!=0}init(f,y){this.set_adjusted_ptr(0),this.set_type(f),this.set_destructor(y)}set_adjusted_ptr(f){Y[this.ptr+16>>2]=f}get_adjusted_ptr(){return Y[this.ptr+16>>2]}get_exception_ptr(){var f=qi(this.get_type());if(f)return Y[this.excPtr>>2];var y=this.get_adjusted_ptr();return y!==0?y:this.excPtr}}var $t=c=>{throw nt||(nt=new Tt(c)),nt},an=c=>{var f=nt==null?void 0:nt.excPtr;if(!f)return Jn(0),0;var y=new Xt(f);y.set_adjusted_ptr(f);var F=y.get_type();if(!F)return Jn(0),f;for(var s in c){var a=c[s];if(a===0||a===F)break;var _=y.ptr+16;if(Wi(a,F,_))return Jn(a),f}return Jn(F),f},Xn=()=>an([]),Wn=c=>an([c]),Dn=(c,f,y)=>{var F=new Xt(c);throw F.init(f,y),nt=new Tt(c),nt},Wt={},rn=c=>{for(;c.length;){var f=c.pop(),y=c.pop();y(f)}};function zt(c){return this.fromWireType(Y[c>>2])}var qt={},Lt={},Kt={},on,en=c=>{throw new on(c)},Ht=(c,f,y)=>{c.forEach(function(C){Kt[C]=f});function F(C){var E=y(C);E.length!==c.length&&en("Mismatched type converter count");for(var k=0;k<c.length;++k)wt(c[k],E[k])}var s=new Array(f.length),a=[],_=0;f.forEach((C,E)=>{Lt.hasOwnProperty(C)?s[E]=Lt[C]:(a.push(C),qt.hasOwnProperty(C)||(qt[C]=[]),qt[C].push(()=>{s[E]=Lt[C],++_,_===a.length&&F(s)}))}),a.length===0&&F(s)},_n=c=>{var f=Wt[c];delete Wt[c];var y=f.rawConstructor,F=f.rawDestructor,s=f.fields,a=s.map(_=>_.getterReturnType).concat(s.map(_=>_.setterArgumentType));Ht([c],a,_=>{var C={};return s.forEach((E,k)=>{var N=E.fieldName,P=_[k],G=E.getter,q=E.getterContext,j=_[k+s.length],_e=E.setter,Le=E.setterContext;C[N]={read:Bt=>P.fromWireType(G(q,Bt)),write:(Bt,it)=>{var Qt=[];_e(Le,Bt,j.toWireType(Qt,it)),rn(Qt)}}}),[{name:f.name,fromWireType:E=>{var k={};for(var N in C)k[N]=C[N].read(E);return F(E),k},toWireType:(E,k)=>{for(var N in C)if(!(N in k))throw new TypeError(`Missing field: "${N}"`);var P=y();for(N in C)C[N].write(P,k[N]);return E!==null&&E.push(F,P),P},argPackAdvance:M,readValueFromPointer:zt,destructorFunction:F}]})},ln=(c,f,y,F,s)=>{},In=()=>{for(var c=new Array(256),f=0;f<256;++f)c[f]=String.fromCharCode(f);fn=c},fn,ct=c=>{for(var f="",y=c;w[y];)f+=fn[w[y++]];return f},kt,Ae=c=>{throw new kt(c)};function Un(c,f,y={}){var F=f.name;if(c||Ae(`type "${F}" must have a positive integer typeid pointer`),Lt.hasOwnProperty(c)){if(y.ignoreDuplicateRegistrations)return;Ae(`Cannot register type '${F}' twice`)}if(Lt[c]=f,delete Kt[c],qt.hasOwnProperty(c)){var s=qt[c];delete qt[c],s.forEach(a=>a())}}function wt(c,f,y={}){if(!("argPackAdvance"in f))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Un(c,f,y)}var M=8,ce=(c,f,y,F)=>{f=ct(f),wt(c,{name:f,fromWireType:function(s){return!!s},toWireType:function(s,a){return a?y:F},argPackAdvance:M,readValueFromPointer:function(s){return this.fromWireType(w[s])},destructorFunction:null})},Ce=c=>({count:c.count,deleteScheduled:c.deleteScheduled,preservePointerOnDelete:c.preservePointerOnDelete,ptr:c.ptr,ptrType:c.ptrType,smartPtr:c.smartPtr,smartPtrType:c.smartPtrType}),Ge=c=>{function f(y){return y.$$.ptrType.registeredClass.name}Ae(f(c)+" instance already deleted")},ve=!1,st=c=>{},ht=c=>{c.smartPtr?c.smartPtrType.rawDestructor(c.smartPtr):c.ptrType.registeredClass.rawDestructor(c.ptr)},Oe=c=>{c.count.value-=1;var f=c.count.value===0;f&&ht(c)},at=(c,f,y)=>{if(f===y)return c;if(y.baseClass===void 0)return null;var F=at(c,f,y.baseClass);return F===null?null:y.downcast(F)},pt={},St=()=>Object.keys(Et).length,ke=()=>{var c=[];for(var f in Et)Et.hasOwnProperty(f)&&c.push(Et[f]);return c},ye=[],ue=()=>{for(;ye.length;){var c=ye.pop();c.$$.deleteScheduled=!1,c.delete()}},xe,He=c=>{xe=c,ye.length&&xe&&xe(ue)},tr=()=>{e.getInheritedInstanceCount=St,e.getLiveInheritedInstances=ke,e.flushPendingDeletes=ue,e.setDelayFunction=He},Et={},kr=(c,f)=>{for(f===void 0&&Ae("ptr should not be undefined");c.baseClass;)f=c.upcast(f),c=c.baseClass;return f},hr=(c,f)=>(f=kr(c,f),Et[f]),At=(c,f)=>{(!f.ptrType||!f.ptr)&&en("makeClassHandle requires ptr and ptrType");var y=!!f.smartPtrType,F=!!f.smartPtr;return y!==F&&en("Both smartPtrType and smartPtr must be specified"),f.count={value:1},un(Object.create(c,{$$:{value:f,writable:!0}}))};function Tn(c){var f=this.getPointee(c);if(!f)return this.destructor(c),null;var y=hr(this.registeredClass,f);if(y!==void 0){if(y.$$.count.value===0)return y.$$.ptr=f,y.$$.smartPtr=c,y.clone();var F=y.clone();return this.destructor(c),F}function s(){return this.isSmartPointer?At(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:f,smartPtrType:this,smartPtr:c}):At(this.registeredClass.instancePrototype,{ptrType:this,ptr:c})}var a=this.registeredClass.getActualType(f),_=pt[a];if(!_)return s.call(this);var C;this.isConst?C=_.constPointerType:C=_.pointerType;var E=at(f,this.registeredClass,C.registeredClass);return E===null?s.call(this):this.isSmartPointer?At(C.registeredClass.instancePrototype,{ptrType:C,ptr:E,smartPtrType:this,smartPtr:c}):At(C.registeredClass.instancePrototype,{ptrType:C,ptr:E})}var un=c=>typeof FinalizationRegistry>"u"?(un=f=>f,c):(ve=new FinalizationRegistry(f=>{console.warn(f.leakWarning.stack.replace(/^Error: /,"")),Oe(f.$$)}),un=f=>{var y=f.$$,F=!!y.smartPtr;if(F){var s={$$:y},a=y.ptrType.registeredClass;s.leakWarning=new Error(`Embind found a leaked C++ instance ${a.name} <${fe(y.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`),"captureStackTrace"in Error&&Error.captureStackTrace(s.leakWarning,Tn),ve.register(f,s,f)}return f},st=f=>ve.unregister(f),un(c)),pr=()=>{Object.assign(vn.prototype,{isAliasOf(c){if(!(this instanceof vn)||!(c instanceof vn))return!1;var f=this.$$.ptrType.registeredClass,y=this.$$.ptr;c.$$=c.$$;for(var F=c.$$.ptrType.registeredClass,s=c.$$.ptr;f.baseClass;)y=f.upcast(y),f=f.baseClass;for(;F.baseClass;)s=F.upcast(s),F=F.baseClass;return f===F&&y===s},clone(){if(this.$$.ptr||Ge(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var c=un(Object.create(Object.getPrototypeOf(this),{$$:{value:Ce(this.$$)}}));return c.$$.count.value+=1,c.$$.deleteScheduled=!1,c},delete(){this.$$.ptr||Ge(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ae("Object already scheduled for deletion"),st(this),Oe(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Ge(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ae("Object already scheduled for deletion"),ye.push(this),ye.length===1&&xe&&xe(ue),this.$$.deleteScheduled=!0,this}})};function vn(){}var hn=(c,f)=>Object.defineProperty(f,"name",{value:c}),qn=(c,f,y)=>{if(c[f].overloadTable===void 0){var F=c[f];c[f]=function(...s){return c[f].overloadTable.hasOwnProperty(s.length)||Ae(`Function '${y}' called with an invalid number of arguments (${s.length}) - expects one of (${c[f].overloadTable})!`),c[f].overloadTable[s.length].apply(this,s)},c[f].overloadTable=[],c[f].overloadTable[F.argCount]=F}},xn=(c,f,y)=>{e.hasOwnProperty(c)?((y===void 0||e[c].overloadTable!==void 0&&e[c].overloadTable[y]!==void 0)&&Ae(`Cannot register public name '${c}' twice`),qn(e,c,c),e.hasOwnProperty(y)&&Ae(`Cannot register multiple overloads of a function with the same number of arguments (${y})!`),e[c].overloadTable[y]=f):(e[c]=f,y!==void 0&&(e[c].numArguments=y))},Te=48,qe=57,Cn=c=>{if(c===void 0)return"_unknown";c=c.replace(/[^a-zA-Z0-9_]/g,"$");var f=c.charCodeAt(0);return f>=Te&&f<=qe?`_${c}`:c};function mr(c,f,y,F,s,a,_,C){this.name=c,this.constructor=f,this.instancePrototype=y,this.rawDestructor=F,this.baseClass=s,this.getActualType=a,this.upcast=_,this.downcast=C,this.pureVirtualFunctions=[]}var sn=(c,f,y)=>{for(;f!==y;)f.upcast||Ae(`Expected null or instance of ${y.name}, got an instance of ${f.name}`),c=f.upcast(c),f=f.baseClass;return c};function pn(c,f){if(f===null)return this.isReference&&Ae(`null is not a valid ${this.name}`),0;f.$$||Ae(`Cannot pass "${cn(f)}" as a ${this.name}`),f.$$.ptr||Ae(`Cannot pass deleted object as a pointer of type ${this.name}`);var y=f.$$.ptrType.registeredClass,F=sn(f.$$.ptr,y,this.registeredClass);return F}function nr(c,f){var y;if(f===null)return this.isReference&&Ae(`null is not a valid ${this.name}`),this.isSmartPointer?(y=this.rawConstructor(),c!==null&&c.push(this.rawDestructor,y),y):0;(!f||!f.$$)&&Ae(`Cannot pass "${cn(f)}" as a ${this.name}`),f.$$.ptr||Ae(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&f.$$.ptrType.isConst&&Ae(`Cannot convert argument of type ${f.$$.smartPtrType?f.$$.smartPtrType.name:f.$$.ptrType.name} to parameter type ${this.name}`);var F=f.$$.ptrType.registeredClass;if(y=sn(f.$$.ptr,F,this.registeredClass),this.isSmartPointer)switch(f.$$.smartPtr===void 0&&Ae("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:f.$$.smartPtrType===this?y=f.$$.smartPtr:Ae(`Cannot convert argument of type ${f.$$.smartPtrType?f.$$.smartPtrType.name:f.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:y=f.$$.smartPtr;break;case 2:if(f.$$.smartPtrType===this)y=f.$$.smartPtr;else{var s=f.clone();y=this.rawShare(y,Hn.toHandle(()=>s.delete())),c!==null&&c.push(this.rawDestructor,y)}break;default:Ae("Unsupporting sharing policy")}return y}function rr(c,f){if(f===null)return this.isReference&&Ae(`null is not a valid ${this.name}`),0;f.$$||Ae(`Cannot pass "${cn(f)}" as a ${this.name}`),f.$$.ptr||Ae(`Cannot pass deleted object as a pointer of type ${this.name}`),f.$$.ptrType.isConst&&Ae(`Cannot convert argument of type ${f.$$.ptrType.name} to parameter type ${this.name}`);var y=f.$$.ptrType.registeredClass,F=sn(f.$$.ptr,y,this.registeredClass);return F}var Ir=()=>{Object.assign(mn.prototype,{getPointee(c){return this.rawGetPointee&&(c=this.rawGetPointee(c)),c},destructor(c){var f;(f=this.rawDestructor)==null||f.call(this,c)},argPackAdvance:M,readValueFromPointer:zt,fromWireType:Tn})};function mn(c,f,y,F,s,a,_,C,E,k,N){this.name=c,this.registeredClass=f,this.isReference=y,this.isConst=F,this.isSmartPointer=s,this.pointeeType=a,this.sharingPolicy=_,this.rawGetPointee=C,this.rawConstructor=E,this.rawShare=k,this.rawDestructor=N,!s&&f.baseClass===void 0?F?(this.toWireType=pn,this.destructorFunction=null):(this.toWireType=rr,this.destructorFunction=null):this.toWireType=nr}var Yt=(c,f,y)=>{e.hasOwnProperty(c)||en("Replacing nonexistent public symbol"),e[c].overloadTable!==void 0&&y!==void 0?e[c].overloadTable[y]=f:(e[c]=f,e[c].argCount=y)},vr=(c,f,y)=>{I("dynCall_"+c in e,`bad function pointer type - dynCall function not found for sig '${c}'`),y!=null&&y.length?I(y.length===c.substring(1).replace(/j/g,"--").length):I(c.length==1);var F=e["dynCall_"+c];return F(f,...y)},Yn=[],On,je=c=>{var f=Yn[c];return f||(c>=Yn.length&&(Yn.length=c+1),Yn[c]=f=On.get(c)),I(On.get(c)==f,"JavaScript-side Wasm function table mirror is out of date!"),f},Sr=(c,f,y=[])=>{if(c.includes("j"))return vr(c,f,y);I(je(f),`missing table entry in dynCall: ${f}`);var F=je(f)(...y);return F},qr=(c,f)=>(I(c.includes("j")||c.includes("p"),"getDynCaller should only be called with i64 sigs"),(...y)=>Sr(c,f,y)),Nt=(c,f)=>{c=ct(c);function y(){return c.includes("j")?qr(c,f):je(f)}var F=y();return typeof F!="function"&&Ae(`unknown function pointer with signature ${c}: ${f}`),F},pi=(c,f)=>{var y=hn(f,function(F){this.name=f,this.message=F;var s=new Error(F).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return y.prototype=Object.create(c.prototype),y.prototype.constructor=y,y.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},y},Dr,Tr=c=>{var f=ji(c),y=ct(f);return Ot(f),y},Gn=(c,f)=>{var y=[],F={};function s(a){if(!F[a]&&!Lt[a]){if(Kt[a]){Kt[a].forEach(s);return}y.push(a),F[a]=!0}}throw f.forEach(s),new Dr(`${c}: `+y.map(Tr).join([", "]))},mi=(c,f,y,F,s,a,_,C,E,k,N,P,G)=>{N=ct(N),a=Nt(s,a),C&&(C=Nt(_,C)),k&&(k=Nt(E,k)),G=Nt(P,G);var q=Cn(N);xn(q,function(){Gn(`Cannot construct ${N} due to unbound types`,[F])}),Ht([c,f,y],F?[F]:[],j=>{var tn;j=j[0];var _e,Le;F?(_e=j.registeredClass,Le=_e.instancePrototype):Le=vn.prototype;var Bt=hn(N,function(...jr){if(Object.getPrototypeOf(this)!==it)throw new kt("Use 'new' to construct "+N);if(Qt.constructor_body===void 0)throw new kt(N+" has no accessible constructor");var Xr=Qt.constructor_body[jr.length];if(Xr===void 0)throw new kt(`Tried to invoke ctor of ${N} with invalid number of parameters (${jr.length}) - expected (${Object.keys(Qt.constructor_body).toString()}) parameters instead!`);return Xr.apply(this,jr)}),it=Object.create(Le,{constructor:{value:Bt}});Bt.prototype=it;var Qt=new mr(N,Bt,it,G,_e,a,C,k);Qt.baseClass&&((tn=Qt.baseClass).__derivedClasses??(tn.__derivedClasses=[]),Qt.baseClass.__derivedClasses.push(Qt));var En=new mn(N,Qt,!0,!1,!1),bn=new mn(N+"*",Qt,!1,!1,!1),Zn=new mn(N+" const*",Qt,!1,!0,!1);return pt[c]={pointerType:bn,constPointerType:Zn},Yt(q,Bt),[En,bn,Zn]})},ir=(c,f)=>{for(var y=[],F=0;F<c;F++)y.push(Y[f+F*4>>2]);return y};function Fr(c){for(var f=1;f<c.length;++f)if(c[f]!==null&&c[f].destructorFunction===void 0)return!0;return!1}function Cr(c,f){if(!(c instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof c} which is not a function`);var y=hn(c.name||"unknownFunctionName",function(){});y.prototype=c.prototype;var F=new y,s=c.apply(F,f);return s instanceof Object?s:F}function zr(c,f,y,F){for(var s=Fr(c),a=c.length,_="",C="",E=0;E<a-2;++E)_+=(E!==0?", ":"")+"arg"+E,C+=(E!==0?", ":"")+"arg"+E+"Wired";var k=`
        return function (${_}) {
        if (arguments.length !== ${a-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${a-2}');
        }`;s&&(k+=`var destructors = [];
`);var N=s?"destructors":"null",P=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];f&&(k+="var thisWired = classParam['toWireType']("+N+`, this);
`);for(var E=0;E<a-2;++E)k+="var arg"+E+"Wired = argType"+E+"['toWireType']("+N+", arg"+E+`);
`,P.push("argType"+E);if(f&&(C="thisWired"+(C.length>0?", ":"")+C),k+=(y||F?"var rv = ":"")+"invoker(fn"+(C.length>0?", ":"")+C+`);
`,s)k+=`runDestructors(destructors);
`;else for(var E=f?1:2;E<c.length;++E){var G=E===1?"thisWired":"arg"+(E-2)+"Wired";c[E].destructorFunction!==null&&(k+=`${G}_dtor(${G});
`,P.push(`${G}_dtor`))}return y&&(k+=`var ret = retType['fromWireType'](rv);
return ret;
`),k+=`}
`,k=`if (arguments.length !== ${P.length}){ throw new Error(humanName + "Expected ${P.length} closure arguments " + arguments.length + " given."); }
${k}`,[P,k]}function sr(c,f,y,F,s,a){var _=f.length;_<2&&Ae("argTypes array size mismatch! Must at least get return value and 'this' types!"),I(!a,"Async bindings are only supported with JSPI.");for(var C=f[1]!==null&&y!==null,E=Fr(f),k=f[0].name!=="void",N=[c,Ae,F,s,rn,f[0],f[1]],P=0;P<_-2;++P)N.push(f[P+2]);if(!E)for(var P=C?1:2;P<f.length;++P)f[P].destructorFunction!==null&&N.push(f[P].destructorFunction);let[G,q]=zr(f,C,k,a);G.push(q);var j=Cr(Function,G)(...N);return hn(c,j)}var Ii=(c,f,y,F,s,a)=>{I(f>0);var _=ir(f,y);s=Nt(F,s),Ht([],[c],C=>{C=C[0];var E=`constructor ${C.name}`;if(C.registeredClass.constructor_body===void 0&&(C.registeredClass.constructor_body=[]),C.registeredClass.constructor_body[f-1]!==void 0)throw new kt(`Cannot register multiple constructors with identical number of parameters (${f-1}) for class '${C.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return C.registeredClass.constructor_body[f-1]=()=>{Gn(`Cannot construct ${C.name} due to unbound types`,_)},Ht([],_,k=>(k.splice(1,0,null),C.registeredClass.constructor_body[f-1]=sr(E,k,null,s,a),[])),[]})},Nr=c=>{c=c.trim();const f=c.indexOf("(");return f!==-1?(I(c[c.length-1]==")","Parentheses for argument names should match."),c.substr(0,f)):c},vi=(c,f,y,F,s,a,_,C,E)=>{var k=ir(y,F);f=ct(f),f=Nr(f),a=Nt(s,a),Ht([],[c],N=>{N=N[0];var P=`${N.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]),C&&N.registeredClass.pureVirtualFunctions.push(f);function G(){Gn(`Cannot call ${P} due to unbound types`,k)}var q=N.registeredClass.instancePrototype,j=q[f];return j===void 0||j.overloadTable===void 0&&j.className!==N.name&&j.argCount===y-2?(G.argCount=y-2,G.className=N.name,q[f]=G):(qn(q,f,P),q[f].overloadTable[y-2]=G),Ht([],k,_e=>{var Le=sr(P,_e,N,a,_,E);return q[f].overloadTable===void 0?(Le.argCount=y-2,q[f]=Le):q[f].overloadTable[y-2]=Le,[]}),[]})},ar=[],Rt=[],Rr=c=>{c>9&&--Rt[c+1]===0&&(I(Rt[c]!==void 0,"Decref for unallocated handle."),Rt[c]=void 0,ar.push(c))},Ci=()=>Rt.length/2-5-ar.length,yi=()=>{Rt.push(0,1,void 0,1,null,1,!0,1,!1,1),I(Rt.length===5*2),e.count_emval_handles=Ci},Hn={toValue:c=>(c||Ae("Cannot use deleted val. handle = "+c),I(c===2||Rt[c]!==void 0&&c%2===0,`invalid handle: ${c}`),Rt[c]),toHandle:c=>{switch(c){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const f=ar.pop()||Rt.length;return Rt[f]=c,Rt[f+1]=1,f}}}},Ei={name:"emscripten::val",fromWireType:c=>{var f=Hn.toValue(c);return Rr(c),f},toWireType:(c,f)=>Hn.toHandle(f),argPackAdvance:M,readValueFromPointer:zt,destructorFunction:null},Mr=c=>wt(c,Ei),cn=c=>{if(c===null)return"null";var f=typeof c;return f==="object"||f==="array"||f==="function"?c.toString():""+c},yr=(c,f)=>{switch(f){case 4:return function(y){return this.fromWireType(z[y>>2])};case 8:return function(y){return this.fromWireType(Z[y>>3])};default:throw new TypeError(`invalid float width (${f}): ${c}`)}},Pr=(c,f,y)=>{f=ct(f),wt(c,{name:f,fromWireType:F=>F,toWireType:(F,s)=>{if(typeof s!="number"&&typeof s!="boolean")throw new TypeError(`Cannot convert ${cn(s)} to ${this.name}`);return s},argPackAdvance:M,readValueFromPointer:yr(f,y),destructorFunction:null})},Vn=(c,f,y,F,s,a,_)=>{var C=ir(f,y);c=ct(c),c=Nr(c),s=Nt(F,s),xn(c,function(){Gn(`Cannot call ${c} due to unbound types`,C)},f-1),Ht([],C,E=>{var k=[E[0],null].concat(E.slice(1));return Yt(c,sr(c,k,null,s,a,_),f-1),[]})},Kr=(c,f,y)=>{switch(f){case 1:return y?F=>T[F]:F=>w[F];case 2:return y?F=>b[F>>1]:F=>U[F>>1];case 4:return y?F=>L[F>>2]:F=>Y[F>>2];default:throw new TypeError(`invalid integer width (${f}): ${c}`)}},Zr=(c,f,y,F,s)=>{f=ct(f),s===-1&&(s=4294967295);var a=N=>N;if(F===0){var _=32-8*y;a=N=>N<<_>>>_}var C=f.includes("unsigned"),E=(N,P)=>{if(typeof N!="number"&&typeof N!="boolean")throw new TypeError(`Cannot convert "${cn(N)}" to ${P}`);if(N<F||N>s)throw new TypeError(`Passing a number "${cn(N)}" from JS side to C/C++ side to an argument of type "${f}", which is outside the valid range [${F}, ${s}]!`)},k;C?k=function(N,P){return E(P,this.name),P>>>0}:k=function(N,P){return E(P,this.name),P},wt(c,{name:f,fromWireType:a,toWireType:k,argPackAdvance:M,readValueFromPointer:Kr(f,y,F!==0),destructorFunction:null})},bi=(c,f,y)=>{var F=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=F[f];function a(_){var C=Y[_>>2],E=Y[_+4>>2];return new s(T.buffer,E,C)}y=ct(y),wt(c,{name:y,fromWireType:a,argPackAdvance:M,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},Bi=(c,f)=>{Mr(c)},wi=(c,f,y,F)=>{if(I(typeof c=="string",`stringToUTF8Array expects a string (got ${typeof c})`),!(F>0))return 0;for(var s=y,a=y+F-1,_=0;_<c.length;++_){var C=c.charCodeAt(_);if(C>=55296&&C<=57343){var E=c.charCodeAt(++_);C=65536+((C&1023)<<10)|E&1023}if(C<=127){if(y>=a)break;f[y++]=C}else if(C<=2047){if(y+1>=a)break;f[y++]=192|C>>6,f[y++]=128|C&63}else if(C<=65535){if(y+2>=a)break;f[y++]=224|C>>12,f[y++]=128|C>>6&63,f[y++]=128|C&63}else{if(y+3>=a)break;C>1114111&&de("Invalid Unicode code point "+fe(C)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),f[y++]=240|C>>18,f[y++]=128|C>>12&63,f[y++]=128|C>>6&63,f[y++]=128|C&63}}return f[y]=0,y-s},zn=(c,f,y)=>(I(typeof y=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),wi(c,w,f,y)),Lr=c=>{for(var f=0,y=0;y<c.length;++y){var F=c.charCodeAt(y);F<=127?f++:F<=2047?f+=2:F>=55296&&F<=57343?(f+=4,++y):f+=3}return f},Qi=(c,f)=>{f=ct(f);var y=f==="std::string";wt(c,{name:f,fromWireType(F){var s=Y[F>>2],a=F+4,_;if(y)for(var C=a,E=0;E<=s;++E){var k=a+E;if(E==s||w[k]==0){var N=k-C,P=oe(C,N);_===void 0?_=P:(_+="\0",_+=P),C=k+1}}else{for(var G=new Array(s),E=0;E<s;++E)G[E]=String.fromCharCode(w[a+E]);_=G.join("")}return Ot(F),_},toWireType(F,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var a,_=typeof s=="string";_||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||Ae("Cannot pass non-string to std::string"),y&&_?a=Lr(s):a=s.length;var C=Vr(4+a+1),E=C+4;if(Y[C>>2]=a,y&&_)zn(s,E,a+1);else if(_)for(var k=0;k<a;++k){var N=s.charCodeAt(k);N>255&&(Ot(E),Ae("String has UTF-16 code units that do not fit in 8 bits")),w[E+k]=N}else for(var k=0;k<a;++k)w[E+k]=s[k];return F!==null&&F.push(Ot,C),C},argPackAdvance:M,readValueFromPointer:zt,destructorFunction(F){Ot(F)}})},Fn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ki=(c,f)=>{I(c%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var y=c,F=y>>1,s=F+f/2;!(F>=s)&&U[F];)++F;if(y=F<<1,y-c>32&&Fn)return Fn.decode(w.subarray(c,y));for(var a="",_=0;!(_>=f/2);++_){var C=b[c+_*2>>1];if(C==0)break;a+=String.fromCharCode(C)}return a},Ur=(c,f,y)=>{if(I(f%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),I(typeof y=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),y??(y=2147483647),y<2)return 0;y-=2;for(var F=f,s=y<c.length*2?y/2:c.length,a=0;a<s;++a){var _=c.charCodeAt(a);b[f>>1]=_,f+=2}return b[f>>1]=0,f-F},Si=c=>c.length*2,Di=(c,f)=>{I(c%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var y=0,F="";!(y>=f/4);){var s=L[c+y*4>>2];if(s==0)break;if(++y,s>=65536){var a=s-65536;F+=String.fromCharCode(55296|a>>10,56320|a&1023)}else F+=String.fromCharCode(s)}return F},xr=(c,f,y)=>{if(I(f%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),I(typeof y=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),y??(y=2147483647),y<4)return 0;for(var F=f,s=F+y-4,a=0;a<c.length;++a){var _=c.charCodeAt(a);if(_>=55296&&_<=57343){var C=c.charCodeAt(++a);_=65536+((_&1023)<<10)|C&1023}if(L[f>>2]=_,f+=4,f+4>s)break}return L[f>>2]=0,f-F},Yr=c=>{for(var f=0,y=0;y<c.length;++y){var F=c.charCodeAt(y);F>=55296&&F<=57343&&++y,f+=4}return f},$r=(c,f,y)=>{y=ct(y);var F,s,a,_;f===2?(F=ki,s=Ur,_=Si,a=C=>U[C>>1]):f===4&&(F=Di,s=xr,_=Yr,a=C=>Y[C>>2]),wt(c,{name:y,fromWireType:C=>{for(var E=Y[C>>2],k,N=C+4,P=0;P<=E;++P){var G=C+4+P*f;if(P==E||a(G)==0){var q=G-N,j=F(N,q);k===void 0?k=j:(k+="\0",k+=j),N=G+f}}return Ot(C),k},toWireType:(C,E)=>{typeof E!="string"&&Ae(`Cannot pass non-string to C++ string type ${y}`);var k=_(E),N=Vr(4+k+f);return Y[N>>2]=k/f,s(E,N+4,k+f),C!==null&&C.push(Ot,N),N},argPackAdvance:M,readValueFromPointer:zt,destructorFunction(C){Ot(C)}})},Or=(c,f,y,F,s,a)=>{Wt[c]={name:ct(f),rawConstructor:Nt(y,F),rawDestructor:Nt(s,a),fields:[]}},ei=(c,f,y,F,s,a,_,C,E,k)=>{Wt[c].fields.push({fieldName:ct(f),getterReturnType:y,getter:Nt(F,s),getterContext:a,setterArgumentType:_,setter:Nt(C,E),setterContext:k})},Ti=(c,f)=>{f=ct(f),wt(c,{isVoid:!0,name:f,argPackAdvance:0,fromWireType:()=>{},toWireType:(y,F)=>{}})},Fi=(c,f)=>{var y=Lt[c];return y===void 0&&Ae(`${f} has unknown type ${Tr(c)}`),y},Ni=(c,f)=>{c=Fi(c,"_emval_take_value");var y=c.readValueFromPointer(f);return Hn.toHandle(y)},Ri=()=>{Ie("native code called abort()")},Mi=(c,f,y)=>w.copyWithin(c,f,f+y),Pi=c=>{Ie(`Cannot enlarge memory arrays to size ${c} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${T.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)},Li=c=>{w.length,c>>>=0,Pi(c)},Er=c=>{Ie("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},Kn=(c,f)=>(I(c==c>>>0||c==(c|0)),I(f===(f|0)),f+2097152>>>0<4194305-!!c?(c>>>0)+f*4294967296:NaN);function ti(c,f,y,F,s){return Kn(f,y),70}var Ui=[null,[],[]],xi=(c,f)=>{var y=Ui[c];I(y),f===0||f===10?((c===1?m:v)(se(y,0)),y.length=0):y.push(f)},Yi=(c,f,y,F)=>{for(var s=0,a=0;a<y;a++){var _=Y[f>>2],C=Y[f+4>>2];f+=8;for(var E=0;E<C;E++)xi(c,w[_+E]);s+=C}return Y[F>>2]=s,0},Oi=c=>{var f=e["_"+c];return I(f,"Cannot call unknown function "+c+", make sure it is exported"),f},Gi=(c,f)=>{I(c.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),T.set(c,f)},Hi=c=>{var f=Lr(c)+1,y=yn(f);return zn(c,y,f),y},Gr=(c,f,y,F,s)=>{var a={string:j=>{var _e=0;return j!=null&&j!==0&&(_e=Hi(j)),_e},array:j=>{var _e=yn(j.length);return Gi(j,_e),_e}};function _(j){return f==="string"?oe(j):f==="boolean"?!!j:j}var C=Oi(c),E=[],k=0;if(I(f!=="array",'Return type should not be "array".'),F)for(var N=0;N<F.length;N++){var P=a[y[N]];P?(k===0&&(k=ot()),E[N]=P(F[N])):E[N]=F[N]}var G=C(...E);function q(j){return k!==0&&rt(k),_(j)}return G=q(G),G},Vi=(c,f,y,F)=>(...s)=>Gr(c,f,y,s);on=e.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},In(),kt=e.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},pr(),tr(),Ir(),Dr=e.UnboundTypeError=pi(Error,"UnboundTypeError"),yi();function Ji(){$e("fetchSettings")}var Hr={__assert_fail:Pe,__cxa_begin_catch:tt,__cxa_find_matching_catch_2:Xn,__cxa_find_matching_catch_3:Wn,__cxa_throw:Dn,__resumeException:$t,_embind_finalize_value_object:_n,_embind_register_bigint:ln,_embind_register_bool:ce,_embind_register_class:mi,_embind_register_class_constructor:Ii,_embind_register_class_function:vi,_embind_register_emval:Mr,_embind_register_float:Pr,_embind_register_function:Vn,_embind_register_integer:Zr,_embind_register_memory_view:bi,_embind_register_optional:Bi,_embind_register_std_string:Qi,_embind_register_std_wstring:$r,_embind_register_value_object:Or,_embind_register_value_object_field:ei,_embind_register_void:Ti,_emval_take_value:Ni,abort:Ri,emscripten_memcpy_js:Mi,emscripten_resize_heap:Li,fd_close:Er,fd_seek:ti,fd_write:Yi,invoke_ii:zi,invoke_iii:Ki,invoke_iiii:rs,invoke_iiiii:ai,invoke_iiiiii:ii,invoke_iiiiiiii:ns,invoke_v:es,invoke_vi:$i,invoke_vii:ts,invoke_viii:ss,invoke_viiii:Zi,invoke_viiiii:ri,invoke_viiiiiiii:is,invoke_viiiiiiiiii:si},Zt=Je();e.__Z7computeNSt3__26vectorIdNS_9allocatorIdEEEENS0_IiNS1_IiEEEES5_S5_S5_S5_S5_=Qe("_Z7computeNSt3__26vectorIdNS_9allocatorIdEEEENS0_IiNS1_IiEEEES5_S5_S5_S5_S5_");var ji=Qe("__getTypeName"),Vr=Qe("malloc"),Ot=Qe("free"),mt=Qe("setThrew"),Jn=Qe("setTempRet0"),Jr=()=>(Jr=Zt.emscripten_stack_init)(),or=()=>(or=Zt.emscripten_stack_get_end)(),ot=Qe("stackSave"),rt=Qe("stackRestore"),yn=Qe("stackAlloc"),ni=Qe("__cxa_increment_exception_refcount"),Xi=Qe("__get_exception_message"),Wi=Qe("__cxa_can_catch"),qi=Qe("__cxa_is_pointer_type");e.dynCall_jiji=Qe("dynCall_jiji");function zi(c,f){var y=ot();try{return je(c)(f)}catch(F){if(rt(y),!(F instanceof De))throw F;mt(1,0)}}function Ki(c,f,y){var F=ot();try{return je(c)(f,y)}catch(s){if(rt(F),!(s instanceof De))throw s;mt(1,0)}}function Zi(c,f,y,F,s){var a=ot();try{je(c)(f,y,F,s)}catch(_){if(rt(a),!(_ instanceof De))throw _;mt(1,0)}}function $i(c,f){var y=ot();try{je(c)(f)}catch(F){if(rt(y),!(F instanceof De))throw F;mt(1,0)}}function es(c){var f=ot();try{je(c)()}catch(y){if(rt(f),!(y instanceof De))throw y;mt(1,0)}}function ts(c,f,y){var F=ot();try{je(c)(f,y)}catch(s){if(rt(F),!(s instanceof De))throw s;mt(1,0)}}function ri(c,f,y,F,s,a){var _=ot();try{je(c)(f,y,F,s,a)}catch(C){if(rt(_),!(C instanceof De))throw C;mt(1,0)}}function ns(c,f,y,F,s,a,_,C){var E=ot();try{return je(c)(f,y,F,s,a,_,C)}catch(k){if(rt(E),!(k instanceof De))throw k;mt(1,0)}}function rs(c,f,y,F){var s=ot();try{return je(c)(f,y,F)}catch(a){if(rt(s),!(a instanceof De))throw a;mt(1,0)}}function ii(c,f,y,F,s,a){var _=ot();try{return je(c)(f,y,F,s,a)}catch(C){if(rt(_),!(C instanceof De))throw C;mt(1,0)}}function si(c,f,y,F,s,a,_,C,E,k,N){var P=ot();try{je(c)(f,y,F,s,a,_,C,E,k,N)}catch(G){if(rt(P),!(G instanceof De))throw G;mt(1,0)}}function ai(c,f,y,F,s){var a=ot();try{return je(c)(f,y,F,s)}catch(_){if(rt(a),!(_ instanceof De))throw _;mt(1,0)}}function is(c,f,y,F,s,a,_,C,E){var k=ot();try{je(c)(f,y,F,s,a,_,C,E)}catch(N){if(rt(k),!(N instanceof De))throw N;mt(1,0)}}function ss(c,f,y,F){var s=ot();try{je(c)(f,y,F)}catch(a){if(rt(s),!(a instanceof De))throw a;mt(1,0)}}e.ccall=Gr,e.cwrap=Vi;var oi=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","growMemory","isLeapYear","ydayFromDate","arraySum","addDays","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","Browser_asyncPrepareDataCounter","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_createDataFile","FS_unlink","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","getFunctionArgsName","createJsInvokerSignature","registerInheritedInstance","unregisterInheritedInstance","enumReadValueFromPointer","validateThis","getStringOrSymbol","emval_get_global","emval_returnValue","emval_lookupTypes","emval_addMethodCaller"];oi.forEach(et);var as=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","abortOnCannotGrowMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","jstoi_s","dynCallLegacy","getDynCaller","dynCall","wasmTable","noExitRuntime","getCFunc","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","getPreloadedImageData__data","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","createJsInvoker","UnboundTypeError","PureVirtualError","GenericWireTypeSize","EmValType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","registeredPointers","registerType","integerReadValueFromPointer","floatReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_methodCallers","reflectConstruct"];as.forEach(x);var br;dt=function c(){br||li(),br||(dt=c)};function os(){Jr(),me()}function li(){if(We>0||(os(),Ve(),We>0))return;function c(){br||(br=!0,e.calledRun=!0,!D&&(we(),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),I(!e._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),Ke()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),c()},1)):c(),ge()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return li(),t.ready}})(),Ml=(()=>{var n=import.meta.url;return function(t={}){var e=t,r,i;e.ready=new Promise((s,a)=>{r=s,i=a}),["getExceptionMessage","$incrementExceptionRefcount","$decrementExceptionRefcount","_memory","__Z15getMorphOutlineiifNSt3__26vectorIhNS_9allocatorIhEEEENS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE","__Z7getBBoxNSt3__26vectorI11FeatureLineNS_9allocatorIS1_EEEENS0_IdNS2_IdEEEE","__Z7doMorphiiffffNSt3__26vectorIhNS_9allocatorIhEEEES3_NS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE","___indirect_function_table","onRuntimeInitialized"].forEach(s=>{Object.getOwnPropertyDescriptor(e.ready,s)||Object.defineProperty(e.ready,s,{get:()=>Ie("You are getting "+s+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>Ie("You are setting "+s+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var o=Object.assign({},e),A=!0,p=!1,u=!1,l=!1;if(e.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var g="";function h(s){return e.locateFile?e.locateFile(s,g):g+s}if(typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),n&&(g=n),g.startsWith("blob:")?g="":g=g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1),!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var m=e.print||console.log.bind(console),v=e.printErr||console.error.bind(console);Object.assign(e,o),o=null,Ji(),e.arguments&&e.arguments,Re("arguments","arguments_"),e.thisProgram&&e.thisProgram,Re("thisProgram","thisProgram"),e.quit&&e.quit,Re("quit","quit_"),I(typeof e.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),I(typeof e.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),I(typeof e.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),I(typeof e.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),I(typeof e.read>"u","Module.read option was removed (modify read_ in JS)"),I(typeof e.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),I(typeof e.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),I(typeof e.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),I(typeof e.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Re("asm","wasmExports"),Re("read","read_"),Re("readAsync","readAsync"),Re("readBinary","readBinary"),Re("setWindowTitle","setWindowTitle"),I(!p,"worker environment detected but not enabled at build time.  Add `worker` to `-sENVIRONMENT` to enable."),I(!u,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),I(!l,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var B;e.wasmBinary&&(B=e.wasmBinary),Re("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&v("no native wasm support detected");var Q,D=!1;function I(s,a){s||Ie("Assertion failed"+(a?": "+a:""))}var T,w,b,U,L,Y,z,Z;function ae(){var s=Q.buffer;e.HEAP8=T=new Int8Array(s),e.HEAP16=b=new Int16Array(s),e.HEAPU8=w=new Uint8Array(s),e.HEAPU16=U=new Uint16Array(s),e.HEAP32=L=new Int32Array(s),e.HEAPU32=Y=new Uint32Array(s),e.HEAPF32=z=new Float32Array(s),e.HEAPF64=Z=new Float64Array(s)}I(!e.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),I(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),I(!e.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),I(!e.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function me(){var s=or();I((s&3)==0),s==0&&(s+=4),Y[s>>2]=34821223,Y[s+4>>2]=2310721022,Y[0]=1668509029}function ge(){if(!D){var s=or();s==0&&(s+=4);var a=Y[s>>2],_=Y[s+4>>2];(a!=34821223||_!=2310721022)&&Ie(`Stack overflow! Stack cookie has been overwritten at ${fe(s)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${fe(_)} ${fe(a)}`),Y[0]!=1668509029&&Ie("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var s=new Int16Array(1),a=new Int8Array(s.buffer);if(s[0]=25459,a[0]!==115||a[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var Ee=[],pe=[],W=[],Ne=!1;function Ve(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)$(e.preRun.shift());re(Ee)}function we(){I(!Ne),Ne=!0,ge(),re(pe)}function Ke(){if(ge(),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Se(e.postRun.shift());re(W)}function $(s){Ee.unshift(s)}function be(s){pe.unshift(s)}function Se(s){W.unshift(s)}I(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),I(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),I(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),I(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var We=0,Ue=null,dt=null,Ze={};function jt(s){var a;We++,(a=e.monitorRunDependencies)==null||a.call(e,We),s?(I(!Ze[s]),Ze[s]=1,Ue===null&&typeof setInterval<"u"&&(Ue=setInterval(()=>{if(D){clearInterval(Ue),Ue=null;return}var _=!1;for(var C in Ze)_||(_=!0,v("still waiting on run dependencies:")),v(`dependency: ${C}`);_&&v("(end of list)")},1e4))):v("warning: run dependency added without ID")}function ft(s){var _;if(We--,(_=e.monitorRunDependencies)==null||_.call(e,We),s?(I(Ze[s]),delete Ze[s]):v("warning: run dependency removed without ID"),We==0&&(Ue!==null&&(clearInterval(Ue),Ue=null),dt)){var a=dt;dt=null,a()}}function Ie(s){var _;(_=e.onAbort)==null||_.call(e,s),s="Aborted("+s+")",v(s),D=!0;var a=new WebAssembly.RuntimeError(s);throw i(a),a}var X={error(){Ie("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){X.error()},createDataFile(){X.error()},createPreloadedFile(){X.error()},createLazyFile(){X.error()},open(){X.error()},mkdev(){X.error()},registerDevice(){X.error()},analyzePath(){X.error()},ErrnoError(){X.error()}};e.FS_createDataFile=X.createDataFile,e.FS_createPreloadedFile=X.createPreloadedFile;var ut="data:application/octet-stream;base64,",Mt=s=>s.startsWith(ut),Pt=s=>s.startsWith("file://");function Qe(s){return(...a)=>{I(Ne,`native function \`${s}\` called before runtime initialization`);var _=Zt[s];return I(_,`exported native function \`${s}\` not found`),_(...a)}}class De extends Error{}class Tt extends De{constructor(a){super(a),this.excPtr=a;const _=he(a);this.name=_[0],this.message=_[1]}}var Ye;e.locateFile?(Ye="wasmMorph.wasm",Mt(Ye)||(Ye=h(Ye))):Ye=new URL("/escherization/assets/wasmMorph-8dEaH1kH.wasm",import.meta.url).href;function bt(s){if(s==Ye&&B)return new Uint8Array(B);throw"both async and sync fetching of the wasm failed"}function lt(s){return!B&&A&&typeof fetch=="function"?fetch(s,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw`failed to load wasm binary file at '${s}'`;return a.arrayBuffer()}).catch(()=>bt(s)):Promise.resolve().then(()=>bt(s))}function gt(s,a,_){return lt(s).then(C=>WebAssembly.instantiate(C,a)).then(_,C=>{v(`failed to asynchronously prepare wasm: ${C}`),Pt(Ye)&&v(`warning: Loading from a file URI (${Ye}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),Ie(C)})}function _t(s,a,_,C){return!s&&typeof WebAssembly.instantiateStreaming=="function"&&!Mt(a)&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(E=>{var k=WebAssembly.instantiateStreaming(E,_);return k.then(C,function(N){return v(`wasm streaming compile failed: ${N}`),v("falling back to ArrayBuffer instantiation"),gt(a,_,C)})}):gt(a,_,C)}function Je(){var s={env:Hr,wasi_snapshot_preview1:Hr};function a(E,k){return Zt=E.exports,Q=Zt.memory,I(Q,"memory not found in wasm exports"),ae(),On=Zt.__indirect_function_table,I(On,"table not found in wasm exports"),be(Zt.__wasm_call_ctors),ft("wasm-instantiate"),Zt}jt("wasm-instantiate");var _=e;function C(E){I(e===_,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),_=null,a(E.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(s,a)}catch(E){v(`Module.instantiateWasm callback failed with error: ${E}`),i(E)}return _t(B,Ye,s,C).catch(i),{}}function Re(s,a,_=!0){Object.getOwnPropertyDescriptor(e,s)||Object.defineProperty(e,s,{configurable:!0,get(){let C=_?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";Ie(`\`Module.${s}\` has been replaced by \`${a}\``+C)}})}function $e(s){Object.getOwnPropertyDescriptor(e,s)&&Ie(`\`Module.${s}\` was supplied but \`${s}\` not included in INCOMING_MODULE_JS_API`)}function J(s){return s==="FS_createPath"||s==="FS_createDataFile"||s==="FS_createPreloadedFile"||s==="FS_unlink"||s==="addRunDependency"||s==="FS_createLazyFile"||s==="FS_createDevice"||s==="removeRunDependency"}function Me(s,a){typeof globalThis<"u"&&Object.defineProperty(globalThis,s,{configurable:!0,get(){de(`\`${s}\` is not longer defined by emscripten. ${a}`)}})}Me("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),Me("asm","Please use wasmExports instead");function et(s){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,s)&&Object.defineProperty(globalThis,s,{configurable:!0,get(){var a=`\`${s}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,_=s;_.startsWith("_")||(_="$"+s),a+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${_}')`,J(s)&&(a+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),de(a)}}),x(s)}function x(s){Object.getOwnPropertyDescriptor(e,s)||Object.defineProperty(e,s,{configurable:!0,get(){var a=`'${s}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;J(s)&&(a+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Ie(a)}})}var re=s=>{for(;s.length>0;)s.shift()(e)},R=s=>{var a=ot(),_=s();return rt(a),_},H=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,se=(s,a,_)=>{for(var C=a+_,E=a;s[E]&&!(E>=C);)++E;if(E-a>16&&s.buffer&&H)return H.decode(s.subarray(a,E));for(var k="";a<E;){var N=s[a++];if(!(N&128)){k+=String.fromCharCode(N);continue}var P=s[a++]&63;if((N&224)==192){k+=String.fromCharCode((N&31)<<6|P);continue}var G=s[a++]&63;if((N&240)==224?N=(N&15)<<12|P<<6|G:((N&248)!=240&&de("Invalid UTF-8 leading byte "+fe(N)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),N=(N&7)<<18|P<<12|G<<6|s[a++]&63),N<65536)k+=String.fromCharCode(N);else{var q=N-65536;k+=String.fromCharCode(55296|q>>10,56320|q&1023)}}return k},oe=(s,a)=>(I(typeof s=="number",`UTF8ToString expects a number (got ${typeof s})`),s?se(w,s,a):""),ie=s=>R(()=>{var a=yn(4),_=yn(4);Xi(s,a,_);var C=Y[a>>2],E=Y[_>>2],k=oe(C);Ot(C);var N;return E&&(N=oe(E),Ot(E)),[k,N]}),he=s=>ie(s);e.getExceptionMessage=he,e.noExitRuntime;var fe=s=>(I(typeof s=="number"),s>>>=0,"0x"+s.toString(16).padStart(8,"0")),de=s=>{de.shown||(de.shown={}),de.shown[s]||(de.shown[s]=1,v(s))},Pe=(s,a,_,C)=>{Ie(`Assertion failed: ${oe(s)}, at: `+[a?oe(a):"unknown filename",_,C?oe(C):"unknown function"])},tt=s=>{var a=new Xt(s);return a.get_caught()||a.set_caught(!0),a.set_rethrown(!1),ni(a.excPtr),a.get_exception_ptr()},nt=0;class Xt{constructor(a){this.excPtr=a,this.ptr=a-24}set_type(a){Y[this.ptr+4>>2]=a}get_type(){return Y[this.ptr+4>>2]}set_destructor(a){Y[this.ptr+8>>2]=a}get_destructor(){return Y[this.ptr+8>>2]}set_caught(a){a=a?1:0,T[this.ptr+12]=a}get_caught(){return T[this.ptr+12]!=0}set_rethrown(a){a=a?1:0,T[this.ptr+13]=a}get_rethrown(){return T[this.ptr+13]!=0}init(a,_){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(_)}set_adjusted_ptr(a){Y[this.ptr+16>>2]=a}get_adjusted_ptr(){return Y[this.ptr+16>>2]}get_exception_ptr(){var a=qi(this.get_type());if(a)return Y[this.excPtr>>2];var _=this.get_adjusted_ptr();return _!==0?_:this.excPtr}}var $t=s=>{throw nt||(nt=new Tt(s)),nt},an=s=>{var a=nt==null?void 0:nt.excPtr;if(!a)return Jn(0),0;var _=new Xt(a);_.set_adjusted_ptr(a);var C=_.get_type();if(!C)return Jn(0),a;for(var E in s){var k=s[E];if(k===0||k===C)break;var N=_.ptr+16;if(Wi(k,C,N))return Jn(k),a}return Jn(C),a},Xn=()=>an([]),Wn=s=>an([s]),Dn=(s,a,_)=>{var C=new Xt(s);throw C.init(a,_),nt=new Tt(s),nt},Wt={},rn=s=>{for(;s.length;){var a=s.pop(),_=s.pop();_(a)}};function zt(s){return this.fromWireType(Y[s>>2])}var qt={},Lt={},Kt={},on,en=s=>{throw new on(s)},Ht=(s,a,_)=>{s.forEach(function(P){Kt[P]=a});function C(P){var G=_(P);G.length!==s.length&&en("Mismatched type converter count");for(var q=0;q<s.length;++q)wt(s[q],G[q])}var E=new Array(a.length),k=[],N=0;a.forEach((P,G)=>{Lt.hasOwnProperty(P)?E[G]=Lt[P]:(k.push(P),qt.hasOwnProperty(P)||(qt[P]=[]),qt[P].push(()=>{E[G]=Lt[P],++N,N===k.length&&C(E)}))}),k.length===0&&C(E)},_n=s=>{var a=Wt[s];delete Wt[s];var _=a.rawConstructor,C=a.rawDestructor,E=a.fields,k=E.map(N=>N.getterReturnType).concat(E.map(N=>N.setterArgumentType));Ht([s],k,N=>{var P={};return E.forEach((G,q)=>{var j=G.fieldName,_e=N[q],Le=G.getter,Bt=G.getterContext,it=N[q+E.length],Qt=G.setter,En=G.setterContext;P[j]={read:bn=>_e.fromWireType(Le(Bt,bn)),write:(bn,Zn)=>{var tn=[];Qt(En,bn,it.toWireType(tn,Zn)),rn(tn)}}}),[{name:a.name,fromWireType:G=>{var q={};for(var j in P)q[j]=P[j].read(G);return C(G),q},toWireType:(G,q)=>{for(var j in P)if(!(j in q))throw new TypeError(`Missing field: "${j}"`);var _e=_();for(j in P)P[j].write(_e,q[j]);return G!==null&&G.push(C,_e),_e},argPackAdvance:M,readValueFromPointer:zt,destructorFunction:C}]})},ln=(s,a,_,C,E)=>{},In=()=>{for(var s=new Array(256),a=0;a<256;++a)s[a]=String.fromCharCode(a);fn=s},fn,ct=s=>{for(var a="",_=s;w[_];)a+=fn[w[_++]];return a},kt,Ae=s=>{throw new kt(s)};function Un(s,a,_={}){var C=a.name;if(s||Ae(`type "${C}" must have a positive integer typeid pointer`),Lt.hasOwnProperty(s)){if(_.ignoreDuplicateRegistrations)return;Ae(`Cannot register type '${C}' twice`)}if(Lt[s]=a,delete Kt[s],qt.hasOwnProperty(s)){var E=qt[s];delete qt[s],E.forEach(k=>k())}}function wt(s,a,_={}){if(!("argPackAdvance"in a))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Un(s,a,_)}var M=8,ce=(s,a,_,C)=>{a=ct(a),wt(s,{name:a,fromWireType:function(E){return!!E},toWireType:function(E,k){return k?_:C},argPackAdvance:M,readValueFromPointer:function(E){return this.fromWireType(w[E])},destructorFunction:null})},Ce=s=>({count:s.count,deleteScheduled:s.deleteScheduled,preservePointerOnDelete:s.preservePointerOnDelete,ptr:s.ptr,ptrType:s.ptrType,smartPtr:s.smartPtr,smartPtrType:s.smartPtrType}),Ge=s=>{function a(_){return _.$$.ptrType.registeredClass.name}Ae(a(s)+" instance already deleted")},ve=!1,st=s=>{},ht=s=>{s.smartPtr?s.smartPtrType.rawDestructor(s.smartPtr):s.ptrType.registeredClass.rawDestructor(s.ptr)},Oe=s=>{s.count.value-=1;var a=s.count.value===0;a&&ht(s)},at=(s,a,_)=>{if(a===_)return s;if(_.baseClass===void 0)return null;var C=at(s,a,_.baseClass);return C===null?null:_.downcast(C)},pt={},St=()=>Object.keys(Et).length,ke=()=>{var s=[];for(var a in Et)Et.hasOwnProperty(a)&&s.push(Et[a]);return s},ye=[],ue=()=>{for(;ye.length;){var s=ye.pop();s.$$.deleteScheduled=!1,s.delete()}},xe,He=s=>{xe=s,ye.length&&xe&&xe(ue)},tr=()=>{e.getInheritedInstanceCount=St,e.getLiveInheritedInstances=ke,e.flushPendingDeletes=ue,e.setDelayFunction=He},Et={},kr=(s,a)=>{for(a===void 0&&Ae("ptr should not be undefined");s.baseClass;)a=s.upcast(a),s=s.baseClass;return a},hr=(s,a)=>(a=kr(s,a),Et[a]),At=(s,a)=>{(!a.ptrType||!a.ptr)&&en("makeClassHandle requires ptr and ptrType");var _=!!a.smartPtrType,C=!!a.smartPtr;return _!==C&&en("Both smartPtrType and smartPtr must be specified"),a.count={value:1},un(Object.create(s,{$$:{value:a,writable:!0}}))};function Tn(s){var a=this.getPointee(s);if(!a)return this.destructor(s),null;var _=hr(this.registeredClass,a);if(_!==void 0){if(_.$$.count.value===0)return _.$$.ptr=a,_.$$.smartPtr=s,_.clone();var C=_.clone();return this.destructor(s),C}function E(){return this.isSmartPointer?At(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:a,smartPtrType:this,smartPtr:s}):At(this.registeredClass.instancePrototype,{ptrType:this,ptr:s})}var k=this.registeredClass.getActualType(a),N=pt[k];if(!N)return E.call(this);var P;this.isConst?P=N.constPointerType:P=N.pointerType;var G=at(a,this.registeredClass,P.registeredClass);return G===null?E.call(this):this.isSmartPointer?At(P.registeredClass.instancePrototype,{ptrType:P,ptr:G,smartPtrType:this,smartPtr:s}):At(P.registeredClass.instancePrototype,{ptrType:P,ptr:G})}var un=s=>typeof FinalizationRegistry>"u"?(un=a=>a,s):(ve=new FinalizationRegistry(a=>{console.warn(a.leakWarning.stack.replace(/^Error: /,"")),Oe(a.$$)}),un=a=>{var _=a.$$,C=!!_.smartPtr;if(C){var E={$$:_},k=_.ptrType.registeredClass;E.leakWarning=new Error(`Embind found a leaked C++ instance ${k.name} <${fe(_.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`),"captureStackTrace"in Error&&Error.captureStackTrace(E.leakWarning,Tn),ve.register(a,E,a)}return a},st=a=>ve.unregister(a),un(s)),pr=()=>{Object.assign(vn.prototype,{isAliasOf(s){if(!(this instanceof vn)||!(s instanceof vn))return!1;var a=this.$$.ptrType.registeredClass,_=this.$$.ptr;s.$$=s.$$;for(var C=s.$$.ptrType.registeredClass,E=s.$$.ptr;a.baseClass;)_=a.upcast(_),a=a.baseClass;for(;C.baseClass;)E=C.upcast(E),C=C.baseClass;return a===C&&_===E},clone(){if(this.$$.ptr||Ge(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var s=un(Object.create(Object.getPrototypeOf(this),{$$:{value:Ce(this.$$)}}));return s.$$.count.value+=1,s.$$.deleteScheduled=!1,s},delete(){this.$$.ptr||Ge(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ae("Object already scheduled for deletion"),st(this),Oe(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Ge(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ae("Object already scheduled for deletion"),ye.push(this),ye.length===1&&xe&&xe(ue),this.$$.deleteScheduled=!0,this}})};function vn(){}var hn=(s,a)=>Object.defineProperty(a,"name",{value:s}),qn=(s,a,_)=>{if(s[a].overloadTable===void 0){var C=s[a];s[a]=function(...E){return s[a].overloadTable.hasOwnProperty(E.length)||Ae(`Function '${_}' called with an invalid number of arguments (${E.length}) - expects one of (${s[a].overloadTable})!`),s[a].overloadTable[E.length].apply(this,E)},s[a].overloadTable=[],s[a].overloadTable[C.argCount]=C}},xn=(s,a,_)=>{e.hasOwnProperty(s)?((_===void 0||e[s].overloadTable!==void 0&&e[s].overloadTable[_]!==void 0)&&Ae(`Cannot register public name '${s}' twice`),qn(e,s,s),e.hasOwnProperty(_)&&Ae(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`),e[s].overloadTable[_]=a):(e[s]=a,_!==void 0&&(e[s].numArguments=_))},Te=48,qe=57,Cn=s=>{if(s===void 0)return"_unknown";s=s.replace(/[^a-zA-Z0-9_]/g,"$");var a=s.charCodeAt(0);return a>=Te&&a<=qe?`_${s}`:s};function mr(s,a,_,C,E,k,N,P){this.name=s,this.constructor=a,this.instancePrototype=_,this.rawDestructor=C,this.baseClass=E,this.getActualType=k,this.upcast=N,this.downcast=P,this.pureVirtualFunctions=[]}var sn=(s,a,_)=>{for(;a!==_;)a.upcast||Ae(`Expected null or instance of ${_.name}, got an instance of ${a.name}`),s=a.upcast(s),a=a.baseClass;return s};function pn(s,a){if(a===null)return this.isReference&&Ae(`null is not a valid ${this.name}`),0;a.$$||Ae(`Cannot pass "${cn(a)}" as a ${this.name}`),a.$$.ptr||Ae(`Cannot pass deleted object as a pointer of type ${this.name}`);var _=a.$$.ptrType.registeredClass,C=sn(a.$$.ptr,_,this.registeredClass);return C}function nr(s,a){var _;if(a===null)return this.isReference&&Ae(`null is not a valid ${this.name}`),this.isSmartPointer?(_=this.rawConstructor(),s!==null&&s.push(this.rawDestructor,_),_):0;(!a||!a.$$)&&Ae(`Cannot pass "${cn(a)}" as a ${this.name}`),a.$$.ptr||Ae(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&a.$$.ptrType.isConst&&Ae(`Cannot convert argument of type ${a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name} to parameter type ${this.name}`);var C=a.$$.ptrType.registeredClass;if(_=sn(a.$$.ptr,C,this.registeredClass),this.isSmartPointer)switch(a.$$.smartPtr===void 0&&Ae("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:a.$$.smartPtrType===this?_=a.$$.smartPtr:Ae(`Cannot convert argument of type ${a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:_=a.$$.smartPtr;break;case 2:if(a.$$.smartPtrType===this)_=a.$$.smartPtr;else{var E=a.clone();_=this.rawShare(_,Hn.toHandle(()=>E.delete())),s!==null&&s.push(this.rawDestructor,_)}break;default:Ae("Unsupporting sharing policy")}return _}function rr(s,a){if(a===null)return this.isReference&&Ae(`null is not a valid ${this.name}`),0;a.$$||Ae(`Cannot pass "${cn(a)}" as a ${this.name}`),a.$$.ptr||Ae(`Cannot pass deleted object as a pointer of type ${this.name}`),a.$$.ptrType.isConst&&Ae(`Cannot convert argument of type ${a.$$.ptrType.name} to parameter type ${this.name}`);var _=a.$$.ptrType.registeredClass,C=sn(a.$$.ptr,_,this.registeredClass);return C}var Ir=()=>{Object.assign(mn.prototype,{getPointee(s){return this.rawGetPointee&&(s=this.rawGetPointee(s)),s},destructor(s){var a;(a=this.rawDestructor)==null||a.call(this,s)},argPackAdvance:M,readValueFromPointer:zt,fromWireType:Tn})};function mn(s,a,_,C,E,k,N,P,G,q,j){this.name=s,this.registeredClass=a,this.isReference=_,this.isConst=C,this.isSmartPointer=E,this.pointeeType=k,this.sharingPolicy=N,this.rawGetPointee=P,this.rawConstructor=G,this.rawShare=q,this.rawDestructor=j,!E&&a.baseClass===void 0?C?(this.toWireType=pn,this.destructorFunction=null):(this.toWireType=rr,this.destructorFunction=null):this.toWireType=nr}var Yt=(s,a,_)=>{e.hasOwnProperty(s)||en("Replacing nonexistent public symbol"),e[s].overloadTable!==void 0&&_!==void 0?e[s].overloadTable[_]=a:(e[s]=a,e[s].argCount=_)},vr=(s,a,_)=>{I("dynCall_"+s in e,`bad function pointer type - dynCall function not found for sig '${s}'`),_!=null&&_.length?I(_.length===s.substring(1).replace(/j/g,"--").length):I(s.length==1);var C=e["dynCall_"+s];return C(a,..._)},Yn=[],On,je=s=>{var a=Yn[s];return a||(s>=Yn.length&&(Yn.length=s+1),Yn[s]=a=On.get(s)),I(On.get(s)==a,"JavaScript-side Wasm function table mirror is out of date!"),a},Sr=(s,a,_=[])=>{if(s.includes("j"))return vr(s,a,_);I(je(a),`missing table entry in dynCall: ${a}`);var C=je(a)(..._);return C},qr=(s,a)=>(I(s.includes("j")||s.includes("p"),"getDynCaller should only be called with i64 sigs"),(..._)=>Sr(s,a,_)),Nt=(s,a)=>{s=ct(s);function _(){return s.includes("j")?qr(s,a):je(a)}var C=_();return typeof C!="function"&&Ae(`unknown function pointer with signature ${s}: ${a}`),C},pi=(s,a)=>{var _=hn(a,function(C){this.name=a,this.message=C;var E=new Error(C).stack;E!==void 0&&(this.stack=this.toString()+`
`+E.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(s.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},Dr,Tr=s=>{var a=ji(s),_=ct(a);return Ot(a),_},Gn=(s,a)=>{var _=[],C={};function E(k){if(!C[k]&&!Lt[k]){if(Kt[k]){Kt[k].forEach(E);return}_.push(k),C[k]=!0}}throw a.forEach(E),new Dr(`${s}: `+_.map(Tr).join([", "]))},mi=(s,a,_,C,E,k,N,P,G,q,j,_e,Le)=>{j=ct(j),k=Nt(E,k),P&&(P=Nt(N,P)),q&&(q=Nt(G,q)),Le=Nt(_e,Le);var Bt=Cn(j);xn(Bt,function(){Gn(`Cannot construct ${j} due to unbound types`,[C])}),Ht([s,a,_],C?[C]:[],it=>{var Cs;it=it[0];var Qt,En;C?(Qt=it.registeredClass,En=Qt.instancePrototype):En=vn.prototype;var bn=hn(j,function(...ls){if(Object.getPrototypeOf(this)!==Zn)throw new kt("Use 'new' to construct "+j);if(tn.constructor_body===void 0)throw new kt(j+" has no accessible constructor");var ys=tn.constructor_body[ls.length];if(ys===void 0)throw new kt(`Tried to invoke ctor of ${j} with invalid number of parameters (${ls.length}) - expected (${Object.keys(tn.constructor_body).toString()}) parameters instead!`);return ys.apply(this,ls)}),Zn=Object.create(En,{constructor:{value:bn}});bn.prototype=Zn;var tn=new mr(j,bn,Zn,Le,Qt,k,P,q);tn.baseClass&&((Cs=tn.baseClass).__derivedClasses??(Cs.__derivedClasses=[]),tn.baseClass.__derivedClasses.push(tn));var jr=new mn(j,tn,!0,!1,!1),Xr=new mn(j+"*",tn,!1,!1,!1),vs=new mn(j+" const*",tn,!1,!0,!1);return pt[s]={pointerType:Xr,constPointerType:vs},Yt(Bt,bn),[jr,Xr,vs]})},ir=(s,a)=>{for(var _=[],C=0;C<s;C++)_.push(Y[a+C*4>>2]);return _};function Fr(s){for(var a=1;a<s.length;++a)if(s[a]!==null&&s[a].destructorFunction===void 0)return!0;return!1}function Cr(s,a){if(!(s instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof s} which is not a function`);var _=hn(s.name||"unknownFunctionName",function(){});_.prototype=s.prototype;var C=new _,E=s.apply(C,a);return E instanceof Object?E:C}function zr(s,a,_,C){for(var E=Fr(s),k=s.length,N="",P="",G=0;G<k-2;++G)N+=(G!==0?", ":"")+"arg"+G,P+=(G!==0?", ":"")+"arg"+G+"Wired";var q=`
        return function (${N}) {
        if (arguments.length !== ${k-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${k-2}');
        }`;E&&(q+=`var destructors = [];
`);var j=E?"destructors":"null",_e=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];a&&(q+="var thisWired = classParam['toWireType']("+j+`, this);
`);for(var G=0;G<k-2;++G)q+="var arg"+G+"Wired = argType"+G+"['toWireType']("+j+", arg"+G+`);
`,_e.push("argType"+G);if(a&&(P="thisWired"+(P.length>0?", ":"")+P),q+=(_||C?"var rv = ":"")+"invoker(fn"+(P.length>0?", ":"")+P+`);
`,E)q+=`runDestructors(destructors);
`;else for(var G=a?1:2;G<s.length;++G){var Le=G===1?"thisWired":"arg"+(G-2)+"Wired";s[G].destructorFunction!==null&&(q+=`${Le}_dtor(${Le});
`,_e.push(`${Le}_dtor`))}return _&&(q+=`var ret = retType['fromWireType'](rv);
return ret;
`),q+=`}
`,q=`if (arguments.length !== ${_e.length}){ throw new Error(humanName + "Expected ${_e.length} closure arguments " + arguments.length + " given."); }
${q}`,[_e,q]}function sr(s,a,_,C,E,k){var N=a.length;N<2&&Ae("argTypes array size mismatch! Must at least get return value and 'this' types!"),I(!k,"Async bindings are only supported with JSPI.");for(var P=a[1]!==null&&_!==null,G=Fr(a),q=a[0].name!=="void",j=[s,Ae,C,E,rn,a[0],a[1]],_e=0;_e<N-2;++_e)j.push(a[_e+2]);if(!G)for(var _e=P?1:2;_e<a.length;++_e)a[_e].destructorFunction!==null&&j.push(a[_e].destructorFunction);let[Le,Bt]=zr(a,P,q,k);Le.push(Bt);var it=Cr(Function,Le)(...j);return hn(s,it)}var Ii=(s,a,_,C,E,k)=>{I(a>0);var N=ir(a,_);E=Nt(C,E),Ht([],[s],P=>{P=P[0];var G=`constructor ${P.name}`;if(P.registeredClass.constructor_body===void 0&&(P.registeredClass.constructor_body=[]),P.registeredClass.constructor_body[a-1]!==void 0)throw new kt(`Cannot register multiple constructors with identical number of parameters (${a-1}) for class '${P.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return P.registeredClass.constructor_body[a-1]=()=>{Gn(`Cannot construct ${P.name} due to unbound types`,N)},Ht([],N,q=>(q.splice(1,0,null),P.registeredClass.constructor_body[a-1]=sr(G,q,null,E,k),[])),[]})},Nr=s=>{s=s.trim();const a=s.indexOf("(");return a!==-1?(I(s[s.length-1]==")","Parentheses for argument names should match."),s.substr(0,a)):s},vi=(s,a,_,C,E,k,N,P,G)=>{var q=ir(_,C);a=ct(a),a=Nr(a),k=Nt(E,k),Ht([],[s],j=>{j=j[0];var _e=`${j.name}.${a}`;a.startsWith("@@")&&(a=Symbol[a.substring(2)]),P&&j.registeredClass.pureVirtualFunctions.push(a);function Le(){Gn(`Cannot call ${_e} due to unbound types`,q)}var Bt=j.registeredClass.instancePrototype,it=Bt[a];return it===void 0||it.overloadTable===void 0&&it.className!==j.name&&it.argCount===_-2?(Le.argCount=_-2,Le.className=j.name,Bt[a]=Le):(qn(Bt,a,_e),Bt[a].overloadTable[_-2]=Le),Ht([],q,Qt=>{var En=sr(_e,Qt,j,k,N,G);return Bt[a].overloadTable===void 0?(En.argCount=_-2,Bt[a]=En):Bt[a].overloadTable[_-2]=En,[]}),[]})},ar=[],Rt=[],Rr=s=>{s>9&&--Rt[s+1]===0&&(I(Rt[s]!==void 0,"Decref for unallocated handle."),Rt[s]=void 0,ar.push(s))},Ci=()=>Rt.length/2-5-ar.length,yi=()=>{Rt.push(0,1,void 0,1,null,1,!0,1,!1,1),I(Rt.length===5*2),e.count_emval_handles=Ci},Hn={toValue:s=>(s||Ae("Cannot use deleted val. handle = "+s),I(s===2||Rt[s]!==void 0&&s%2===0,`invalid handle: ${s}`),Rt[s]),toHandle:s=>{switch(s){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const a=ar.pop()||Rt.length;return Rt[a]=s,Rt[a+1]=1,a}}}},Ei={name:"emscripten::val",fromWireType:s=>{var a=Hn.toValue(s);return Rr(s),a},toWireType:(s,a)=>Hn.toHandle(a),argPackAdvance:M,readValueFromPointer:zt,destructorFunction:null},Mr=s=>wt(s,Ei),cn=s=>{if(s===null)return"null";var a=typeof s;return a==="object"||a==="array"||a==="function"?s.toString():""+s},yr=(s,a)=>{switch(a){case 4:return function(_){return this.fromWireType(z[_>>2])};case 8:return function(_){return this.fromWireType(Z[_>>3])};default:throw new TypeError(`invalid float width (${a}): ${s}`)}},Pr=(s,a,_)=>{a=ct(a),wt(s,{name:a,fromWireType:C=>C,toWireType:(C,E)=>{if(typeof E!="number"&&typeof E!="boolean")throw new TypeError(`Cannot convert ${cn(E)} to ${this.name}`);return E},argPackAdvance:M,readValueFromPointer:yr(a,_),destructorFunction:null})},Vn=(s,a,_,C,E,k,N)=>{var P=ir(a,_);s=ct(s),s=Nr(s),E=Nt(C,E),xn(s,function(){Gn(`Cannot call ${s} due to unbound types`,P)},a-1),Ht([],P,G=>{var q=[G[0],null].concat(G.slice(1));return Yt(s,sr(s,q,null,E,k,N),a-1),[]})},Kr=(s,a,_)=>{switch(a){case 1:return _?C=>T[C]:C=>w[C];case 2:return _?C=>b[C>>1]:C=>U[C>>1];case 4:return _?C=>L[C>>2]:C=>Y[C>>2];default:throw new TypeError(`invalid integer width (${a}): ${s}`)}},Zr=(s,a,_,C,E)=>{a=ct(a),E===-1&&(E=4294967295);var k=j=>j;if(C===0){var N=32-8*_;k=j=>j<<N>>>N}var P=a.includes("unsigned"),G=(j,_e)=>{if(typeof j!="number"&&typeof j!="boolean")throw new TypeError(`Cannot convert "${cn(j)}" to ${_e}`);if(j<C||j>E)throw new TypeError(`Passing a number "${cn(j)}" from JS side to C/C++ side to an argument of type "${a}", which is outside the valid range [${C}, ${E}]!`)},q;P?q=function(j,_e){return G(_e,this.name),_e>>>0}:q=function(j,_e){return G(_e,this.name),_e},wt(s,{name:a,fromWireType:k,toWireType:q,argPackAdvance:M,readValueFromPointer:Kr(a,_,C!==0),destructorFunction:null})},bi=(s,a,_)=>{var C=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],E=C[a];function k(N){var P=Y[N>>2],G=Y[N+4>>2];return new E(T.buffer,G,P)}_=ct(_),wt(s,{name:_,fromWireType:k,argPackAdvance:M,readValueFromPointer:k},{ignoreDuplicateRegistrations:!0})},Bi=(s,a)=>{Mr(s)},wi=(s,a,_,C)=>{if(I(typeof s=="string",`stringToUTF8Array expects a string (got ${typeof s})`),!(C>0))return 0;for(var E=_,k=_+C-1,N=0;N<s.length;++N){var P=s.charCodeAt(N);if(P>=55296&&P<=57343){var G=s.charCodeAt(++N);P=65536+((P&1023)<<10)|G&1023}if(P<=127){if(_>=k)break;a[_++]=P}else if(P<=2047){if(_+1>=k)break;a[_++]=192|P>>6,a[_++]=128|P&63}else if(P<=65535){if(_+2>=k)break;a[_++]=224|P>>12,a[_++]=128|P>>6&63,a[_++]=128|P&63}else{if(_+3>=k)break;P>1114111&&de("Invalid Unicode code point "+fe(P)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),a[_++]=240|P>>18,a[_++]=128|P>>12&63,a[_++]=128|P>>6&63,a[_++]=128|P&63}}return a[_]=0,_-E},zn=(s,a,_)=>(I(typeof _=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),wi(s,w,a,_)),Lr=s=>{for(var a=0,_=0;_<s.length;++_){var C=s.charCodeAt(_);C<=127?a++:C<=2047?a+=2:C>=55296&&C<=57343?(a+=4,++_):a+=3}return a},Qi=(s,a)=>{a=ct(a);var _=a==="std::string";wt(s,{name:a,fromWireType(C){var E=Y[C>>2],k=C+4,N;if(_)for(var P=k,G=0;G<=E;++G){var q=k+G;if(G==E||w[q]==0){var j=q-P,_e=oe(P,j);N===void 0?N=_e:(N+="\0",N+=_e),P=q+1}}else{for(var Le=new Array(E),G=0;G<E;++G)Le[G]=String.fromCharCode(w[k+G]);N=Le.join("")}return Ot(C),N},toWireType(C,E){E instanceof ArrayBuffer&&(E=new Uint8Array(E));var k,N=typeof E=="string";N||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int8Array||Ae("Cannot pass non-string to std::string"),_&&N?k=Lr(E):k=E.length;var P=Vr(4+k+1),G=P+4;if(Y[P>>2]=k,_&&N)zn(E,G,k+1);else if(N)for(var q=0;q<k;++q){var j=E.charCodeAt(q);j>255&&(Ot(G),Ae("String has UTF-16 code units that do not fit in 8 bits")),w[G+q]=j}else for(var q=0;q<k;++q)w[G+q]=E[q];return C!==null&&C.push(Ot,P),P},argPackAdvance:M,readValueFromPointer:zt,destructorFunction(C){Ot(C)}})},Fn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ki=(s,a)=>{I(s%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var _=s,C=_>>1,E=C+a/2;!(C>=E)&&U[C];)++C;if(_=C<<1,_-s>32&&Fn)return Fn.decode(w.subarray(s,_));for(var k="",N=0;!(N>=a/2);++N){var P=b[s+N*2>>1];if(P==0)break;k+=String.fromCharCode(P)}return k},Ur=(s,a,_)=>{if(I(a%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),I(typeof _=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),_??(_=2147483647),_<2)return 0;_-=2;for(var C=a,E=_<s.length*2?_/2:s.length,k=0;k<E;++k){var N=s.charCodeAt(k);b[a>>1]=N,a+=2}return b[a>>1]=0,a-C},Si=s=>s.length*2,Di=(s,a)=>{I(s%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var _=0,C="";!(_>=a/4);){var E=L[s+_*4>>2];if(E==0)break;if(++_,E>=65536){var k=E-65536;C+=String.fromCharCode(55296|k>>10,56320|k&1023)}else C+=String.fromCharCode(E)}return C},xr=(s,a,_)=>{if(I(a%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),I(typeof _=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),_??(_=2147483647),_<4)return 0;for(var C=a,E=C+_-4,k=0;k<s.length;++k){var N=s.charCodeAt(k);if(N>=55296&&N<=57343){var P=s.charCodeAt(++k);N=65536+((N&1023)<<10)|P&1023}if(L[a>>2]=N,a+=4,a+4>E)break}return L[a>>2]=0,a-C},Yr=s=>{for(var a=0,_=0;_<s.length;++_){var C=s.charCodeAt(_);C>=55296&&C<=57343&&++_,a+=4}return a},$r=(s,a,_)=>{_=ct(_);var C,E,k,N;a===2?(C=ki,E=Ur,N=Si,k=P=>U[P>>1]):a===4&&(C=Di,E=xr,N=Yr,k=P=>Y[P>>2]),wt(s,{name:_,fromWireType:P=>{for(var G=Y[P>>2],q,j=P+4,_e=0;_e<=G;++_e){var Le=P+4+_e*a;if(_e==G||k(Le)==0){var Bt=Le-j,it=C(j,Bt);q===void 0?q=it:(q+="\0",q+=it),j=Le+a}}return Ot(P),q},toWireType:(P,G)=>{typeof G!="string"&&Ae(`Cannot pass non-string to C++ string type ${_}`);var q=N(G),j=Vr(4+q+a);return Y[j>>2]=q/a,E(G,j+4,q+a),P!==null&&P.push(Ot,j),j},argPackAdvance:M,readValueFromPointer:zt,destructorFunction(P){Ot(P)}})},Or=(s,a,_,C,E,k)=>{Wt[s]={name:ct(a),rawConstructor:Nt(_,C),rawDestructor:Nt(E,k),fields:[]}},ei=(s,a,_,C,E,k,N,P,G,q)=>{Wt[s].fields.push({fieldName:ct(a),getterReturnType:_,getter:Nt(C,E),getterContext:k,setterArgumentType:N,setter:Nt(P,G),setterContext:q})},Ti=(s,a)=>{a=ct(a),wt(s,{isVoid:!0,name:a,argPackAdvance:0,fromWireType:()=>{},toWireType:(_,C)=>{}})},Fi=(s,a)=>{var _=Lt[s];return _===void 0&&Ae(`${a} has unknown type ${Tr(s)}`),_},Ni=(s,a)=>{s=Fi(s,"_emval_take_value");var _=s.readValueFromPointer(a);return Hn.toHandle(_)},Ri=()=>{Ie("native code called abort()")},Mi=(s,a,_)=>w.copyWithin(s,a,a+_),Pi=s=>{Ie(`Cannot enlarge memory arrays to size ${s} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${T.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)},Li=s=>{w.length,s>>>=0,Pi(s)},Er=s=>{Ie("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},Kn=(s,a)=>(I(s==s>>>0||s==(s|0)),I(a===(a|0)),a+2097152>>>0<4194305-!!s?(s>>>0)+a*4294967296:NaN);function ti(s,a,_,C,E){return Kn(a,_),70}var Ui=[null,[],[]],xi=(s,a)=>{var _=Ui[s];I(_),a===0||a===10?((s===1?m:v)(se(_,0)),_.length=0):_.push(a)},Yi=(s,a,_,C)=>{for(var E=0,k=0;k<_;k++){var N=Y[a>>2],P=Y[a+4>>2];a+=8;for(var G=0;G<P;G++)xi(s,w[N+G]);E+=P}return Y[C>>2]=E,0},Oi=s=>{var a=e["_"+s];return I(a,"Cannot call unknown function "+s+", make sure it is exported"),a},Gi=(s,a)=>{I(s.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),T.set(s,a)},Hi=s=>{var a=Lr(s)+1,_=yn(a);return zn(s,_,a),_},Gr=(s,a,_,C,E)=>{var k={string:it=>{var Qt=0;return it!=null&&it!==0&&(Qt=Hi(it)),Qt},array:it=>{var Qt=yn(it.length);return Gi(it,Qt),Qt}};function N(it){return a==="string"?oe(it):a==="boolean"?!!it:it}var P=Oi(s),G=[],q=0;if(I(a!=="array",'Return type should not be "array".'),C)for(var j=0;j<C.length;j++){var _e=k[_[j]];_e?(q===0&&(q=ot()),G[j]=_e(C[j])):G[j]=C[j]}var Le=P(...G);function Bt(it){return q!==0&&rt(q),N(it)}return Le=Bt(Le),Le},Vi=(s,a,_,C)=>(...E)=>Gr(s,a,_,E);on=e.InternalError=class extends Error{constructor(a){super(a),this.name="InternalError"}},In(),kt=e.BindingError=class extends Error{constructor(a){super(a),this.name="BindingError"}},pr(),tr(),Ir(),Dr=e.UnboundTypeError=pi(Error,"UnboundTypeError"),yi();function Ji(){$e("fetchSettings")}var Hr={__assert_fail:Pe,__cxa_begin_catch:tt,__cxa_find_matching_catch_2:Xn,__cxa_find_matching_catch_3:Wn,__cxa_throw:Dn,__resumeException:$t,_embind_finalize_value_object:_n,_embind_register_bigint:ln,_embind_register_bool:ce,_embind_register_class:mi,_embind_register_class_constructor:Ii,_embind_register_class_function:vi,_embind_register_emval:Mr,_embind_register_float:Pr,_embind_register_function:Vn,_embind_register_integer:Zr,_embind_register_memory_view:bi,_embind_register_optional:Bi,_embind_register_std_string:Qi,_embind_register_std_wstring:$r,_embind_register_value_object:Or,_embind_register_value_object_field:ei,_embind_register_void:Ti,_emval_decref:Rr,_emval_take_value:Ni,abort:Ri,emscripten_memcpy_js:Mi,emscripten_resize_heap:Li,fd_close:Er,fd_seek:ti,fd_write:Yi,invoke_i:ss,invoke_ii:ts,invoke_iidd:es,invoke_iii:Zi,invoke_iiii:Ki,invoke_iiiii:si,invoke_v:os,invoke_vi:oi,invoke_vii:zi,invoke_viii:$i,invoke_viiif:ii,invoke_viiiffffiiiii:as,invoke_viiifffi:ai,invoke_viiifiiii:br,invoke_viiii:is,invoke_viiiiii:rs,invoke_viiiiiiii:ns,invoke_viiiiiiiiii:ri},Zt=Je();e.__Z15getMorphOutlineiifNSt3__26vectorIhNS_9allocatorIhEEEENS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE=Qe("_Z15getMorphOutlineiifNSt3__26vectorIhNS_9allocatorIhEEEENS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE"),e.__Z7getBBoxNSt3__26vectorI11FeatureLineNS_9allocatorIS1_EEEENS0_IdNS2_IdEEEE=Qe("_Z7getBBoxNSt3__26vectorI11FeatureLineNS_9allocatorIS1_EEEENS0_IdNS2_IdEEEE"),e.__Z7doMorphiiffffNSt3__26vectorIhNS_9allocatorIhEEEES3_NS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE=Qe("_Z7doMorphiiffffNSt3__26vectorIhNS_9allocatorIhEEEES3_NS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE");var ji=Qe("__getTypeName"),Vr=Qe("malloc"),Ot=Qe("free"),mt=Qe("setThrew"),Jn=Qe("setTempRet0"),Jr=()=>(Jr=Zt.emscripten_stack_init)(),or=()=>(or=Zt.emscripten_stack_get_end)(),ot=Qe("stackSave"),rt=Qe("stackRestore"),yn=Qe("stackAlloc"),ni=Qe("__cxa_increment_exception_refcount"),Xi=Qe("__get_exception_message"),Wi=Qe("__cxa_can_catch"),qi=Qe("__cxa_is_pointer_type");e.dynCall_jiji=Qe("dynCall_jiji");function zi(s,a,_){var C=ot();try{je(s)(a,_)}catch(E){if(rt(C),!(E instanceof De))throw E;mt(1,0)}}function Ki(s,a,_,C){var E=ot();try{return je(s)(a,_,C)}catch(k){if(rt(E),!(k instanceof De))throw k;mt(1,0)}}function Zi(s,a,_){var C=ot();try{return je(s)(a,_)}catch(E){if(rt(C),!(E instanceof De))throw E;mt(1,0)}}function $i(s,a,_,C){var E=ot();try{je(s)(a,_,C)}catch(k){if(rt(E),!(k instanceof De))throw k;mt(1,0)}}function es(s,a,_,C){var E=ot();try{return je(s)(a,_,C)}catch(k){if(rt(E),!(k instanceof De))throw k;mt(1,0)}}function ts(s,a){var _=ot();try{return je(s)(a)}catch(C){if(rt(_),!(C instanceof De))throw C;mt(1,0)}}function ri(s,a,_,C,E,k,N,P,G,q,j){var _e=ot();try{je(s)(a,_,C,E,k,N,P,G,q,j)}catch(Le){if(rt(_e),!(Le instanceof De))throw Le;mt(1,0)}}function ns(s,a,_,C,E,k,N,P,G){var q=ot();try{je(s)(a,_,C,E,k,N,P,G)}catch(j){if(rt(q),!(j instanceof De))throw j;mt(1,0)}}function rs(s,a,_,C,E,k,N){var P=ot();try{je(s)(a,_,C,E,k,N)}catch(G){if(rt(P),!(G instanceof De))throw G;mt(1,0)}}function ii(s,a,_,C,E){var k=ot();try{je(s)(a,_,C,E)}catch(N){if(rt(k),!(N instanceof De))throw N;mt(1,0)}}function si(s,a,_,C,E){var k=ot();try{return je(s)(a,_,C,E)}catch(N){if(rt(k),!(N instanceof De))throw N;mt(1,0)}}function ai(s,a,_,C,E,k,N,P){var G=ot();try{je(s)(a,_,C,E,k,N,P)}catch(q){if(rt(G),!(q instanceof De))throw q;mt(1,0)}}function is(s,a,_,C,E){var k=ot();try{je(s)(a,_,C,E)}catch(N){if(rt(k),!(N instanceof De))throw N;mt(1,0)}}function ss(s){var a=ot();try{return je(s)()}catch(_){if(rt(a),!(_ instanceof De))throw _;mt(1,0)}}function oi(s,a){var _=ot();try{je(s)(a)}catch(C){if(rt(_),!(C instanceof De))throw C;mt(1,0)}}function as(s,a,_,C,E,k,N,P,G,q,j,_e,Le){var Bt=ot();try{je(s)(a,_,C,E,k,N,P,G,q,j,_e,Le)}catch(it){if(rt(Bt),!(it instanceof De))throw it;mt(1,0)}}function br(s,a,_,C,E,k,N,P,G){var q=ot();try{je(s)(a,_,C,E,k,N,P,G)}catch(j){if(rt(q),!(j instanceof De))throw j;mt(1,0)}}function os(s){var a=ot();try{je(s)()}catch(_){if(rt(a),!(_ instanceof De))throw _;mt(1,0)}}e.ccall=Gr,e.cwrap=Vi;var li=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","growMemory","isLeapYear","ydayFromDate","arraySum","addDays","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","Browser_asyncPrepareDataCounter","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_createDataFile","FS_unlink","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","getFunctionArgsName","createJsInvokerSignature","registerInheritedInstance","unregisterInheritedInstance","enumReadValueFromPointer","validateThis","getStringOrSymbol","emval_get_global","emval_returnValue","emval_lookupTypes","emval_addMethodCaller"];li.forEach(et);var c=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","abortOnCannotGrowMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","jstoi_s","dynCallLegacy","getDynCaller","dynCall","wasmTable","noExitRuntime","getCFunc","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","getPreloadedImageData__data","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","createJsInvoker","UnboundTypeError","PureVirtualError","GenericWireTypeSize","EmValType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","registeredPointers","registerType","integerReadValueFromPointer","floatReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_methodCallers","reflectConstruct"];c.forEach(x);var f;dt=function s(){f||F(),f||(dt=s)};function y(){Jr(),me()}function F(){if(We>0||(y(),Ve(),We>0))return;function s(){f||(f=!0,e.calledRun=!0,!D&&(we(),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),I(!e._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),Ke()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),s()},1)):s(),ge()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return F(),t.ready}})();const K={J:10001,U:10002,S:10003,I:10004};function Hs(n,t){return[n[0]*t[0]+n[1]*t[3],n[0]*t[1]+n[1]*t[4],n[0]*t[2]+n[1]*t[5]+n[2],n[3]*t[0]+n[4]*t[3],n[3]*t[1]+n[4]*t[4],n[3]*t[2]+n[4]*t[5]+n[5]]}function Pl(n,t){return[t.x-n.x,n.y-t.y,n.x,t.y-n.y,t.x-n.x,n.y]}const Ll=function(){const n=[K.J,K.J,K.J],t=[K.S,K.J,K.S,K.S,K.S],e=[K.S,K.J,K.J,K.S],r=[K.S,K.J,K.S,K.J],i=[K.S,K.S,K.S],o=[K.S,K.J],A=[K.J],p=[K.S],u=[K.U,K.J],l=[K.U,K.S,K.S],g=[K.J,K.I],h=[K.S,K.I,K.S],m=[K.I,K.J],v=[K.I,K.S],B=[K.U],Q=[K.I],D=[K.S,K.J,K.J],I=[K.J,K.J,K.I],T=[K.S,K.S,K.J,K.S],w=[K.S,K.S,K.J,K.I],b=[K.J,K.J,K.S],U=[K.S,K.I,K.I],L=[K.J,K.I,K.I],Y=[K.J,K.J],z=[K.I,K.I],Z=[K.J,K.S],ae=[K.S,K.S,K.S,K.S],me=[K.J,K.S,K.S],ge=[K.I,K.S,K.I,K.S],Ee=[K.J,K.I,K.S],pe=[K.I,K.I,K.I,K.S],W=[K.S,K.S],Ne=[K.S,K.I],Ve=[K.U,K.I],we=[K.U,K.S],Ke=[K.I,K.I,K.I],$=[K.I,K.S,K.I],be=[K.I,K.S,K.S],Se=[0,1,2,0,1,2],We=[0,0,1,2,2,1],Ue=[0,1,0,2,1,2],dt=[0,1,2,3,1,4],Ze=[0,1,2,2,1,3],jt=[0,1,2,3,1,3],ft=[0,0,1,1,2,2],Ie=[0,1,1,0,1,1],X=[0,0,0,0,0,0],ut=[0,1,2,0,2,1],Mt=[0,1,0,0,1,0],Pt=[0,1,2,2,1,0],Qe=[0,1,1,1,1,0],De=[0,1,1,2,2],Tt=[0,0,1,2,1],Ye=[0,1,2,3,2],bt=[0,1,2,1,2],lt=[0,1,1,1,1],gt=[0,1,2,0],_t=[0,1,1,0],Je=[0,0,0,0],Re=[0,1,0],$e=[0,1,0,1],J=[0,1,0,2],Me=[0,0,1,1],et=[0,1,2,3],x=[0,0,1,2],re=[0,1,2],R=[0,0,1],H=[0,0,0],se=[!1,!1,!1,!1,!1,!1,!1,!0,!1,!0,!1,!0],oe=[!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1,!0],ie=[!1,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!0],he=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1],fe=[!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!1],de=[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0],Pe=[!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0],tt=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nt=[!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0],Xt=[!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!0,!1],$t=[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1],an=[!1,!1,!1,!1,!0,!0,!1,!0,!0,!1,!0,!1],Xn=[!1,!1,!1,!1,!1,!1,!0,!1,!0,!1,!0,!1],Wn=[!1,!1,!1,!1,!1,!0,!0,!0,!0,!1,!0,!1],Dn=[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!0,!1],Wt=[!1,!1,!1,!1,!1,!0,!1,!1,!1,!0],rn=[!1,!1,!0,!0,!1,!1,!1,!1,!1,!0],zt=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0],qt=[!1,!1,!0,!1,!1,!1,!1,!1,!0,!1],Lt=[!1,!1,!1,!1,!1,!1,!0,!0,!0,!0],Kt=[!1,!1,!1,!1,!1,!0,!0,!0,!0,!1],on=[!1,!1,!1,!1,!1,!1,!1,!0],en=[!1,!1,!1,!1,!1,!0,!1,!0],Ht=[!1,!1,!1,!1,!0,!1,!0,!1],_n=[!1,!1,!1,!0,!1,!1,!1,!0],ln=[!1,!1,!0,!1,!0,!0,!1,!0],In=[!1,!1,!0,!1,!1,!1,!0,!1],fn=[!1,!1,!1,!1,!1,!0],ct=[!1,!1,!1,!1,!0,!1],kt=[!1,!1,!1,!1,!1,!0,!1,!1],Ae=[!1,!1,!1,!1,!1,!0,!0,!0],Un=[!1,!1,!0,!0,!1,!1,!0,!0],wt=[!1,!1,!1,!1,!0,!0,!1,!1],M=[!1,!1,!1,!1,!1,!1,!1,!1],ce=[!1,!1,!1,!1,!0,!0,!0,!0],Ce=[!1,!1,!0,!0,!1,!1,!1,!1],Ge=[!1,!1,!1,!0,!1,!1,!1,!1],ve=[!1,!1,!1,!1,!1,!0,!0,!1],st=[!1,!1,!1,!1,!0,!1,!1,!1],ht=[!1,!1,!0,!0,!1,!0,!0,!1],Oe=[!1,!1,!1,!0,!0,!0,!0,!1],at=[!1,!1,!1,!1,!1,!1],pt=[!1,!1,!0,!0,!1,!1],St=[!1,!1,!1,!0,!1,!1],ke=[!1,!1,!0,!1,!1,!1],ye=[.12239750492,.5,.143395479017,.625],ue=[.12239750492,.5,.225335752741,.225335752741],xe=[.12239750492,.5,.225335752741,.625],He=[.12239750492,.5,.315470053838,.5,.315470053838,.5],tr=[.12239750492,.5,.225335752741,.225335752741,.5],Et=[.12239750492,.5,.225335752741,.625,.5],kr=[.6,.196416770201],hr=[.12239750492,.5,.225335752741],At=[],Tn=[.12239750492,.225335752741],un=[.12239750492,.225335752741,.5],pr=[.12239750492,.225335752741,.225335752741],vn=[.216506350946],hn=[.104512294489,.65],qn=[.230769230769,.5,.225335752741],xn=[.230769230769,.5,.225335752741,.5],Te=[.230769230769,.225335752741],qe=[.141304,.465108,.534891],Cn=[.452827026611,.5],mr=[.366873818946],sn=[.230769230769],pn=[.230769230769,.5],nr=[.5,.102564102564],rr=[.230769230769,.869565217391],Ir=[.5,.230769230769,.5,.5],mn=[.230769230769,.5,.230769230769],Yt=[.5,.5,.6],vr=[.5,.102564102564,.102564102564],Yn=[.230769230769,.230769230769],On=[.5],je=[.105263157895],Sr=[.196416770201],qr=[.5,.196416770201],Nt=[0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,5.5,0,-.4,0,5,0,-4,.5,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1,0,0,-5.5,0,.5,0,0,0,4,-2],pi=[3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,0,3.5,-.4,0,5,0,0,-2,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1,0,0,-3.5,0,.5,0,0,0,0,.5,0,0,0,0,0,0,0,0,0,0],Dr=[0,0,-3.5,0,.5,0,0,0,4,-2,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,3.5,0,-.4,0,5,0,4,-4.5,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1],Tr=[0,0,-2.5,0,0,0,.5,0,0,0,3,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,0,0,.1,0,5,0,0,0,0,-2.5,3.9,0,0,0,2.5,0,-.4,0,5,0,0,0,3,-3.5,3.9,0,0,0,0,0,.1,0,5,0,0,0,0,-1.5,0,0,0,0,0,0,0,0,0,0,0,0,0,1],Gn=[3.9,0,0,3.5,0,-.4,0,5,0,0,5,-4.5,3.9,0,0,0,0,.1,0,5,0,0,0,-1.5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,-3.5,0,0,.5,0,0,0,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,0,.1,0,5,0,0,0,-2.5],mi=[3.9,0,3.5,0,0,-.4,0,-5,0,4,0,.5,3.9,0,0,0,5,-2.4,0,5,0,0,0,-1.5,0,0,0,0,5,-2.5,0,0,0,0,0,1,0,0,-3.5,0,0,.5,0,0,0,4,0,-2,0,0,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,0,.1,0,-5,0,0,0,2.5],ir=[0,0,0,0,0,0,0,0,.5,0,0,-.288675134595,0,0,1,0,0,0,2.5,1.12583302492,-.721132486541,-1.44337567297,1.95,1.06036297108,5,0,-2.5,0,3.9,.1,2.5,-1.12583302492,-1.27886751346,1.44337567297,1.95,-.671687836487],Fr=[0,0,0,0,0,0,0,0,3.9,0,0,.1,0,5,0,-2.5,3.9,0,3.5,-.4,0,5,0,-2,3.9,0,0,.1,0,5,0,-1.5,0,0,0,0,0,0,0,1,0,0,-3.5,.5,0,0,0,.5],Cr=[1,0,.5,.866025403784,-.5,.866025403784,-1,0,-.5,-.866025403784,.5,-.866025403784],zr=[0,0,0,0,0,0,3.9,0,.1,0,0,0,3.9,3.5,-.4,0,0,.5,3.9,0,.1,0,0,1,0,0,0,0,0,1,0,-3.5,.5,0,0,.5],sr=[0,0,0,0,0,0,0,0,3.9,0,0,.1,0,0,0,0,3.9,3.5,0,-.4,0,0,5,-2,3.9,0,0,.1,0,0,0,1,0,0,0,0,0,0,0,1,0,-3.5,0,.5,0,0,5,-2],Ii=[3.9,3.5,-.4,0,0,.5,3.9,0,.1,0,0,1,0,0,0,0,0,1,0,-3.5,.5,0,0,.5,0,0,0,0,0,0,3.9,0,.1,0,0,0],Nr=[0,-3.5,0,.5,0,0,0,.5,0,0,0,0,0,0,0,0,3.9,0,0,.1,0,0,0,0,3.9,0,3.5,-.4,0,0,0,.5,3.9,0,0,.1,0,0,0,1,0,0,0,0,0,0,0,1],vi=[0,.5,0,-.288675134595,0,1,0,0,1.15470053838,.75,2,.144337567297,0,.5,4,0,-1.15470053838,.25,2,.144337567297,0,0,0,0],ar=[0,0,1,0,0,0,0,5,-2.5,5.1,0,-.1,-1.47224318643,2.5,-1.22113248654,2.55,1.44337567297,-.771687836487,0,0,0,0,0,0,0,0,.5,0,0,-.866025403784],Rt=[3.9,0,0,.1,0,5,0,-2.5,3.9,0,3.5,-.4,0,5,0,-2,3.9,0,0,.1,0,5,0,-1.5,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],Rr=[3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,3.5,0,-.4,0,5,0,4,-4,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],Ci=[3.9,0,.1,0,0,0,3.9,3.5,-.4,0,0,.5,3.9,0,.1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0],yi=[0,0,5,-2.5,0,0,0,1,0,0,-5,2.5,0,10,0,-4,0,0,0,0,0,0,0,0,3.9,0,0,.1,0,-5,0,2.5,3.9,0,5,-2.4,0,5,0,-1.5],Hn=[0,0,0,0,0,1,0,0,0,0,0,0,1.95,2.5,-.95,-1.95,2.5,-1.05,3.9,0,.1,0,5,-2,1.95,-2.5,1.55,1.95,2.5,-.45],Ei=[0,-1,0,0,0,1,0,0,4.95,.55,4.95,.55,0,0,9.9,.1,-4.95,-.55,4.95,.55],Mr=[0,1,0,0,2.925,.075,1.68874953738,.0433012701892,0,0,0,0,-2.925,1.425,1.68874953738,-.822724133595],cn=[1,0,.75,.433012701892,0,0,.75,-.433012701892],yr=[.5,0,0,.866025403784,-.5,0,0,-.866025403784],Pr=[0,.57735026919,-1,0,1,0],Vn=[0,0,0,0,0,0,3.9,0,.1,0,5,-2.5,3.9,0,.1,0,5,-1.5,0,0,0,0,0,1],Kr=[5,0,-2,0,-3.9,-.1,0,0,1,0,0,0,5,0,-2,0,3.9,.1,0,0,0,0,0,0],Zr=[0,0,1,0,0,0,0,-3.45,4,3.9,0,.1,0,3.45,-3,3.9,0,.1,0,0,0,0,0,0],bi=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,5,0,0,0,-1.5,0,3.9,0,0,.1,0,0,5,0,-2.5,0,0,0,5,-1.5],Bi=[0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-5,3.9,2.6,3.9,0,0,.1,0,-5,0,2.5,3.9,0,0,.1],wi=[0,0,0,0,0,0,0,0,0,0,0,1,-10,0,0,5,0,10,0,-4,10,0,10,-10,0,10,0,-5,0,0,10,-5],zn=[0,0,0,0,0,1,0,0,0,1,3.9,.1,0,0,3.9,.1],Lr=[0,0,0,1,0,0,0,0,0,0,0,.5,0,0,3.9,.1,0,0,0,0,0,0,0,0,5,0,0,-2,0,-3.9,0,-.1],Qi=[0,0,0,0,0,1,0,0,0,0,0,0,3.9,0,.1,0,0,0,3.9,0,.1,0,3.9,.1],Fn=[1,0,1,1,0,1,0,0],ki=[1.8,.1,0,0,0,1,0,1,0,0,-1.8,1.9,0,0,0,0],Ur=[3.8,.1,0,0,0,0,-3.8,.9,-3.8,-.1,0,0,0,0,3.8,-.9],Si=[0,0,.57735026919,0,0,1],Di=[0,0,0,0,0,1,0,0,0,0,3.9,.1],xr=[.5,.5,0,0,1,0],Yr=[0,1,0,0,0,.5,3.9,.1,0,0,0,0],$r=[0,0,0,0,0,0,0,0,1,0,0,0,5,0,-2,0,3.9,.1],Or=[1,0,-.5,.866025403784,-.5,-.866025403784],ei=[0,0,0,0,0,0,0,0,0,-1,3.9,0,5.5,0,-.4,0,5,0,-4,-.5],Ti=[0,0,0,0,0,0,0,0,0,1,7.8,0,3.5,3.5,-.8,0,0,0,0,0],Fi=[0,0,0,0,0,0,0,0,0,-1,-7.8,0,-7,0,.8,0,0,0,0,-1],Ni=[0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-7.8,0,-2.5,0,-2.5,0,.8,0,-10,0,3,0,-3,4],Ri=[0,0,0,0,0,0,0,0,0,0,0,1,-15.6,0,-7,-7,0,1.6,0,0,0,0,0,-2],Mi=[0,0,0,0,0,0,0,10,0,0,0,-3,7.8,0,7,0,0,-.8,0,0,0,0,0,0],Pi=[-2.5,-3.37749907476,.663397459622,4.33012701892,-1.95,-3.08108891325,-2.5,3.37749907476,2.33660254038,-4.33012701892,-1.95,2.11506350946],Li=[0,0,0,0,0,0,0,-1,7.8,0,7,-.8,0,0,0,0],Er=[1.5,.866025403784,1.5,-.866025403784],Kn=[1.5,.866025403784,0,1.73205080757],ti=[0,0,0,0,0,-1,3.9,3.5,-.4,0,0,-.5],Ui=[0,0,0,0,0,0,0,-1,7.8,7,0,-.8,0,0,0,0],xi=[3.9,3.5,-.4,0,0,.5,3.9,3.5,-.4,0,0,-.5],Yi=[0,0,0,0,0,0,0,-1,-7.8,-3.5,-3.5,.8,0,0,0,0],Oi=[0,0,-4,-.866025403784,3.46410161514,.75,-2,-.433012701892],Gi=[4.4167295593,-2.5,2.66339745962,-2.55,-4.33012701892,1.34903810568,0,-5,2.5,-5.1,0,-1.63205080757],Hi=[-7.8,0,-3.5,.3,0,0,0,-.5,-7.8,0,-3.5,.3,0,0,0,.5],Gr=[0,0,0,0,0,0,0,0,0,1,7.8,0,3.5,0,-.3,0,10,0,4,-7.5],Vi=[0,0,0,0,0,0,0,0,0,-1,15.6,0,7,0,-.6,0,0,0,0,0],Ji=[0,0,0,0,0,0,0,1,-15.6,0,-7,.6,0,0,0,0],Hr=[0,0,0,0,0,1,-7.8,-3.5,.3,0,0,.5],Zt=[0,0,0,0,0,10,0,-3,-7.8,0,-10,4.8,0,0,0,0],ji=[-3.9,5,-3.1,-3.9,-5,1.9,-3.9,-5,1.9,3.9,-5,3.1],Vr=[9.9,1.1,-9.9,-1.1,-9.9,-1.1,-9.9,-1.1],Ot=[0,0,0,1.73205080757,0,1.5,0,-.866025403784],mt=[-1.5,.866025403784,-1.5,-.866025403784],Jn=[0,1.73205080757,1.5,-.866025403784],Jr=[-1,1.73205080757,1,1.73205080757],or=[1,1.73205080757,-1,1.73205080757],ot=[1,1.73205080757,2,0],rt=[0,0,0,0,0,-1,3.9,0,.1,0,5,-2.5],yn=[0,0,0,0,0,-1,7.8,0,.2,0,0,0],ni=[0,0,0,0,-7.8,-.2,0,0,1,0,0,0],Xi=[0,-6.9,8,0,0,0,0,-3.45,4,-3.9,0,-.1],Wi=[-5,0,-5,0,5,0,-3.9,0,-5,1.4,-5,0,0,0,1.5,0,-3.9,0,0,-.1],qi=[0,0,0,0,0,-1,7.8,0,.2,0,10,-5],zi=[0,0,0,0,-7.8,0,0,-.2,0,0,3.9,1.1,0,0,0,0],Ki=[-15.6,0,-.4,0,0,0,0,0,0,0,0,-1],Zi=[0,0,0,0,-20,0,-20,20,0,0,0,-2,0,0,0,0],$i=[0,2,0,0,0,0,-7.8,-.2],es=[0,0,0,-1,0,0,0,0,0,0,0,0,0,-7.8,-7.8,-.4],ts=[-7.8,0,-.2,0,0,0,-3.9,0,-.1,0,3.9,1.1],ri=[0,2,2,0],ns=[0,0,0,4,0,-2,0,2],rs=[0,0,-7.6,1.8,7.6,.2,-7.6,1.8],ii=[1,1,1,-1],si=[1,0,0,1],ai=[0,0,-3.9,-.1,0,1,0,0],is=[0,0,-3.9,-.1,0,2,0,0],ss=[0,-3.45,4,-3.9,0,-.1,0,-3.45,4,3.9,0,.1],oi=[3.8,.1,-3.8,.9,-3.8,-.1,-3.8,.9],as=[0,2,-1.73205080757,1],br=[0,2,0,0,0,1,3.9,.1],os=[0,1,-1,0],li=[-1,1,-2,0],c=[0,1,1,0],f=[0,.5,-3.9,-.1,0,-.5,-3.9,-.1],y=[-5,0,2,0,-3.9,-.1,-5,0,3,0,-3.9,-.1],F=[0,0,1,0,0,0,0,0,0,0,7.8,.2],s=[0,1,0,0,0,0,7.8,.2],a=[-1.5,2.59807621135,-3,0],_=[0,-.5,-3.9,-.1,0,.5,-3.9,-.1],C=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],E=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,7.8,0,0,3.5,-.3,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-.5],k=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-3.9,0,-3.5,0,.4,0,0,0,0,0,0,0,0,0,-1,0,5,0,4,-4.5],N=[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,-2.5,0,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,3,0,0,-1],P=[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,7.8,0,0,3.5,0,-.3,0,0,0,0,0,0,0,0,0,0,0,-1,0,10,0,0,5,-6,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,-3.5,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-.5,0,0,0,0,0,1,0,0,0,0,0,0,-7.8,0,-3.5,-3.5,0,.8,0,0,0,0,0,0,0,0,0,0,0,-1,0,10,0,0,5,-7.5],G=[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,7.8,0,3.5,0,5,-2.8,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,4,0,-1,0,0,0,0,0,-1,0,0,0,0,0,0,3.9,0,0,0,5,-2.4,0,0,0,0,0,0,0,0,0,0,0,1,0,5,0,0,0,-1.5,0,0,0,0,0,1,0,0,0,0,0,0,3.9,0,3.5,0,0,-.4,0,0,0,0,0,0,0,0,0,0,0,-1,0,-5,0,4,0,.5],q=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-.5,0,0,-.866025403784,0,0,.5,0,0,.866025403784,0,0,-.5,0,0,-.866025403784,0,0,-.5,0,0,.866025403784,0,0,1,0,0,-.866025403784,0,0,-.5,0,0,0],j=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,7.8,0,3.5,-.3,0,0,0,0,0,0,0,1,0,0,0,-.5],_e=[1,0,0,0,1,0],Le=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],Bt=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,7.8,3.5,0,-.3,0,0,0,0,0,0,0,-1,0,0,5,-2],it=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-3.5,0,.5,0,0,0,0,0,0,0,-1,0,0,0,.5],Qt=[0,1,0,0,0,0,0,0,0,1,0,0,0,.5,0,.866025403784,0,.5,0,.866025403784,0,-.5,0,-.866025403784,0,-.5,0,-.866025403784,0,.5,0,.866025403784,0,-.5,0,-.866025403784],En=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,.5,0,0,.866025403784,0,0,1,0,0,-.866025403784,0,0,.5,0,0,0,0,0,-.5,0,0,.866025403784,0,0,1.5,0,0,-.866025403784,0,0,-.5,0,0,-.866025403784,0,0,-1,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,-1.73205080757,0,0,-.5,0,0,-.866025403784,0,0,0,0,0,.866025403784,0,0,-.5,0,0,-1.73205080757,0,0,.5,0,0,-.866025403784,0,0,-.5,0,0,.866025403784,0,0,.5,0,0,-.866025403784],bn=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],Zn=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,7.8,0,3.5,0,-.3,0,0,0,0,0,0,0,0,0,-1,0,10,0,4,-6.5],tn=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,7.8,0,3.5,0,-.3,0,0,0,0,0,0,0,0,0,-1,0,10,0,4,-6.5,0,0,0,0,-1,0,0,0,0,0,15.6,0,7,0,-.6,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,7.8,0,3.5,0,-.3,0,0,0,0,0,0,0,0,0,-1,0,10,0,4,-6.5],jr=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,1,0,0,0,-1,0,0,0,0,-7.8,0,-3.5,.3,0,0,0,0,0,0,0,1,0,0,0,-.5,0,0,0,1,0,0,0,0,-7.8,0,-3.5,.3,0,0,0,0,0,0,0,-1,0,0,0,.5],Xr=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,1],vs=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,10,0,-3,0,0,0,1,0,0,0,0,-3.9,0,-5,2.4,0,0,0,0,0,0,0,-1,0,5,0,-1.5,0,0,0,-1,0,0,0,0,3.9,0,5,-2.4,0,0,0,0,0,0,0,1,0,5,0,-1.5],Cs=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,1,0,0,0,0,0,-1,-3.9,0,-.1,0,0,1,0,0,0,0,-5,3,0,0,0,0,0,1,-3.9,0,-1.1,0,0,-1,0,0,0,0,-5,3],ls=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-1,9.9,1.1,0,1,0,0,0,0,0,0,0,1,-9.9,-1.1,0,1,0,0,0,0],ys=[0,1,0,0,0,0,0,0,0,1,0,0,0,-.5,0,.866025403784,0,1.5,0,-.866025403784,0,-.5,0,.866025403784,0,-.5,0,-.866025403784,0,1.5,0,.866025403784,0,-.5,0,-.866025403784,0,.5,0,.866025403784,0,0,0,.866025403784,0,-.5,0,0,0,-1,0,0,0,1.5,0,0,0,1,0,.866025403784,0,.5,0,-.866025403784,0,0,0,-.866025403784,0,-.5,0,1.73205080757],Yo=[1,0,0,0,1,0,.5,-.866025403784,0,.866025403784,.5,0,-.5,-.866025403784,0,.866025403784,-.5,0,-1,0,0,0,-1,0,-.5,.866025403784,0,-.866025403784,-.5,0,.5,.866025403784,0,-.866025403784,.5,0],Oo=[1,0,0,0,1,0,-.5,-.866025403784,1.5,.866025403784,-.5,-.866025403784,-.5,.866025403784,1.5,-.866025403784,-.5,.866025403784,.5,.866025403784,0,.866025403784,-.5,0,.5,-.866025403784,0,-.866025403784,-.5,1.73205080757,-1,0,1.5,0,1,.866025403784],Go=[1,0,0,0,1,0,-.5,.866025403784,.75,-.866025403784,-.5,.433012701892,-.5,-.866025403784,.75,.866025403784,-.5,-.433012701892],Ho=[1,0,0,0,1,0,.5,-.866025403784,.75,.866025403784,.5,.433012701892,-.5,-.866025403784,.75,.866025403784,-.5,1.29903810568],Vo=[1,0,0,0,1,0,.5,.866025403784,.75,.866025403784,-.5,.433012701892,-.5,-.866025403784,.75,.866025403784,-.5,-.433012701892],Jo=[1,0,0,0,1,0,-.5,-.866025403784,.75,-.866025403784,.5,.433012701892,-.5,.866025403784,.75,.866025403784,.5,-.433012701892],jo=[1,0,0,0,1,0,-.5,.866025403784,-.5,-.866025403784,-.5,.866025403784,-.5,-.866025403784,.5,.866025403784,-.5,.866025403784,-.5,.866025403784,-1.5,.866025403784,.5,.866025403784,-.5,-.866025403784,-.5,-.866025403784,.5,.866025403784,1,0,-1,0,-1,1.73205080757],Xo=[1,0,0,0,1,0,-.5,.866025403784,-.5,-.866025403784,-.5,.866025403784,-.5,-.866025403784,.5,.866025403784,-.5,.866025403784,.5,-.866025403784,-.5,.866025403784,.5,.866025403784,.5,.866025403784,-1.5,-.866025403784,.5,.866025403784,-1,0,-1,0,-1,1.73205080757],Wo=[1,0,0,0,1,0,-.5,-.866025403784,.5,.866025403784,-.5,.866025403784,-.5,.866025403784,-.5,-.866025403784,-.5,.866025403784,.5,.866025403784,.5,-.866025403784,.5,.866025403784,.5,-.866025403784,1.5,.866025403784,.5,.866025403784,-1,0,1,0,-1,1.73205080757],sa=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,7.8,0,.2,0,0,0,0,0,1,0,0,0],qo=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,3.9,0,.1,0,0,0,0,0,-1,0,5,-1.5],zo=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,5,0,-1,0,0,0,0,0,1,0,-3.9,-.1],Ko=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,-3.45,4,0,0,0,0,0,-1,3.9,0,.1],Zo=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0],$o=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,7.8,0,.2,0,0,0,0,0,-1,0,10,-4],e0=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-5,3.9,3.6,0,0,0,0,0,0,0,-1,3.9,0,0,.1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-5,3.9,3.6,0,0,0,0,0,0,0,1,3.9,0,0,.1],t0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,1,0,0,-1,0,0,0,7.8,0,.2,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,-7.8,0,-.2,0,0,0,0,0,-1,0,0,1],n0=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,10,0,-5,0,0,0,0,0,0,0,-1,0,0,10,-5,0,0,0,-1,0,0,0,0,0,10,0,-4,0,0,0,0,0,0,0,1,-10,0,-10,10,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,-1,-10,0,0,5],r0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,2,0,0,0,-1,0,0,0,-1,0,0,0,1,0,0,0,1,-3.9,-.1,0,1,0,0,0,1,0,0,0,-1,3.9,.1],i0=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,5,0,0,-2,0,0,0,0,0,0,0,-1,0,-3.9,0,-.1,0,0,0,1,0,0,0,0,0,0,0,.5,0,0,0,0,0,0,0,-1,0,0,3.9,.1,0,0,0,-1,0,0,0,0,5,0,0,-2.5,0,0,0,0,0,0,0,1,0,-3.9,-3.9,-.2],s0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,3.9,0,.1,0,0,0,0,0,-1,0,3.9,1.1,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,-3.9,0,-.1,0,0,0,0,0,-1,0,3.9,1.1],a0=[1,0,0,0,1,0,0,1,0,-1,0,2,-1,0,2,0,-1,2,0,-1,2,1,0,0],o0=[0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,-1,0,0,0,2,0,-1,0,0,0,2,0,0,0,-1,0,2,0,0,0,-1,0,2,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,4,0,0,0,1,0,0,0,1,0,0,0,2,0,-1,0,0,0,2,0,0,0,1,0,2,0,0,0,-1,0,2,0,-1,0,0,0,4],l0=[0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,3.8,.1,0,0,0,-1,-3.8,.9],aa=[1,0,0,0,1,0,0,-1,2,1,0,0],Es=[0,1,0,0,0,0,0,0,0,1,0,0],c0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,2,0,0,0,-1,3.9,.1],A0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,-3.45,5,0,0,0,0,0,-1,3.9,0,.1],f0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,5,0,-1,0,0,0,0,0,-1,0,-3.9,-.1],u0=[1,0,0,0,1,0,0,-1,2,1,0,0,-1,0,2,0,-1,2,0,1,0,-1,0,2],g0=[1,0,0,0,1,0,.5,.866025403784,-.866025403784,-.866025403784,.5,.5,-.5,.866025403784,-.866025403784,-.866025403784,-.5,1.5,-1,0,0,0,-1,2,-.5,-.866025403784,.866025403784,.866025403784,-.5,1.5,.5,-.866025403784,.866025403784,.866025403784,.5,.5,-1,0,0,0,1,0,-.5,.866025403784,-.866025403784,.866025403784,.5,.5,.5,.866025403784,-.866025403784,.866025403784,-.5,1.5,1,0,0,0,-1,2,.5,-.866025403784,.866025403784,-.866025403784,-.5,1.5,-.5,-.866025403784,.866025403784,-.866025403784,.5,.5],d0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,1,0,0,0,-1,3.9,.1,0,-1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,3.9,.1],_0=[1,0,0,0,1,0,0,1,0,-1,0,1,-1,0,1,0,-1,1,0,-1,1,1,0,0],h0=[1,0,0,0,1,0,0,1,0,-1,0,1,-1,0,1,0,-1,1,0,-1,1,1,0,0,-1,0,0,0,1,0,0,-1,0,-1,0,1,1,0,-1,0,-1,1,0,1,-1,1,0,0],p0=[1,0,0,0,1,0,0,-1,1,1,0,0,-1,0,1,0,-1,1,0,1,0,-1,0,1],m0=[0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,-1,0,0],I0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0],v0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,5,0,-1,0,0,0,0,0,-1,0,3.9,.1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-1,0,7.8,.2,0,0,-1,0,0,0,5,0,-1,0,0,0,0,0,1,0,3.9,.1],C0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,1,0,0,0,-1,7.8,.2,0,1,0,0,0,.5,0,0,0,-1,3.9,.1,0,-1,0,0,0,1.5,0,0,0,1,3.9,.1],y0=[1,0,0,0,1,0,.5,-.866025403784,.5,.866025403784,.5,.866025403784,-.5,-.866025403784,0,.866025403784,-.5,1.73205080757,-1,0,-1,0,-1,1.73205080757,-.5,.866025403784,-1.5,-.866025403784,-.5,.866025403784,.5,.866025403784,-1,-.866025403784,.5,0],oa=[1,0,0,0,1,0,-1,0,.5,0,-1,.866025403784],E0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,1,0,0,0,-1,0,0],lr=[0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,2,0,1,3],la=[0,1,0,0,0,0,0,0,0,0,0,0,1,2,0,0,1,2,3],ca=[0,1,0,0,0,0,0,0,0,0,0,0,2,0,1,2,0,1,3],b0=[0,1,2,1,0,0,0,0,0,0,0,0,2,0,1,2,0,1,3],Aa=[0,1,2,2,0,0,0,0,0,0,0,0,1,2,0,0,1,2,3],ci=[0,1,2,0,0,0,0,0,0,0,0,0,0,1,2,0,1,2,3],bs=[0,1,0,0,0,0,0,0,0,0,0,0,2,0,1,0,1,2,3],B0=[0,1,0,1,0,1,0,0,0,0,0,0,1,2,0,2,0,1,3],w0=[0,1,0,0,0,0,0,0,0,0,0,0,1,2,0,2,0,1,3],Q0=[0,1,2,0,0,0,0,0,0,0,0,0,2,0,1,1,2,0,3],k0=[0,1,2,0,0,0,0,0,0,0,0,0,2,0,1,0,1,2,3],S0=[0,1,2,2,0,0,0,0,0,0,0,0,0,1,2,1,2,0,3],D0=[0,1,2,0,0,0,0,0,0,0,0,0,1,2,0,0,1,2,3],T0=[0,1,2,1,2,0,0,0,0,0,0,0,1,2,0,2,0,1,3],F0=[0,1,2,0,1,2,0,0,0,0,0,0,0,1,2,0,1,2,3],fa=[0,2,1,1,0,2,0,0,0,0,0,0,1,2,0,2,0,1,3],N0=[0,2,1,0,1,2,0,0,0,0,0,0,2,0,1,1,2,0,3],R0=[1,0,2,2,0,1,0,0,0,0,0,0,1,2,0,2,0,1,3],Br=[0,0,0,0,0,0,0,0,0,0,0,0,1,0,2,1,0,2,2],cs=[0,1,0,0,0,0,0,0,0,0,0,0,1,0,2,0,1,2,2],Bn=[0,1,0,0,0,0,0,0,0,0,0,0,0,1,2,0,1,2,2],As=[0,1,1,0,0,0,0,0,0,0,0,0,0,1,2,0,1,2,2],xs=[0,1,1,0,0,0,0,0,0,0,0,0,0,1,2,1,0,2,2],M0=[0,0,1,1,0,0,0,0,0,0,0,0,0,1,2,0,1,2,2],ua=[0,1,0,1,0,0,0,0,0,0,0,0,0,1,2,0,1,2,2],ga=[0,1,0,1,1,0,1,0,0,0,0,0,0,1,2,0,1,2,2],P0=[0,0,0,0,0,0,1,1,1,1,1,1,0,1,2,0,1,2,2],da=[0,1,0,1,0,0,0,0,0,0,0,0,1,0,2,1,0,2,2];return[null,{num_params:4,num_aspects:1,num_vertices:6,num_edge_shapes:3,edge_shapes:n,edge_orientations:se,edge_shape_ids:Se,default_params:ye,vertex_coeffs:Nt,translation_coeffs:ei,aspect_coeffs:C,colouring:lr},{num_params:4,num_aspects:2,num_vertices:6,num_edge_shapes:3,edge_shapes:n,edge_orientations:oe,edge_shape_ids:We,default_params:ue,vertex_coeffs:pi,translation_coeffs:Ti,aspect_coeffs:E,colouring:la},{num_params:4,num_aspects:2,num_vertices:6,num_edge_shapes:3,edge_shapes:n,edge_orientations:ie,edge_shape_ids:Ue,default_params:xe,vertex_coeffs:Dr,translation_coeffs:Fi,aspect_coeffs:k,colouring:ca},{num_params:6,num_aspects:2,num_vertices:6,num_edge_shapes:5,edge_shapes:t,edge_orientations:he,edge_shape_ids:dt,default_params:He,vertex_coeffs:Tr,translation_coeffs:Ni,aspect_coeffs:N,colouring:ca},{num_params:5,num_aspects:4,num_vertices:6,num_edge_shapes:4,edge_shapes:e,edge_orientations:fe,edge_shape_ids:Ze,default_params:tr,vertex_coeffs:Gn,translation_coeffs:Ri,aspect_coeffs:P,colouring:b0},{num_params:5,num_aspects:4,num_vertices:6,num_edge_shapes:4,edge_shapes:r,edge_orientations:de,edge_shape_ids:jt,default_params:Et,vertex_coeffs:mi,translation_coeffs:Mi,aspect_coeffs:G,colouring:Aa},{num_params:2,num_aspects:3,num_vertices:6,num_edge_shapes:3,edge_shapes:n,edge_orientations:Pe,edge_shape_ids:ft,default_params:kr,vertex_coeffs:ir,translation_coeffs:Pi,aspect_coeffs:q,colouring:ci},{num_params:4,num_aspects:1,num_vertices:6,num_edge_shapes:3,edge_shapes:i,edge_orientations:tt,edge_shape_ids:Se,default_params:ye,vertex_coeffs:Nt,translation_coeffs:ei,aspect_coeffs:C,colouring:lr},{num_params:3,num_aspects:2,num_vertices:6,num_edge_shapes:2,edge_shapes:o,edge_orientations:nt,edge_shape_ids:Ie,default_params:hr,vertex_coeffs:Fr,translation_coeffs:Li,aspect_coeffs:j,colouring:bs},{num_params:0,num_aspects:1,num_vertices:6,num_edge_shapes:1,edge_shapes:A,edge_orientations:Pe,edge_shape_ids:X,default_params:At,vertex_coeffs:Cr,translation_coeffs:Er,aspect_coeffs:_e,colouring:lr},{num_params:0,num_aspects:1,num_vertices:6,num_edge_shapes:1,edge_shapes:p,edge_orientations:tt,edge_shape_ids:X,default_params:At,vertex_coeffs:Cr,translation_coeffs:Kn,aspect_coeffs:_e,colouring:lr},{num_params:2,num_aspects:1,num_vertices:6,num_edge_shapes:2,edge_shapes:u,edge_orientations:Xt,edge_shape_ids:Ie,default_params:Tn,vertex_coeffs:zr,translation_coeffs:ti,aspect_coeffs:Le,colouring:lr},{num_params:3,num_aspects:2,num_vertices:6,num_edge_shapes:3,edge_shapes:l,edge_orientations:$t,edge_shape_ids:ut,default_params:un,vertex_coeffs:sr,translation_coeffs:Ui,aspect_coeffs:Bt,colouring:bs},{num_params:2,num_aspects:1,num_vertices:6,num_edge_shapes:2,edge_shapes:g,edge_orientations:an,edge_shape_ids:Mt,default_params:Tn,vertex_coeffs:Ii,translation_coeffs:xi,aspect_coeffs:Le,colouring:lr},{num_params:3,num_aspects:2,num_vertices:6,num_edge_shapes:3,edge_shapes:h,edge_orientations:Xn,edge_shape_ids:Pt,default_params:pr,vertex_coeffs:Nr,translation_coeffs:Yi,aspect_coeffs:it,colouring:bs},{num_params:1,num_aspects:3,num_vertices:6,num_edge_shapes:2,edge_shapes:m,edge_orientations:Wn,edge_shape_ids:Qe,default_params:vn,vertex_coeffs:vi,translation_coeffs:Oi,aspect_coeffs:Qt,colouring:ci},{num_params:2,num_aspects:1,num_vertices:6,num_edge_shapes:2,edge_shapes:v,edge_orientations:Dn,edge_shape_ids:Ie,default_params:Tn,vertex_coeffs:zr,translation_coeffs:ti,aspect_coeffs:Le,colouring:lr},{num_params:0,num_aspects:1,num_vertices:6,num_edge_shapes:1,edge_shapes:B,edge_orientations:Pe,edge_shape_ids:X,default_params:At,vertex_coeffs:Cr,translation_coeffs:Kn,aspect_coeffs:_e,colouring:lr},null,{num_params:0,num_aspects:1,num_vertices:6,num_edge_shapes:1,edge_shapes:Q,edge_orientations:tt,edge_shape_ids:X,default_params:At,vertex_coeffs:Cr,translation_coeffs:Kn,aspect_coeffs:_e,colouring:lr},{num_params:2,num_aspects:6,num_vertices:5,num_edge_shapes:3,edge_shapes:D,edge_orientations:Wt,edge_shape_ids:De,default_params:hn,vertex_coeffs:ar,translation_coeffs:Gi,aspect_coeffs:En,colouring:B0},{num_params:3,num_aspects:2,num_vertices:5,num_edge_shapes:3,edge_shapes:I,edge_orientations:rn,edge_shape_ids:Tt,default_params:qn,vertex_coeffs:Rt,translation_coeffs:Hi,aspect_coeffs:bn,colouring:bs},{num_params:4,num_aspects:2,num_vertices:5,num_edge_shapes:4,edge_shapes:T,edge_orientations:zt,edge_shape_ids:Ye,default_params:xn,vertex_coeffs:Rr,translation_coeffs:Gr,aspect_coeffs:Zn,colouring:w0},{num_params:4,num_aspects:4,num_vertices:5,num_edge_shapes:4,edge_shapes:w,edge_orientations:zt,edge_shape_ids:Ye,default_params:xn,vertex_coeffs:Rr,translation_coeffs:Vi,aspect_coeffs:tn,colouring:Q0},{num_params:3,num_aspects:4,num_vertices:5,num_edge_shapes:3,edge_shapes:b,edge_orientations:rn,edge_shape_ids:Tt,default_params:qn,vertex_coeffs:Rt,translation_coeffs:Ji,aspect_coeffs:jr,colouring:k0},{num_params:2,num_aspects:2,num_vertices:5,num_edge_shapes:3,edge_shapes:U,edge_orientations:qt,edge_shape_ids:Tt,default_params:Te,vertex_coeffs:Ci,translation_coeffs:Hr,aspect_coeffs:Xr,colouring:la},{num_params:3,num_aspects:4,num_vertices:5,num_edge_shapes:3,edge_shapes:D,edge_orientations:Lt,edge_shape_ids:bt,default_params:qe,vertex_coeffs:yi,translation_coeffs:Zt,aspect_coeffs:vs,colouring:S0},{num_params:2,num_aspects:4,num_vertices:5,num_edge_shapes:3,edge_shapes:D,edge_orientations:Wt,edge_shape_ids:De,default_params:Cn,vertex_coeffs:Hn,translation_coeffs:ji,aspect_coeffs:Cs,colouring:D0},{num_params:1,num_aspects:4,num_vertices:5,num_edge_shapes:2,edge_shapes:m,edge_orientations:Kt,edge_shape_ids:lt,default_params:mr,vertex_coeffs:Ei,translation_coeffs:Vr,aspect_coeffs:ls,colouring:Aa},{num_params:1,num_aspects:6,num_vertices:4,num_edge_shapes:3,edge_shapes:L,edge_orientations:on,edge_shape_ids:gt,default_params:sn,vertex_coeffs:Mr,translation_coeffs:Ot,aspect_coeffs:ys,colouring:T0},{num_params:0,num_aspects:6,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:en,edge_shape_ids:_t,default_params:At,vertex_coeffs:cn,translation_coeffs:mt,aspect_coeffs:Yo,colouring:F0},{num_params:0,num_aspects:6,num_vertices:4,num_edge_shapes:2,edge_shapes:z,edge_orientations:Ht,edge_shape_ids:_t,default_params:At,vertex_coeffs:cn,translation_coeffs:Jn,aspect_coeffs:Oo,colouring:fa},{num_params:0,num_aspects:3,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:en,edge_shape_ids:_t,default_params:At,vertex_coeffs:yr,translation_coeffs:Er,aspect_coeffs:Go,colouring:ci},{num_params:0,num_aspects:3,num_vertices:4,num_edge_shapes:1,edge_shapes:A,edge_orientations:_n,edge_shape_ids:Je,default_params:At,vertex_coeffs:yr,translation_coeffs:Kn,aspect_coeffs:Ho,colouring:ci},null,{num_params:0,num_aspects:3,num_vertices:4,num_edge_shapes:1,edge_shapes:A,edge_orientations:ln,edge_shape_ids:Je,default_params:At,vertex_coeffs:yr,translation_coeffs:Er,aspect_coeffs:Vo,colouring:ci},{num_params:0,num_aspects:3,num_vertices:4,num_edge_shapes:1,edge_shapes:Q,edge_orientations:In,edge_shape_ids:Je,default_params:At,vertex_coeffs:yr,translation_coeffs:Er,aspect_coeffs:Jo,colouring:ci},{num_params:0,num_aspects:6,num_vertices:3,num_edge_shapes:2,edge_shapes:g,edge_orientations:fn,edge_shape_ids:Re,default_params:At,vertex_coeffs:Pr,translation_coeffs:Jr,aspect_coeffs:jo,colouring:fa},{num_params:0,num_aspects:6,num_vertices:3,num_edge_shapes:2,edge_shapes:Z,edge_orientations:fn,edge_shape_ids:Re,default_params:At,vertex_coeffs:Pr,translation_coeffs:or,aspect_coeffs:Xo,colouring:N0},{num_params:0,num_aspects:6,num_vertices:3,num_edge_shapes:2,edge_shapes:z,edge_orientations:ct,edge_shape_ids:Re,default_params:At,vertex_coeffs:Pr,translation_coeffs:ot,aspect_coeffs:Wo,colouring:R0},{num_params:2,num_aspects:1,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:en,edge_shape_ids:$e,default_params:pn,vertex_coeffs:Vn,translation_coeffs:rt,aspect_coeffs:Le,colouring:Br},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:3,edge_shapes:L,edge_orientations:kt,edge_shape_ids:J,default_params:pn,vertex_coeffs:Vn,translation_coeffs:yn,aspect_coeffs:sa,colouring:cs},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:Ae,edge_shape_ids:$e,default_params:pn,vertex_coeffs:Vn,translation_coeffs:yn,aspect_coeffs:qo,colouring:cs},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:Un,edge_shape_ids:Me,default_params:nr,vertex_coeffs:Kr,translation_coeffs:ni,aspect_coeffs:zo,colouring:Bn},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:3,edge_shapes:L,edge_orientations:wt,edge_shape_ids:J,default_params:rr,vertex_coeffs:Zr,translation_coeffs:Xi,aspect_coeffs:Ko,colouring:Bn},{num_params:4,num_aspects:2,num_vertices:4,num_edge_shapes:4,edge_shapes:ae,edge_orientations:M,edge_shape_ids:et,default_params:Ir,vertex_coeffs:bi,translation_coeffs:Wi,aspect_coeffs:Zo,colouring:Bn},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:3,edge_shapes:me,edge_orientations:kt,edge_shape_ids:J,default_params:pn,vertex_coeffs:Vn,translation_coeffs:qi,aspect_coeffs:$o,colouring:cs},null,{num_params:3,num_aspects:4,num_vertices:4,num_edge_shapes:4,edge_shapes:ge,edge_orientations:M,edge_shape_ids:et,default_params:mn,vertex_coeffs:Bi,translation_coeffs:zi,aspect_coeffs:e0,colouring:As},{num_params:2,num_aspects:4,num_vertices:4,num_edge_shapes:3,edge_shapes:Ee,edge_orientations:kt,edge_shape_ids:J,default_params:pn,vertex_coeffs:Vn,translation_coeffs:Ki,aspect_coeffs:t0,colouring:xs},{num_params:3,num_aspects:4,num_vertices:4,num_edge_shapes:3,edge_shapes:me,edge_orientations:wt,edge_shape_ids:J,default_params:Yt,vertex_coeffs:wi,translation_coeffs:Zi,aspect_coeffs:n0,colouring:As},{num_params:1,num_aspects:4,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:ce,edge_shape_ids:$e,default_params:sn,vertex_coeffs:zn,translation_coeffs:$i,aspect_coeffs:r0,colouring:M0},{num_params:3,num_aspects:4,num_vertices:4,num_edge_shapes:3,edge_shapes:me,edge_orientations:Ce,edge_shape_ids:x,default_params:vr,vertex_coeffs:Lr,translation_coeffs:es,aspect_coeffs:i0,colouring:As},{num_params:2,num_aspects:4,num_vertices:4,num_edge_shapes:4,edge_shapes:pe,edge_orientations:M,edge_shape_ids:et,default_params:Yn,vertex_coeffs:Qi,translation_coeffs:ts,aspect_coeffs:s0,colouring:xs},{num_params:0,num_aspects:4,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:_n,edge_shape_ids:Me,default_params:At,vertex_coeffs:Fn,translation_coeffs:ri,aspect_coeffs:a0,colouring:ua},{num_params:1,num_aspects:8,num_vertices:4,num_edge_shapes:3,edge_shapes:L,edge_orientations:Ge,edge_shape_ids:x,default_params:On,vertex_coeffs:ki,translation_coeffs:ns,aspect_coeffs:o0,colouring:ga},{num_params:2,num_aspects:1,num_vertices:4,num_edge_shapes:2,edge_shapes:W,edge_orientations:M,edge_shape_ids:$e,default_params:pn,vertex_coeffs:Vn,translation_coeffs:rt,aspect_coeffs:Le,colouring:Br},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:Ne,edge_orientations:M,edge_shape_ids:$e,default_params:pn,vertex_coeffs:Vn,translation_coeffs:yn,aspect_coeffs:sa,colouring:cs},{num_params:1,num_aspects:2,num_vertices:4,num_edge_shapes:1,edge_shapes:A,edge_orientations:Un,edge_shape_ids:Je,default_params:je,vertex_coeffs:Ur,translation_coeffs:rs,aspect_coeffs:l0,colouring:Bn},null,{num_params:0,num_aspects:2,num_vertices:4,num_edge_shapes:1,edge_shapes:A,edge_orientations:_n,edge_shape_ids:Je,default_params:At,vertex_coeffs:Fn,translation_coeffs:ii,aspect_coeffs:aa,colouring:Bn},{num_params:0,num_aspects:1,num_vertices:4,num_edge_shapes:1,edge_shapes:p,edge_orientations:M,edge_shape_ids:Je,default_params:At,vertex_coeffs:Fn,translation_coeffs:si,aspect_coeffs:_e,colouring:Br},null,{num_params:1,num_aspects:1,num_vertices:4,num_edge_shapes:2,edge_shapes:Ve,edge_orientations:ve,edge_shape_ids:$e,default_params:sn,vertex_coeffs:zn,translation_coeffs:ai,aspect_coeffs:Es,colouring:Br},null,{num_params:1,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:we,edge_orientations:ve,edge_shape_ids:$e,default_params:sn,vertex_coeffs:zn,translation_coeffs:is,aspect_coeffs:c0,colouring:cs},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:3,edge_shapes:U,edge_orientations:st,edge_shape_ids:J,default_params:rr,vertex_coeffs:Zr,translation_coeffs:ss,aspect_coeffs:A0,colouring:Bn},{num_params:1,num_aspects:1,num_vertices:4,num_edge_shapes:1,edge_shapes:A,edge_orientations:ht,edge_shape_ids:Je,default_params:je,vertex_coeffs:Ur,translation_coeffs:oi,aspect_coeffs:Es,colouring:Br},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:W,edge_orientations:In,edge_shape_ids:Me,default_params:nr,vertex_coeffs:Kr,translation_coeffs:ni,aspect_coeffs:f0,colouring:Bn},null,{num_params:0,num_aspects:4,num_vertices:4,num_edge_shapes:1,edge_shapes:A,edge_orientations:Oe,edge_shape_ids:Je,default_params:At,vertex_coeffs:Fn,translation_coeffs:ri,aspect_coeffs:u0,colouring:ua},{num_params:1,num_aspects:1,num_vertices:4,num_edge_shapes:2,edge_shapes:z,edge_orientations:M,edge_shape_ids:$e,default_params:sn,vertex_coeffs:zn,translation_coeffs:ai,aspect_coeffs:Es,colouring:Br},{num_params:0,num_aspects:2,num_vertices:4,num_edge_shapes:1,edge_shapes:B,edge_orientations:_n,edge_shape_ids:Je,default_params:At,vertex_coeffs:Fn,translation_coeffs:ii,aspect_coeffs:aa,colouring:Bn},{num_params:1,num_aspects:1,num_vertices:4,num_edge_shapes:1,edge_shapes:p,edge_orientations:In,edge_shape_ids:Je,default_params:je,vertex_coeffs:Ur,translation_coeffs:oi,aspect_coeffs:Es,colouring:Br},null,{num_params:0,num_aspects:1,num_vertices:4,num_edge_shapes:1,edge_shapes:Q,edge_orientations:M,edge_shape_ids:Je,default_params:At,vertex_coeffs:Fn,translation_coeffs:si,aspect_coeffs:_e,colouring:Br},{num_params:0,num_aspects:12,num_vertices:3,num_edge_shapes:3,edge_shapes:Ke,edge_orientations:at,edge_shape_ids:re,default_params:At,vertex_coeffs:Si,translation_coeffs:as,aspect_coeffs:g0,colouring:P0},{num_params:1,num_aspects:4,num_vertices:3,num_edge_shapes:3,edge_shapes:$,edge_orientations:at,edge_shape_ids:re,default_params:sn,vertex_coeffs:Di,translation_coeffs:br,aspect_coeffs:d0,colouring:xs},{num_params:0,num_aspects:4,num_vertices:3,num_edge_shapes:2,edge_shapes:Z,edge_orientations:fn,edge_shape_ids:Re,default_params:At,vertex_coeffs:xr,translation_coeffs:os,aspect_coeffs:_0,colouring:da},null,{num_params:0,num_aspects:8,num_vertices:3,num_edge_shapes:2,edge_shapes:g,edge_orientations:fn,edge_shape_ids:Re,default_params:At,vertex_coeffs:xr,translation_coeffs:li,aspect_coeffs:h0,colouring:ga},{num_params:0,num_aspects:4,num_vertices:3,num_edge_shapes:2,edge_shapes:z,edge_orientations:ct,edge_shape_ids:Re,default_params:At,vertex_coeffs:xr,translation_coeffs:c,aspect_coeffs:p0,colouring:da},{num_params:1,num_aspects:2,num_vertices:3,num_edge_shapes:2,edge_shapes:g,edge_orientations:pt,edge_shape_ids:R,default_params:Sr,vertex_coeffs:Yr,translation_coeffs:f,aspect_coeffs:m0,colouring:Bn},{num_params:2,num_aspects:2,num_vertices:3,num_edge_shapes:3,edge_shapes:i,edge_orientations:at,edge_shape_ids:re,default_params:qr,vertex_coeffs:$r,translation_coeffs:y,aspect_coeffs:I0,colouring:Bn},{num_params:2,num_aspects:4,num_vertices:3,num_edge_shapes:3,edge_shapes:be,edge_orientations:at,edge_shape_ids:re,default_params:qr,vertex_coeffs:$r,translation_coeffs:F,aspect_coeffs:v0,colouring:As},{num_params:1,num_aspects:4,num_vertices:3,num_edge_shapes:2,edge_shapes:Z,edge_orientations:pt,edge_shape_ids:R,default_params:Sr,vertex_coeffs:Yr,translation_coeffs:s,aspect_coeffs:C0,colouring:As},null,{num_params:0,num_aspects:6,num_vertices:3,num_edge_shapes:2,edge_shapes:Z,edge_orientations:St,edge_shape_ids:R,default_params:At,vertex_coeffs:Or,translation_coeffs:a,aspect_coeffs:y0,colouring:[0,1,0,1,0,1,0,0,0,0,0,0,0,1,2,0,1,2,2]},null,{num_params:0,num_aspects:2,num_vertices:3,num_edge_shapes:1,edge_shapes:p,edge_orientations:at,edge_shape_ids:H,default_params:At,vertex_coeffs:Or,translation_coeffs:Kn,aspect_coeffs:oa,colouring:Bn},{num_params:1,num_aspects:2,num_vertices:3,num_edge_shapes:2,edge_shapes:Ne,edge_orientations:ke,edge_shape_ids:R,default_params:Sr,vertex_coeffs:Yr,translation_coeffs:_,aspect_coeffs:E0,colouring:Bn},null,{num_params:0,num_aspects:2,num_vertices:3,num_edge_shapes:1,edge_shapes:Q,edge_orientations:at,edge_shape_ids:H,default_params:At,vertex_coeffs:Or,translation_coeffs:Kn,aspect_coeffs:oa,colouring:Bn}]}();function Vs(n,t,e){let r=new ze(0,0);for(let i=0;i<e.length;++i)r.x+=n[t+i]*e[i],r.y+=n[t+e.length+i]*e[i];return r}function Ul(n,t,e){let r=[];for(let i=0;i<2;++i)for(let o=0;o<3;++o){let A=0;for(let p=0;p<e.length;++p)A+=n[t+p]*e[p];r.push(A),t+=e.length}return r}const xl=[[1,0,0,0,1,0],[-1,0,1,0,-1,0],[-1,0,1,0,1,0],[1,0,0,0,-1,0]],Yl=[[.5,0,0,0,.5,0],[-.5,0,1,0,.5,0]],Ol=[[.5,0,0,0,.5,0],[-.5,0,1,0,-.5,0]];class Fa{constructor(t){Xe(this,"tiling_type");Xe(this,"ttd");Xe(this,"parameters");Xe(this,"verts");Xe(this,"reversals");Xe(this,"edges");Xe(this,"aspects");Xe(this,"t1");Xe(this,"t2");this.reset(t)}reset(t){this.tiling_type=t,this.ttd=Ll[t],this.parameters=this.ttd.default_params.slice(0),this.parameters.push(1),this.recompute()}recompute(){const t=this.numVertices(),e=this.numParameters(),r=this.numAspects();this.verts=[];for(let i=0;i<t;++i)this.verts.push(Vs(this.ttd.vertex_coeffs,i*(2*(e+1)),this.parameters));this.reversals=[],this.edges=[];for(let i=0;i<t;++i){const o=this.ttd.edge_orientations[2*i],A=this.ttd.edge_orientations[2*i+1];this.reversals.push(o!=A),this.edges.push(Hs(Pl(this.verts[i],this.verts[(i+1)%t]),xl[2*(o?1:0)+(A?1:0)]))}this.aspects=[];for(let i=0;i<r;++i)this.aspects.push(Ul(this.ttd.aspect_coeffs,6*(e+1)*i,this.parameters));this.t1=Vs(this.ttd.translation_coeffs,0,this.parameters),this.t2=Vs(this.ttd.translation_coeffs,2*(e+1),this.parameters)}getTilingType(){return this.tiling_type}numParameters(){return this.ttd.num_params}setParameters(t){t.length==this.parameters.length-1&&(this.parameters=t.slice(0),this.parameters.push(1),this.recompute())}getParameters(){return this.parameters.slice(0,-1)}numEdgeShapes(){return this.ttd.num_edge_shapes}getEdgeShape(t){return this.ttd.edge_shapes[t]}*shape(){for(let t=0;t<this.numVertices();++t){const e=this.ttd.edge_shape_ids[t];yield{T:this.edges[t],id:e,shape:this.ttd.edge_shapes[e],rev:this.reversals[t]}}}*parts(){for(let t=0;t<this.numVertices();++t){const e=this.ttd.edge_shape_ids[t],r=this.ttd.edge_shapes[e];if(r==K.J||r==K.I)yield{T:this.edges[t],id:e,shape:r,rev:this.reversals[t],second:!1};else{const i=this.reversals[t]?[1,0]:[0,1],o=r==K.U?Yl:Ol;yield{T:Hs(this.edges[t],o[i[0]]),id:e,shape:r,rev:!1,second:!1},yield{T:Hs(this.edges[t],o[i[1]]),id:e,shape:r,rev:!0,second:!0}}}}numVertices(){return this.ttd.num_vertices}getVertex(t){return{...this.verts[t]}}vertices(){return this.verts.map(t=>({...t}))}numAspects(){return this.ttd.num_aspects}getAspectTransform(t){return[...this.aspects[t]]}getT1(){return{...this.t1}}getT2(){return{...this.t2}}*fillRegionBounds(t,e,r,i){yield*this.fillRegionQuad(new ze(t,e),new ze(r,e),new ze(r,i),new ze(t,i))}*fillRegionQuad(t,e,r,i){const o=this.getT1(),A=this.getT2(),p=this.ttd,u=this.aspects;let l;function g(T,w){return new ze(T[0]*w.x+T[1]*w.y,T[2]*w.x+T[3]*w.y)}function h(T,w,b){const U=(b-T.y)/(w.y-T.y);return new ze((1-U)*T.x+U*w.x,b)}function*m(T,w,b,U,L){let Y=T.x;const z=(U.x-T.x)/(U.y-T.y);let Z=w.x;const ae=(b.x-w.x)/(b.y-w.y),me=T.y;let ge=b.y;L&&(ge=ge+1);let Ee=Math.floor(me);for(l&&(Ee=Math.max(l,Ee));Ee<ge;){const pe=Math.trunc(Ee);let W=Math.floor(Y);for(;W<Z+1e-7;){const Ne=Math.trunc(W);for(let Ve=0;Ve<p.num_aspects;++Ve){let we=u[Ve].slice(0);we[2]+=Ne*o.x+pe*A.x,we[5]+=Ne*o.y+pe*A.y,yield{T:we,t1:Ne,t2:pe,aspect:Ve}}W+=1}Y+=z,Z+=ae,Ee+=1}l=Ee}function*v(T,w,b,U,L){T.x>w.x?yield*m(w,T,U,b,L):yield*m(T,w,b,U,L)}function*B(T,w,b,U,L){T.y>b.y?yield*m(b,U,T,w,L):yield*m(T,w,b,U,L)}const Q=1/(o.x*A.y-A.x*o.y),D=[A.y*Q,-A.x*Q,-o.y*Q,o.x*Q];let I=[g(D,t),g(D,e),g(D,r),g(D,i)];if(Q<0){let T=I[1];I[1]=I[3],I[3]=T}if(Math.abs(I[0].y-I[1].y)<1e-7)yield*B(I[0],I[1],I[2],I[3],!0);else if(Math.abs(I[1].y-I[2].y)<1e-7)yield*B(I[1],I[2],I[3],I[0],!0);else{let T=0;for(let Y=1;Y<4;++Y)I[Y].y<I[T].y&&(T=Y);let w=I[T],b=I[(T+1)%4],U=I[(T+2)%4],L=I[(T+3)%4];if(b.x>L.x){let Y=b;b=L,L=Y}if(b.y<L.y){const Y=h(w,L,b.y),z=h(b,U,L.y);yield*v(w,w,Y,b,!1),yield*v(b,Y,L,z,!1),yield*v(z,L,U,U,!0)}else{const Y=h(w,b,L.y),z=h(L,U,b.y);yield*v(w,w,L,Y,!1),yield*v(Y,L,z,b,!1),yield*v(b,z,U,U,!0)}}}getColour(t,e,r){const i=this.ttd.colouring,o=i[18];let A=t%o;A<0&&(A+=o);let p=e%o;p<0&&(p+=o);let u=i[r];for(let l=0;l<A;++l)u=i[12+u];for(let l=0;l<p;++l)u=i[15+u];return u}}var Gl={grad:.9,turn:360,rad:360/(2*Math.PI)},cr=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},nn=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*n)/e+0},Rn=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),n>e?e:n>t?n:t},Po=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Na=function(n){return{r:Rn(n.r,0,255),g:Rn(n.g,0,255),b:Rn(n.b,0,255),a:Rn(n.a)}},Js=function(n){return{r:nn(n.r),g:nn(n.g),b:nn(n.b),a:nn(n.a,3)}},Hl=/^#([0-9a-f]{3,8})$/i,ws=function(n){var t=n.toString(16);return t.length<2?"0"+t:t},Lo=function(n){var t=n.r,e=n.g,r=n.b,i=n.a,o=Math.max(t,e,r),A=o-Math.min(t,e,r),p=A?o===t?(e-r)/A:o===e?2+(r-t)/A:4+(t-e)/A:0;return{h:60*(p<0?p+6:p),s:o?A/o*100:0,v:o/255*100,a:i}},Uo=function(n){var t=n.h,e=n.s,r=n.v,i=n.a;t=t/360*6,e/=100,r/=100;var o=Math.floor(t),A=r*(1-e),p=r*(1-(t-o)*e),u=r*(1-(1-t+o)*e),l=o%6;return{r:255*[r,p,A,A,u,r][l],g:255*[u,r,r,p,A,A][l],b:255*[A,A,u,r,r,p][l],a:i}},Ra=function(n){return{h:Po(n.h),s:Rn(n.s,0,100),l:Rn(n.l,0,100),a:Rn(n.a)}},Ma=function(n){return{h:nn(n.h),s:nn(n.s),l:nn(n.l),a:nn(n.a,3)}},Pa=function(n){return Uo((e=(t=n).s,{h:t.h,s:(e*=((r=t.l)<50?r:100-r)/100)>0?2*e/(r+e)*100:0,v:r+e,a:t.a}));var t,e,r},hs=function(n){return{h:(t=Lo(n)).h,s:(i=(200-(e=t.s))*(r=t.v)/100)>0&&i<200?e*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,e,r,i},Vl=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Jl=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jl=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xl=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,La={string:[[function(n){var t=Hl.exec(n);return t?(n=t[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?nn(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?nn(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var t=jl.exec(n)||Xl.exec(n);return t?t[2]!==t[4]||t[4]!==t[6]?null:Na({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(n){var t=Vl.exec(n)||Jl.exec(n);if(!t)return null;var e,r,i=Ra({h:(e=t[1],r=t[2],r===void 0&&(r="deg"),Number(e)*(Gl[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Pa(i)},"hsl"]],object:[[function(n){var t=n.r,e=n.g,r=n.b,i=n.a,o=i===void 0?1:i;return cr(t)&&cr(e)&&cr(r)?Na({r:Number(t),g:Number(e),b:Number(r),a:Number(o)}):null},"rgb"],[function(n){var t=n.h,e=n.s,r=n.l,i=n.a,o=i===void 0?1:i;if(!cr(t)||!cr(e)||!cr(r))return null;var A=Ra({h:Number(t),s:Number(e),l:Number(r),a:Number(o)});return Pa(A)},"hsl"],[function(n){var t=n.h,e=n.s,r=n.v,i=n.a,o=i===void 0?1:i;if(!cr(t)||!cr(e)||!cr(r))return null;var A=function(p){return{h:Po(p.h),s:Rn(p.s,0,100),v:Rn(p.v,0,100),a:Rn(p.a)}}({h:Number(t),s:Number(e),v:Number(r),a:Number(o)});return Uo(A)},"hsv"]]},Ua=function(n,t){for(var e=0;e<t.length;e++){var r=t[e][0](n);if(r)return[r,t[e][1]]}return[null,void 0]},Wl=function(n){return typeof n=="string"?Ua(n.trim(),La.string):typeof n=="object"&&n!==null?Ua(n,La.object):[null,void 0]},js=function(n,t){var e=hs(n);return{h:e.h,s:Rn(e.s+100*t,0,100),l:e.l,a:e.a}},Xs=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},xa=function(n,t){var e=hs(n);return{h:e.h,s:e.s,l:Rn(e.l+100*t,0,100),a:e.a}},Ya=function(){function n(t){this.parsed=Wl(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return nn(Xs(this.rgba),2)},n.prototype.isDark=function(){return Xs(this.rgba)<.5},n.prototype.isLight=function(){return Xs(this.rgba)>=.5},n.prototype.toHex=function(){return t=Js(this.rgba),e=t.r,r=t.g,i=t.b,A=(o=t.a)<1?ws(nn(255*o)):"","#"+ws(e)+ws(r)+ws(i)+A;var t,e,r,i,o,A},n.prototype.toRgb=function(){return Js(this.rgba)},n.prototype.toRgbString=function(){return t=Js(this.rgba),e=t.r,r=t.g,i=t.b,(o=t.a)<1?"rgba("+e+", "+r+", "+i+", "+o+")":"rgb("+e+", "+r+", "+i+")";var t,e,r,i,o},n.prototype.toHsl=function(){return Ma(hs(this.rgba))},n.prototype.toHslString=function(){return t=Ma(hs(this.rgba)),e=t.h,r=t.s,i=t.l,(o=t.a)<1?"hsla("+e+", "+r+"%, "+i+"%, "+o+")":"hsl("+e+", "+r+"%, "+i+"%)";var t,e,r,i,o},n.prototype.toHsv=function(){return t=Lo(this.rgba),{h:nn(t.h),s:nn(t.s),v:nn(t.v),a:nn(t.a,3)};var t},n.prototype.invert=function(){return wn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},n.prototype.saturate=function(t){return t===void 0&&(t=.1),wn(js(this.rgba,t))},n.prototype.desaturate=function(t){return t===void 0&&(t=.1),wn(js(this.rgba,-t))},n.prototype.grayscale=function(){return wn(js(this.rgba,-1))},n.prototype.lighten=function(t){return t===void 0&&(t=.1),wn(xa(this.rgba,t))},n.prototype.darken=function(t){return t===void 0&&(t=.1),wn(xa(this.rgba,-t))},n.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},n.prototype.alpha=function(t){return typeof t=="number"?wn({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):nn(this.rgba.a,3);var e},n.prototype.hue=function(t){var e=hs(this.rgba);return typeof t=="number"?wn({h:t,s:e.s,l:e.l,a:e.a}):nn(e.h)},n.prototype.isEqual=function(t){return this.toHex()===wn(t).toHex()},n}(),wn=function(n){return n instanceof Ya?n:new Ya(n)};function Oa(n){let t;return{c(){t=O("input"),d(t,"type","hidden"),d(t,"name",n[3]),t.value=n[0]},m(e,r){te(e,t,r)},p(e,r){r&8&&d(t,"name",e[3]),r&1&&(t.value=e[0])},d(e){e&&ee(t)}}}function ql(n){let t,e,r,i,o,A,p,u,l,g=n[3]&&Oa(n);return{c(){t=O("div"),e=O("div"),r=ne(),i=O("div"),A=ne(),g&&g.c(),p=xt(),d(e,"class","track svelte-x7oaj0"),d(i,"class","thumb svelte-x7oaj0"),d(t,"class","slider svelte-x7oaj0"),d(t,"role","slider"),d(t,"aria-orientation",n[4]),d(t,"aria-valuemax",n[11]),d(t,"aria-valuemin",n[10]),d(t,"aria-valuenow",n[0]),d(t,"aria-valuetext",o=n[2](n[0])),d(t,"aria-label",n[7]),d(t,"aria-labelledby",n[8]),d(t,"aria-controls",n[9]),d(t,"tabindex","0"),_r(t,"reverse",n[5]),Jt(t,"--position",n[12])},m(h,m){te(h,t,m),S(t,e),S(t,r),S(t,i),n[22](t),te(h,A,m),g&&g.m(h,m),te(h,p,m),u||(l=[le(window,"mousemove",n[15]),le(window,"mouseup",n[16]),le(t,"keydown",n[13]),le(t,"mousedown",q0(function(){fr(n[6]?void 0:n[14])&&(n[6]?void 0:n[14]).apply(this,arguments)})),le(t,"touchstart",ur(function(){fr(n[6]?void 0:n[17])&&(n[6]?void 0:n[17]).apply(this,arguments)}),{passive:!1}),le(t,"touchmove",ur(function(){fr(n[6]?void 0:n[17])&&(n[6]?void 0:n[17]).apply(this,arguments)}),{passive:!1}),le(t,"touchend",ur(function(){fr(n[6]?void 0:n[17])&&(n[6]?void 0:n[17]).apply(this,arguments)}),{passive:!1})],u=!0)},p(h,[m]){n=h,m&16&&d(t,"aria-orientation",n[4]),m&2048&&d(t,"aria-valuemax",n[11]),m&1024&&d(t,"aria-valuemin",n[10]),m&1&&d(t,"aria-valuenow",n[0]),m&5&&o!==(o=n[2](n[0]))&&d(t,"aria-valuetext",o),m&128&&d(t,"aria-label",n[7]),m&256&&d(t,"aria-labelledby",n[8]),m&512&&d(t,"aria-controls",n[9]),m&32&&_r(t,"reverse",n[5]),m&4096&&Jt(t,"--position",n[12]),n[3]?g?g.p(n,m):(g=Oa(n),g.c(),g.m(p.parentNode,p)):g&&(g.d(1),g=null)},i:Dt,o:Dt,d(h){h&&(ee(t),ee(A),ee(p)),n[22](null),g&&g.d(h),u=!1,An(l)}}}function zl(n,t,e){let r,i,o,A,{min:p=0}=t,{max:u=100}=t,{step:l=1}=t,{value:g=50}=t,{ariaValueText:h=W=>W.toString()}=t,{name:m=void 0}=t,{direction:v="horizontal"}=t,{reverse:B=!1}=t,{keyboardOnly:Q=!1}=t,{slider:D=void 0}=t,{ariaLabel:I=void 0}=t,{ariaLabelledBy:T=void 0}=t,{ariaControls:w=void 0}=t,{isDragging:b=!1}=t;const U=Is();function L(W){const Ne=1/o,Ve=Math.round(W*Ne)/Ne;return Math.max(r,Math.min(i,Ve))}function Y(W){const Ne=W.shiftKey?o*10:o;W.key==="ArrowUp"||W.key==="ArrowRight"?(e(0,g+=Ne),W.preventDefault()):W.key==="ArrowDown"||W.key==="ArrowLeft"?(e(0,g-=Ne),W.preventDefault()):W.key==="Home"?(e(0,g=r),W.preventDefault()):W.key==="End"?(e(0,g=i),W.preventDefault()):W.key==="PageUp"?(e(0,g+=o*10),W.preventDefault()):W.key==="PageDown"&&(e(0,g-=o*10),W.preventDefault()),e(0,g=L(g)),U("input",g)}const z={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function Z(W){const Ne=(D==null?void 0:D[z[v].clientSize])||120,Ve=(D==null?void 0:D.getBoundingClientRect()[z[v].offset])||0;let we=W[z[v].client]-Ve;v==="vertical"&&(we=-1*we+Ne),B?e(0,g=i-we/Ne*(i-r)):e(0,g=we/Ne*(i-r)+r),e(0,g=L(g)),U("input",g)}function ae(W){Z(W),e(18,b=!0)}function me(W){b&&Z(W)}function ge(){e(18,b=!1)}function Ee(W){Z({clientX:W.changedTouches[0].clientX,clientY:W.changedTouches[0].clientY})}function pe(W){Ft[W?"unshift":"push"](()=>{D=W,e(1,D)})}return n.$$set=W=>{"min"in W&&e(19,p=W.min),"max"in W&&e(20,u=W.max),"step"in W&&e(21,l=W.step),"value"in W&&e(0,g=W.value),"ariaValueText"in W&&e(2,h=W.ariaValueText),"name"in W&&e(3,m=W.name),"direction"in W&&e(4,v=W.direction),"reverse"in W&&e(5,B=W.reverse),"keyboardOnly"in W&&e(6,Q=W.keyboardOnly),"slider"in W&&e(1,D=W.slider),"ariaLabel"in W&&e(7,I=W.ariaLabel),"ariaLabelledBy"in W&&e(8,T=W.ariaLabelledBy),"ariaControls"in W&&e(9,w=W.ariaControls),"isDragging"in W&&e(18,b=W.isDragging)},n.$$.update=()=>{n.$$.dirty&524288&&e(10,r=typeof p=="string"?parseFloat(p):p),n.$$.dirty&1048576&&e(11,i=typeof u=="string"?parseFloat(u):u),n.$$.dirty&2097152&&(o=typeof l=="string"?parseFloat(l):l),n.$$.dirty&3073&&e(12,A=((g-r)/(i-r)*1).toFixed(4))},[g,D,h,m,v,B,Q,I,T,w,r,i,A,Y,ae,me,ge,Ee,b,p,u,l,pe]}class Ms extends Ln{constructor(t){super(),Pn(this,t,zl,ql,Sn,{min:19,max:20,step:21,value:0,ariaValueText:2,name:3,direction:4,reverse:5,keyboardOnly:6,slider:1,ariaLabel:7,ariaLabelledBy:8,ariaControls:9,isDragging:18})}}function Kl(n){let t,e,r,i,o,A,p,u,l,g,h,m,v;var B=n[2].pickerIndicator;function Q(b,U){return{props:{pos:b[6],isDark:b[3]}}}B&&(e=Mn(B,Q(n)));function D(b){n[13](b)}let I={keyboardOnly:!0,ariaValueText:Zl,ariaLabel:"saturation color"};n[0]!==void 0&&(I.value=n[0]),o=new Ms({props:I}),Ft.push(()=>kn(o,"value",D));function T(b){n[14](b)}let w={keyboardOnly:!0,ariaValueText:$l,direction:"vertical",ariaLabel:"brightness color"};return n[1]!==void 0&&(w.value=n[1]),l=new Ms({props:w}),Ft.push(()=>kn(l,"value",T)),{c(){t=O("div"),e&&Ct(e.$$.fragment),r=ne(),i=O("div"),Ct(o.$$.fragment),p=ne(),u=O("div"),Ct(l.$$.fragment),d(i,"class","s svelte-amfbfx"),Jt(i,"--pos-y",n[6].y),d(u,"class","v svelte-amfbfx"),Jt(u,"--pos-x",n[6].x),d(t,"class","picker svelte-amfbfx"),Jt(t,"--picker-color-bg",n[5])},m(b,U){te(b,t,U),e&&It(e,t,null),S(t,r),S(t,i),It(o,i,null),S(t,p),S(t,u),It(l,u,null),n[15](t),h=!0,m||(v=[le(window,"mouseup",n[8]),le(window,"mousedown",n[10]),le(window,"mousemove",n[9]),le(t,"mousedown",ur(n[7])),le(t,"touchstart",n[11],{passive:!1}),le(t,"touchmove",ur(n[11]),{passive:!1}),le(t,"touchend",n[11],{passive:!1})],m=!0)},p(b,[U]){if(U&4&&B!==(B=b[2].pickerIndicator)){if(e){gn();const z=e;Fe(z.$$.fragment,1,0,()=>{vt(z,1)}),dn()}B?(e=Mn(B,Q(b)),Ct(e.$$.fragment),Be(e.$$.fragment,1),It(e,t,r)):e=null}else if(B){const z={};U&64&&(z.pos=b[6]),U&8&&(z.isDark=b[3]),e.$set(z)}const L={};!A&&U&1&&(A=!0,L.value=b[0],er(()=>A=!1)),o.$set(L),U&64&&Jt(i,"--pos-y",b[6].y);const Y={};!g&&U&2&&(g=!0,Y.value=b[1],er(()=>g=!1)),l.$set(Y),U&64&&Jt(u,"--pos-x",b[6].x),U&32&&Jt(t,"--picker-color-bg",b[5])},i(b){h||(e&&Be(e.$$.fragment,b),Be(o.$$.fragment,b),Be(l.$$.fragment,b),h=!0)},o(b){e&&Fe(e.$$.fragment,b),Fe(o.$$.fragment,b),Fe(l.$$.fragment,b),h=!1},d(b){b&&ee(t),e&&vt(e),vt(o),vt(l),n[15](null),m=!1,An(v)}}}function Qs(n,t,e){return Math.min(Math.max(t,n),e)}const Zl=n=>`${n}%`,$l=n=>`${n}%`;function ec(n,t,e){const r=Is();let{components:i}=t,{h:o}=t,{s:A}=t,{v:p}=t,{isDark:u}=t,l,g=!1,h,m={x:100,y:0};function v(L){const{width:Y,left:z,height:Z,top:ae}=l.getBoundingClientRect(),me={x:Qs(L.clientX-z,0,Y),y:Qs(L.clientY-ae,0,Z)};e(0,A=Qs(me.x/Y,0,1)*100),e(1,p=Qs((Z-me.y)/Z,0,1)*100)}function B(L){L.button===0&&(g=!0,v(L))}function Q(){g=!1}function D(L){g&&v(L)}function I(L){L.target.isSameNode(l)}function T(L){L.preventDefault(),v(L.changedTouches[0])}function w(L){A=L,e(0,A)}function b(L){p=L,e(1,p)}function U(L){Ft[L?"unshift":"push"](()=>{l=L,e(4,l)})}return n.$$set=L=>{"components"in L&&e(2,i=L.components),"h"in L&&e(12,o=L.h),"s"in L&&e(0,A=L.s),"v"in L&&e(1,p=L.v),"isDark"in L&&e(3,u=L.isDark)},n.$$.update=()=>{n.$$.dirty&4096&&typeof o=="number"&&e(5,h=wn({h:o,s:100,v:100,a:1}).toHex()),n.$$.dirty&19&&typeof A=="number"&&typeof p=="number"&&l&&e(6,m={x:A,y:100-p}),n.$$.dirty&3&&r("input",{s:A,v:p})},[A,p,i,u,l,h,m,B,Q,D,I,T,o,w,b,U]}class tc extends Ln{constructor(t){super(),Pn(this,t,ec,Kl,Sn,{components:2,h:12,s:0,v:1,isDark:3})}}function nc(n){let t;return{c(){t=O("div"),d(t,"class","picker-indicator svelte-i5mg2p"),_r(t,"is-dark",n[1]),Jt(t,"--pos-x",n[0].x),Jt(t,"--pos-y",n[0].y)},m(e,r){te(e,t,r)},p(e,[r]){r&2&&_r(t,"is-dark",e[1]),r&1&&Jt(t,"--pos-x",e[0].x),r&1&&Jt(t,"--pos-y",e[0].y)},i:Dt,o:Dt,d(e){e&&ee(t)}}}function rc(n,t,e){let{pos:r}=t,{isDark:i}=t;return n.$$set=o=>{"pos"in o&&e(0,r=o.pos),"isDark"in o&&e(1,i=o.isDark)},[r,i]}class ic extends Ln{constructor(t){super(),Pn(this,t,rc,nc,Sn,{pos:0,isDark:1})}}function sc(n){let t,e,r,i,o,A,p,u,l,g;return{c(){t=O("input"),r=ne(),i=O("input"),A=ne(),p=O("input"),d(t,"aria-label",e=n[4].label.h),t.value=n[9],d(t,"type","number"),d(t,"min","0"),d(t,"max","360"),d(t,"class","svelte-p68edl"),d(i,"aria-label",o=n[4].label.s),i.value=n[8],d(i,"type","number"),d(i,"min","0"),d(i,"max","100"),d(i,"class","svelte-p68edl"),d(p,"aria-label",u=n[4].label.v),p.value=n[7],d(p,"type","number"),d(p,"min","0"),d(p,"max","100"),d(p,"class","svelte-p68edl")},m(h,m){te(h,t,m),te(h,r,m),te(h,i,m),te(h,A,m),te(h,p,m),l||(g=[le(t,"input",n[12]("h")),le(i,"input",n[12]("s")),le(p,"input",n[12]("v"))],l=!0)},p(h,m){m&16&&e!==(e=h[4].label.h)&&d(t,"aria-label",e),m&512&&t.value!==h[9]&&(t.value=h[9]),m&16&&o!==(o=h[4].label.s)&&d(i,"aria-label",o),m&256&&i.value!==h[8]&&(i.value=h[8]),m&16&&u!==(u=h[4].label.v)&&d(p,"aria-label",u),m&128&&p.value!==h[7]&&(p.value=h[7])},d(h){h&&(ee(t),ee(r),ee(i),ee(A),ee(p)),l=!1,An(g)}}}function ac(n){let t,e,r,i,o,A,p,u,l,g,h,m,v;return{c(){t=O("input"),i=ne(),o=O("input"),u=ne(),l=O("input"),d(t,"aria-label",e=n[4].label.r),t.value=r=n[0].r,d(t,"type","number"),d(t,"min","0"),d(t,"max","255"),d(t,"class","svelte-p68edl"),d(o,"aria-label",A=n[4].label.g),o.value=p=n[0].g,d(o,"type","number"),d(o,"min","0"),d(o,"max","255"),d(o,"class","svelte-p68edl"),d(l,"aria-label",g=n[4].label.b),l.value=h=n[0].b,d(l,"type","number"),d(l,"min","0"),d(l,"max","255"),d(l,"class","svelte-p68edl")},m(B,Q){te(B,t,Q),te(B,i,Q),te(B,o,Q),te(B,u,Q),te(B,l,Q),m||(v=[le(t,"input",n[11]("r")),le(o,"input",n[11]("g")),le(l,"input",n[11]("b"))],m=!0)},p(B,Q){Q&16&&e!==(e=B[4].label.r)&&d(t,"aria-label",e),Q&1&&r!==(r=B[0].r)&&t.value!==r&&(t.value=r),Q&16&&A!==(A=B[4].label.g)&&d(o,"aria-label",A),Q&1&&p!==(p=B[0].g)&&o.value!==p&&(o.value=p),Q&16&&g!==(g=B[4].label.b)&&d(l,"aria-label",g),Q&1&&h!==(h=B[0].b)&&l.value!==h&&(l.value=h)},d(B){B&&(ee(t),ee(i),ee(o),ee(u),ee(l)),m=!1,An(v)}}}function oc(n){let t,e,r,i;return{c(){t=O("input"),d(t,"aria-label",e=n[4].label.hex),t.value=n[1],d(t,"class","svelte-p68edl"),Jt(t,"flex",3)},m(o,A){te(o,t,A),r||(i=le(t,"input",n[10]),r=!0)},p(o,A){A&16&&e!==(e=o[4].label.hex)&&d(t,"aria-label",e),A&2&&t.value!==o[1]&&(t.value=o[1])},d(o){o&&ee(t),r=!1,i()}}}function Ga(n){let t,e,r,i;return{c(){t=O("input"),d(t,"aria-label",e=n[4].label.a),t.value=n[6],d(t,"type","number"),d(t,"min","0"),d(t,"max","1"),d(t,"step","0.01"),d(t,"class","svelte-p68edl")},m(o,A){te(o,t,A),r||(i=le(t,"input",function(){fr(n[5]<=1?n[11]("a"):n[12]("a"))&&(n[5]<=1?n[11]("a"):n[12]("a")).apply(this,arguments)}),r=!0)},p(o,A){n=o,A&16&&e!==(e=n[4].label.a)&&d(t,"aria-label",e),A&64&&t.value!==n[6]&&(t.value=n[6])},d(o){o&&ee(t),r=!1,i()}}}function Ha(n){let t,e,r=n[4].color[n[3][n[5]]]+"",i,o,A,p=n[4].changeTo+"",u,l,g=n[4].color[n[3][(n[5]+1)%3]]+"",h,m,v;return{c(){t=O("button"),e=O("span"),i=Gt(r),o=ne(),A=O("span"),u=Gt(p),l=ne(),h=Gt(g),d(e,"class","disappear svelte-p68edl"),d(e,"aria-hidden","true"),d(A,"class","appear svelte-p68edl"),d(t,"class","svelte-p68edl")},m(B,Q){te(B,t,Q),S(t,e),S(e,i),S(t,o),S(t,A),S(A,u),S(A,l),S(A,h),m||(v=le(t,"click",n[14]),m=!0)},p(B,Q){Q&56&&r!==(r=B[4].color[B[3][B[5]]]+"")&&jn(i,r),Q&16&&p!==(p=B[4].changeTo+"")&&jn(u,p),Q&56&&g!==(g=B[4].color[B[3][(B[5]+1)%3]]+"")&&jn(h,g)},d(B){B&&ee(t),m=!1,v()}}}function lc(n){let t,e,r,i;function o(g,h){return g[5]===0?oc:g[5]===1?ac:sc}let A=o(n),p=A(n),u=n[2]&&Ga(n),l=n[3].length>1&&Ha(n);return{c(){t=O("div"),e=O("div"),p.c(),r=ne(),u&&u.c(),i=ne(),l&&l.c(),d(e,"class","input-container svelte-p68edl"),d(t,"class","text-input svelte-p68edl")},m(g,h){te(g,t,h),S(t,e),p.m(e,null),S(e,r),u&&u.m(e,null),S(t,i),l&&l.m(t,null)},p(g,[h]){A===(A=o(g))&&p?p.p(g,h):(p.d(1),p=A(g),p&&(p.c(),p.m(e,r))),g[2]?u?u.p(g,h):(u=Ga(g),u.c(),u.m(e,null)):u&&(u.d(1),u=null),g[3].length>1?l?l.p(g,h):(l=Ha(g),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i:Dt,o:Dt,d(g){g&&ee(t),p.d(),u&&u.d(),l&&l.d()}}}const cc=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;function Ac(n,t,e){let r,i,o,A;const p=Is();let{isAlpha:u}=t,{rgb:l}=t,{hsv:g}=t,{hex:h}=t,{textInputModes:m}=t,{texts:v}=t,B=0;function Q(w){const b=w.target;cc.test(b.value)&&(e(1,h=b.value),p("input",{hex:h}))}function D(w){return function(b){e(0,l={...l,[w]:parseFloat(b.target.value)}),p("input",{rgb:l})}}function I(w){return function(b){e(13,g={...g,[w]:parseFloat(b.target.value)}),p("input",{hsv:g})}}const T=()=>e(5,B=(B+1)%3);return n.$$set=w=>{"isAlpha"in w&&e(2,u=w.isAlpha),"rgb"in w&&e(0,l=w.rgb),"hsv"in w&&e(13,g=w.hsv),"hex"in w&&e(1,h=w.hex),"textInputModes"in w&&e(3,m=w.textInputModes),"texts"in w&&e(4,v=w.texts)},n.$$.update=()=>{n.$$.dirty&8192&&e(9,r=Math.round(g.h)),n.$$.dirty&8192&&e(8,i=Math.round(g.s)),n.$$.dirty&8192&&e(7,o=Math.round(g.v)),n.$$.dirty&8192&&e(6,A=g.a===void 0?1:Math.round(g.a*100)/100)},[l,h,u,m,v,B,A,o,i,r,Q,D,I,g,T]}class fc extends Ln{constructor(t){super(),Pn(this,t,Ac,lc,Sn,{isAlpha:2,rgb:0,hsv:13,hex:1,textInputModes:3,texts:4})}}function uc(n){let t,e,r,i,o,A,p,u,l,g,h;return{c(){t=O("label"),e=O("div"),r=O("input"),i=ne(),o=O("div"),A=ne(),p=O("div"),u=ne(),l=Gt(n[2]),d(r,"type","color"),d(r,"name",n[3]),r.value=n[1],d(r,"aria-haspopup","dialog"),d(r,"class","svelte-r4tbal"),d(o,"class","alpha svelte-r4tbal"),d(p,"class","color svelte-r4tbal"),Jt(p,"background",n[1]),d(e,"class","container svelte-r4tbal"),d(t,"class","svelte-r4tbal")},m(m,v){te(m,t,v),S(t,e),S(e,r),S(e,i),S(e,o),S(e,A),S(e,p),S(t,u),S(t,l),n[5](t),g||(h=[le(r,"click",ur(ks)),le(r,"mousedown",ur(ks)),le(t,"click",ur(ks)),le(t,"mousedown",ur(ks))],g=!0)},p(m,[v]){v&8&&d(r,"name",m[3]),v&2&&(r.value=m[1]),v&2&&Jt(p,"background",m[1]),v&4&&jn(l,m[2])},i:Dt,o:Dt,d(m){m&&ee(t),n[5](null),g=!1,An(h)}}}function ks(){}function gc(n,t,e){let{labelElement:r}=t,{hex:i}=t,{label:o}=t,{name:A=void 0}=t,{isOpen:p}=t;function u(l){Ft[l?"unshift":"push"](()=>{r=l,e(0,r)})}return n.$$set=l=>{"labelElement"in l&&e(0,r=l.labelElement),"hex"in l&&e(1,i=l.hex),"label"in l&&e(2,o=l.label),"name"in l&&e(3,A=l.name),"isOpen"in l&&e(4,p=l.isOpen)},[r,i,o,A,p,u]}class dc extends Ln{constructor(t){super(),Pn(this,t,gc,uc,Sn,{labelElement:0,hex:1,label:2,name:3,isOpen:4})}}function _c(n){let t,e,r;const i=n[4].default,o=G0(i,n,n[3],null);return{c(){t=O("div"),o&&o.c(),d(t,"class","wrapper svelte-1h4o41o"),d(t,"role",e=n[2]?"dialog":void 0),d(t,"aria-label","color picker"),_r(t,"is-open",n[1])},m(A,p){te(A,t,p),o&&o.m(t,null),n[5](t),r=!0},p(A,[p]){o&&o.p&&(!r||p&8)&&V0(o,i,A,A[3],r?H0(i,A[3],p,null):J0(A[3]),null),(!r||p&4&&e!==(e=A[2]?"dialog":void 0))&&d(t,"role",e),(!r||p&2)&&_r(t,"is-open",A[1])},i(A){r||(Be(o,A),r=!0)},o(A){Fe(o,A),r=!1},d(A){A&&ee(t),o&&o.d(A),n[5](null)}}}function hc(n,t,e){let{$$slots:r={},$$scope:i}=t,{wrapper:o}=t,{isOpen:A}=t,{isDialog:p}=t;function u(l){Ft[l?"unshift":"push"](()=>{o=l,e(0,o)})}return n.$$set=l=>{"wrapper"in l&&e(0,o=l.wrapper),"isOpen"in l&&e(1,A=l.isOpen),"isDialog"in l&&e(2,p=l.isDialog),"$$scope"in l&&e(3,i=l.$$scope)},[o,A,p,i,r,u]}class pc extends Ln{constructor(t){super(),Pn(this,t,hc,_c,Sn,{wrapper:0,isOpen:1,isDialog:2})}}const Ws={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to "},xo="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function mc(n){return function(t){if(t.target===window)return;const e=t.target;if(!n.contains(e))return;const r=n.querySelectorAll(xo),i=r[0],o=r[r.length-1];function A(u){return u.code==="Tab"&&!u.shiftKey}function p(u){return u.code==="Tab"&&u.shiftKey}A(t)&&t.target===o?(t.preventDefault(),i.focus()):p(t)&&t.target===i&&(t.preventDefault(),o.focus())}}const Ic=n=>{const t=n.querySelector(xo);t&&t.focus();const e=mc(n);return document.addEventListener("keydown",e),{destroy(){document.removeEventListener("keydown",e)}}};function vc(n){let t,e,r,i,o,A,p=n[1].label.withoutColor+"",u,l,g;return{c(){t=O("label"),e=O("div"),r=O("input"),i=ne(),o=O("span"),A=ne(),u=Gt(p),d(r,"type","checkbox"),d(r,"class","svelte-pt866j"),d(o,"class","svelte-pt866j"),d(e,"class","svelte-pt866j"),d(t,"class","nullability-checkbox svelte-pt866j")},m(h,m){te(h,t,m),S(t,e),S(e,r),r.checked=n[0],S(e,i),S(e,o),S(t,A),S(t,u),l||(g=le(r,"change",n[2]),l=!0)},p(h,[m]){m&1&&(r.checked=h[0]),m&2&&p!==(p=h[1].label.withoutColor+"")&&jn(u,p)},i:Dt,o:Dt,d(h){h&&ee(t),l=!1,g()}}}function Cc(n,t,e){let{isUndefined:r}=t,{texts:i}=t;function o(){r=this.checked,e(0,r)}return n.$$set=A=>{"isUndefined"in A&&e(0,r=A.isUndefined),"texts"in A&&e(1,i=A.texts)},[r,i,o]}class yc extends Ln{constructor(t){super(),Pn(this,t,Cc,vc,Sn,{isUndefined:0,texts:1})}}function Ec(n){let t;return{c(){t=O("input"),d(t,"type","hidden"),t.value=n[2],d(t,"name",n[6])},m(e,r){te(e,t,r)},p(e,r){r[0]&4&&(t.value=e[2]),r[0]&64&&d(t,"name",e[6])},i:Dt,o:Dt,d(e){e&&ee(t)}}}function bc(n){let t,e,r,i;function o(u){n[33](u)}var A=n[23]().input;function p(u,l){let g={isOpen:!0,hex:u[2],label:u[5],name:u[6]};return u[21]!==void 0&&(g.labelElement=u[21]),{props:g}}return A&&(t=Mn(A,p(n)),Ft.push(()=>kn(t,"labelElement",o))),{c(){t&&Ct(t.$$.fragment),r=xt()},m(u,l){t&&It(t,u,l),te(u,r,l),i=!0},p(u,l){if(A!==(A=u[23]().input)){if(t){gn();const g=t;Fe(g.$$.fragment,1,0,()=>{vt(g,1)}),dn()}A?(t=Mn(A,p(u)),Ft.push(()=>kn(t,"labelElement",o)),Ct(t.$$.fragment),Be(t.$$.fragment,1),It(t,r.parentNode,r)):t=null}else if(A){const g={};l[0]&4&&(g.hex=u[2]),l[0]&32&&(g.label=u[5]),l[0]&64&&(g.name=u[6]),!e&&l[0]&2097152&&(e=!0,g.labelElement=u[21],er(()=>e=!1)),t.$set(g)}},i(u){i||(t&&Be(t.$$.fragment,u),i=!0)},o(u){t&&Fe(t.$$.fragment,u),i=!1},d(u){u&&ee(r),t&&vt(t,u)}}}function Va(n){let t,e,r,i;function o(u){n[34](u)}var A=n[23]().nullabilityCheckbox;function p(u,l){let g={texts:u[24]()};return u[16]!==void 0&&(g.isUndefined=u[16]),{props:g}}return A&&(t=Mn(A,p(n)),Ft.push(()=>kn(t,"isUndefined",o))),{c(){t&&Ct(t.$$.fragment),r=xt()},m(u,l){t&&It(t,u,l),te(u,r,l),i=!0},p(u,l){if(A!==(A=u[23]().nullabilityCheckbox)){if(t){gn();const g=t;Fe(g.$$.fragment,1,0,()=>{vt(g,1)}),dn()}A?(t=Mn(A,p(u)),Ft.push(()=>kn(t,"isUndefined",o)),Ct(t.$$.fragment),Be(t.$$.fragment,1),It(t,r.parentNode,r)):t=null}else if(A){const g={};!e&&l[0]&65536&&(e=!0,g.isUndefined=u[16],er(()=>e=!1)),t.$set(g)}},i(u){i||(t&&Be(t.$$.fragment,u),i=!0)},o(u){t&&Fe(t.$$.fragment,u),i=!1},d(u){u&&ee(r),t&&vt(t,u)}}}function Ja(n){var i;let t,e,r;return e=new Ms({props:{min:0,max:1,step:.01,value:((i=n[1])==null?void 0:i.a)??n[18].a,direction:n[12],reverse:n[12]==="vertical",ariaLabel:n[24]().label.a}}),e.$on("input",n[27]("a")),{c(){t=O("div"),Ct(e.$$.fragment),d(t,"class","a svelte-1n1d6qa"),Jt(t,"--alphaless-color",(n[2]?n[2]:n[19]).substring(0,7))},m(o,A){te(o,t,A),It(e,t,null),r=!0},p(o,A){var u;const p={};A[0]&262146&&(p.value=((u=o[1])==null?void 0:u.a)??o[18].a),A[0]&4096&&(p.direction=o[12]),A[0]&4096&&(p.reverse=o[12]==="vertical"),e.$set(p),A[0]&524292&&Jt(t,"--alphaless-color",(o[2]?o[2]:o[19]).substring(0,7))},i(o){r||(Be(e.$$.fragment,o),r=!0)},o(o){Fe(e.$$.fragment,o),r=!1},d(o){o&&ee(t),vt(e)}}}function ja(n){let t,e,r;var i=n[23]().textInput;function o(A,p){return{props:{hex:A[2]??A[19],rgb:A[0]??A[17],hsv:A[1]??A[18],isAlpha:A[8],textInputModes:A[11],texts:A[24]()}}}return i&&(t=Mn(i,o(n)),t.$on("input",n[35])),{c(){t&&Ct(t.$$.fragment),e=xt()},m(A,p){t&&It(t,A,p),te(A,e,p),r=!0},p(A,p){if(i!==(i=A[23]().textInput)){if(t){gn();const u=t;Fe(u.$$.fragment,1,0,()=>{vt(u,1)}),dn()}i?(t=Mn(i,o(A)),t.$on("input",A[35]),Ct(t.$$.fragment),Be(t.$$.fragment,1),It(t,e.parentNode,e)):t=null}else if(i){const u={};p[0]&524292&&(u.hex=A[2]??A[19]),p[0]&131073&&(u.rgb=A[0]??A[17]),p[0]&262146&&(u.hsv=A[1]??A[18]),p[0]&256&&(u.isAlpha=A[8]),p[0]&2048&&(u.textInputModes=A[11]),t.$set(u)}},i(A){r||(t&&Be(t.$$.fragment,A),r=!0)},o(A){t&&Fe(t.$$.fragment,A),r=!1},d(A){A&&ee(e),t&&vt(t,A)}}}function Bc(n){let t,e,r;var i=n[23]().a11yNotice;function o(A,p){return{props:{components:A[23](),a11yColors:A[13],hex:A[2]||"#00000000",a11yTexts:A[15],a11yLevel:A[14]}}}return i&&(t=Mn(i,o(n))),{c(){t&&Ct(t.$$.fragment),e=xt()},m(A,p){t&&It(t,A,p),te(A,e,p),r=!0},p(A,p){if(i!==(i=A[23]().a11yNotice)){if(t){gn();const u=t;Fe(u.$$.fragment,1,0,()=>{vt(u,1)}),dn()}i?(t=Mn(i,o(A)),Ct(t.$$.fragment),Be(t.$$.fragment,1),It(t,e.parentNode,e)):t=null}else if(i){const u={};p[0]&8192&&(u.a11yColors=A[13]),p[0]&4&&(u.hex=A[2]||"#00000000"),p[0]&32768&&(u.a11yTexts=A[15]),p[0]&16384&&(u.a11yLevel=A[14]),t.$set(u)}},i(A){r||(t&&Be(t.$$.fragment,A),r=!0)},o(A){t&&Fe(t.$$.fragment,A),r=!1},d(A){A&&ee(e),t&&vt(t,A)}}}function wc(n){var D,I,T,w;let t,e,r,i,o,A,p,u,l=n[23]().a11yNotice,g,h,m=n[7]&&Va(n);e=new tc({props:{components:n[23](),h:((D=n[1])==null?void 0:D.h)??n[18].h,s:((I=n[1])==null?void 0:I.s)??n[18].s,v:((T=n[1])==null?void 0:T.v)??n[18].v,isDark:n[3]}}),e.$on("input",n[28](["s","v"])),o=new Ms({props:{min:0,max:360,step:1,value:((w=n[1])==null?void 0:w.h)??n[18].h,direction:n[12],reverse:n[12]==="vertical",ariaLabel:n[24]().label.h}}),o.$on("input",n[27]("h"));let v=n[8]&&Ja(n),B=n[10]&&ja(n),Q=l&&Bc(n);return{c(){m&&m.c(),t=ne(),Ct(e.$$.fragment),r=ne(),i=O("div"),Ct(o.$$.fragment),A=ne(),v&&v.c(),p=ne(),B&&B.c(),u=ne(),Q&&Q.c(),g=xt(),d(i,"class","h svelte-1n1d6qa")},m(b,U){m&&m.m(b,U),te(b,t,U),It(e,b,U),te(b,r,U),te(b,i,U),It(o,i,null),te(b,A,U),v&&v.m(b,U),te(b,p,U),B&&B.m(b,U),te(b,u,U),Q&&Q.m(b,U),te(b,g,U),h=!0},p(b,U){var z,Z,ae,me;b[7]?m?(m.p(b,U),U[0]&128&&Be(m,1)):(m=Va(b),m.c(),Be(m,1),m.m(t.parentNode,t)):m&&(gn(),Fe(m,1,1,()=>{m=null}),dn());const L={};U[0]&262146&&(L.h=((z=b[1])==null?void 0:z.h)??b[18].h),U[0]&262146&&(L.s=((Z=b[1])==null?void 0:Z.s)??b[18].s),U[0]&262146&&(L.v=((ae=b[1])==null?void 0:ae.v)??b[18].v),U[0]&8&&(L.isDark=b[3]),e.$set(L);const Y={};U[0]&262146&&(Y.value=((me=b[1])==null?void 0:me.h)??b[18].h),U[0]&4096&&(Y.direction=b[12]),U[0]&4096&&(Y.reverse=b[12]==="vertical"),o.$set(Y),b[8]?v?(v.p(b,U),U[0]&256&&Be(v,1)):(v=Ja(b),v.c(),Be(v,1),v.m(p.parentNode,p)):v&&(gn(),Fe(v,1,1,()=>{v=null}),dn()),b[10]?B?(B.p(b,U),U[0]&1024&&Be(B,1)):(B=ja(b),B.c(),Be(B,1),B.m(u.parentNode,u)):B&&(gn(),Fe(B,1,1,()=>{B=null}),dn()),l&&Q.p(b,U)},i(b){h||(Be(m),Be(e.$$.fragment,b),Be(o.$$.fragment,b),Be(v),Be(B),Be(Q),h=!0)},o(b){Fe(m),Fe(e.$$.fragment,b),Fe(o.$$.fragment,b),Fe(v),Fe(B),Fe(Q),h=!1},d(b){b&&(ee(t),ee(r),ee(i),ee(A),ee(p),ee(u),ee(g)),m&&m.d(b),vt(e,b),vt(o),v&&v.d(b),B&&B.d(b),Q&&Q.d(b)}}}function Qc(n){let t,e,r,i,o,A,p,u,l,g;const h=[bc,Ec],m=[];function v(I,T){return I[9]?0:I[6]?1:-1}~(e=v(n))&&(r=m[e]=h[e](n));function B(I){n[36](I)}var Q=n[23]().wrapper;function D(I,T){let w={isOpen:I[4],isDialog:I[9],$$slots:{default:[wc]},$$scope:{ctx:I}};return I[22]!==void 0&&(w.wrapper=I[22]),{props:w}}return Q&&(o=Mn(Q,D(n)),Ft.push(()=>kn(o,"wrapper",B))),{c(){t=O("span"),r&&r.c(),i=ne(),o&&Ct(o.$$.fragment),d(t,"class",p="color-picker "+n[12]+" svelte-1n1d6qa")},m(I,T){te(I,t,T),~e&&m[e].m(t,null),S(t,i),o&&It(o,t,null),n[37](t),u=!0,l||(g=[le(window,"mousedown",n[25]),le(window,"keyup",n[26])],l=!0)},p(I,T){let w=e;if(e=v(I),e===w?~e&&m[e].p(I,T):(r&&(gn(),Fe(m[w],1,1,()=>{m[w]=null}),dn()),~e?(r=m[e],r?r.p(I,T):(r=m[e]=h[e](I),r.c()),Be(r,1),r.m(t,i)):r=null),Q!==(Q=I[23]().wrapper)){if(o){gn();const b=o;Fe(b.$$.fragment,1,0,()=>{vt(b,1)}),dn()}Q?(o=Mn(Q,D(I)),Ft.push(()=>kn(o,"wrapper",B)),Ct(o.$$.fragment),Be(o.$$.fragment,1),It(o,t,null)):o=null}else if(Q){const b={};T[0]&16&&(b.isOpen=I[4]),T[0]&512&&(b.isDialog=I[9]),T[0]&1047951|T[1]&4096&&(b.$$scope={dirty:T,ctx:I}),!A&&T[0]&4194304&&(A=!0,b.wrapper=I[22],er(()=>A=!1)),o.$set(b)}(!u||T[0]&4096&&p!==(p="color-picker "+I[12]+" svelte-1n1d6qa"))&&d(t,"class",p)},i(I){u||(Be(r),o&&Be(o.$$.fragment,I),u=!0)},o(I){Fe(r),o&&Fe(o.$$.fragment,I),u=!1},d(I){I&&ee(t),~e&&m[e].d(),o&&vt(o),n[37](null),l=!1,An(g)}}}function kc(n,t,e){const r=Is();let{components:i={}}=t,{label:o="Choose a color"}=t,{name:A=void 0}=t,{nullable:p=!1}=t,{rgb:u=p?void 0:{r:255,g:0,b:0,a:1}}=t,{hsv:l=p?void 0:{h:0,s:100,v:100,a:1}}=t,{hex:g=p?void 0:"#ff0000"}=t,{color:h=void 0}=t,{isDark:m=!1}=t,{isAlpha:v=!0}=t,{isDialog:B=!0}=t,{isOpen:Q=!B}=t,{isTextInput:D=!0}=t,{textInputModes:I=["hex","rgb","hsv"]}=t,{sliderDirection:T="vertical"}=t,{disableCloseClickOutside:w=!1}=t,{a11yColors:b=[{bgHex:"#ffffff"}]}=t,{a11yLevel:U="AA"}=t,{texts:L=void 0}=t,{a11yTexts:Y=void 0}=t,z={r:255,g:0,b:0,a:1},Z={h:0,s:100,v:100,a:1},ae="#ff0000",me=!1,ge=me,Ee,pe,W,Ne;const Ve={pickerIndicator:ic,textInput:fc,input:dc,nullabilityCheckbox:yc,wrapper:pc};function we(){return{...Ve,...i}}function Ke(){return{label:{...Ws.label,...L==null?void 0:L.label},color:{...Ws.color,...L==null?void 0:L.color},changeTo:(L==null?void 0:L.changeTo)??Ws.changeTo}}function $({target:X}){B&&(pe.contains(X)||pe.isSameNode(X)?e(4,Q=!Q):Q&&!W.contains(X)&&!w&&e(4,Q=!1))}function be({key:X,target:ut}){if(B)X==="Enter"&&pe.contains(ut)?(e(4,Q=!Q),setTimeout(()=>{Ne=Ic(W)})):X==="Escape"&&Q&&(e(4,Q=!1),Ee.contains(ut)&&(pe==null||pe.focus(),Ne==null||Ne.destroy()));else return}function Se(){if(me&&!ge){ge=!0,e(1,l=e(0,u=e(2,g=void 0))),r("input",{color:h,hsv:l,rgb:u,hex:g});return}else if(ge&&!me){ge=!1,e(1,l=Z),e(0,u=z),e(2,g=ae),r("input",{color:h,hsv:l,rgb:u,hex:g});return}if(!l&&!u&&!g){e(16,me=!0),ge=!0,r("input",{color:void 0,hsv:l,rgb:u,hex:g});return}l&&u&&l.h===Z.h&&l.s===Z.s&&l.v===Z.v&&l.a===Z.a&&u.r===z.r&&u.g===z.g&&u.b===z.b&&u.a===z.a&&g===ae||(e(16,me=!1),l&&l.a===void 0&&e(1,l.a=1,l),Z.a===void 0&&e(18,Z.a=1,Z),u&&u.a===void 0&&e(0,u.a=1,u),z.a===void 0&&e(17,z.a=1,z),(g==null?void 0:g.substring(7))==="ff"&&e(2,g=g.substring(0,7)),(g==null?void 0:g.substring(7))==="ff"&&e(2,g=g.substring(0,7)),l&&(l.h!==Z.h||l.s!==Z.s||l.v!==Z.v||l.a!==Z.a)?(e(29,h=wn(l)),e(0,u=h.toRgb()),e(2,g=h.toHex())):u&&(u.r!==z.r||u.g!==z.g||u.b!==z.b||u.a!==z.a)?(e(29,h=wn(u)),e(2,g=h.toHex()),e(1,l=h.toHsv())):g&&g!==ae&&(e(29,h=wn(g)),e(0,u=h.toRgb()),e(1,l=h.toHsv())),h&&e(3,m=h.isDark()),g&&(e(18,Z=Object.assign({},l)),e(17,z=Object.assign({},u)),e(19,ae=g),ge=me,r("input",{color:h,hsv:l,rgb:u,hex:g})))}function We(X){return ut=>{l||e(1,l={...Z}),e(1,l[X]=ut.detail,l)}}function Ue(X){return ut=>{l||e(1,l={...Z}),X.forEach(Mt=>{l&&e(1,l[Mt]=ut.detail[Mt],l)})}}function dt(X){pe=X,e(21,pe)}function Ze(X){me=X,e(16,me)}const jt=({detail:X})=>{X.hsv?e(1,l=X.hsv):X.rgb?e(0,u=X.rgb):X.hex&&e(2,g=X.hex)};function ft(X){W=X,e(22,W)}function Ie(X){Ft[X?"unshift":"push"](()=>{Ee=X,e(20,Ee)})}return n.$$set=X=>{"components"in X&&e(30,i=X.components),"label"in X&&e(5,o=X.label),"name"in X&&e(6,A=X.name),"nullable"in X&&e(7,p=X.nullable),"rgb"in X&&e(0,u=X.rgb),"hsv"in X&&e(1,l=X.hsv),"hex"in X&&e(2,g=X.hex),"color"in X&&e(29,h=X.color),"isDark"in X&&e(3,m=X.isDark),"isAlpha"in X&&e(8,v=X.isAlpha),"isDialog"in X&&e(9,B=X.isDialog),"isOpen"in X&&e(4,Q=X.isOpen),"isTextInput"in X&&e(10,D=X.isTextInput),"textInputModes"in X&&e(11,I=X.textInputModes),"sliderDirection"in X&&e(12,T=X.sliderDirection),"disableCloseClickOutside"in X&&e(31,w=X.disableCloseClickOutside),"a11yColors"in X&&e(13,b=X.a11yColors),"a11yLevel"in X&&e(14,U=X.a11yLevel),"texts"in X&&e(32,L=X.texts),"a11yTexts"in X&&e(15,Y=X.a11yTexts)},n.$$.update=()=>{n.$$.dirty[0]&7&&(l||u||g)&&Se(),n.$$.dirty[0]&65536&&Se()},[u,l,g,m,Q,o,A,p,v,B,D,I,T,b,U,Y,me,z,Z,ae,Ee,pe,W,we,Ke,$,be,We,Ue,h,i,w,L,dt,Ze,jt,ft,Ie]}class us extends Ln{constructor(t){super(),Pn(this,t,kc,Qc,Sn,{components:30,label:5,name:6,nullable:7,rgb:0,hsv:1,hex:2,color:29,isDark:3,isAlpha:8,isDialog:9,isOpen:4,isTextInput:10,textInputModes:11,sliderDirection:12,disableCloseClickOutside:31,a11yColors:13,a11yLevel:14,texts:32,a11yTexts:15},null,[-1,-1])}}const Sc="/escherization/assets/p4m-BGTNDhtw.png",Dc="/escherization/assets/p1-C2sy5zxe.png",Tc="/escherization/assets/p2-Cme2Az2_.png",Fc="/escherization/assets/p3-CiPtAfIQ.png",Nc="/escherization/assets/p6-CMcHCcnG.png",Rc="/escherization/assets/p6m-fGbyLxQe.png",Mc="/escherization/assets/p4-2CEXdwG5.png";function Xa(n,t,e){const r=n.slice();return r[34]=t[e],r[105]=e,r}function Wa(n,t,e){const r=n.slice();return r[106]=t[e],r[105]=e,r}function qa(n,t,e){const r=n.slice();return r[106]=t[e],r[105]=e,r}function za(n,t,e){const r=n.slice();return r[109]=t[e],r[105]=e,r}function Ka(n,t,e){const r=n.slice();return r[111]=t[e],r[105]=e,r}function Za(n,t,e){const r=n.slice();return r[113]=t[e],r[105]=e,r}function $a(n,t,e){const r=n.slice();return r[115]=t[e],r[105]=e,r}function eo(n,t,e){const r=n.slice();return r[117]=t[e],r}function to(n,t,e){const r=n.slice();return r[109]=t[e],r[105]=e,r}function Pc(n){let t,e,r=n[121].message+"",i,o;return{c(){t=yt("text"),e=Gt("Error: "),i=Gt(r),o=Gt("."),d(t,"x","250"),d(t,"y","250"),d(t,"text-anchor","middle"),d(t,"class","svgText svelte-1eahhfj")},m(A,p){te(A,t,p),S(t,e),S(t,i),S(t,o)},p(A,p){p[1]&4&&r!==(r=A[121].message+"")&&jn(i,r)},d(A){A&&ee(t)}}}function Lc(n){let t,e=n[2]&&no(n);return{c(){e&&e.c(),t=xt()},m(r,i){e&&e.m(r,i),te(r,t,i)},p(r,i){r[2]?e?e.p(r,i):(e=no(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(r){r&&ee(t),e&&e.d(r)}}}function no(n){let t,e,r,i,o,A,p=Ut(n[0]),u=[];for(let I=0;I<p.length;I+=1)u[I]=ro(to(n,p,I));let l=Ut(n[6]),g=[];for(let I=0;I<l.length;I+=1)g[I]=so(eo(n,l,I));let h=n[14]&&ao(n),m=Ut(n[5]),v=[];for(let I=0;I<m.length;I+=1)v[I]=co(Ka(n,m,I));let B=Ut(n[0]),Q=[];for(let I=0;I<B.length;I+=1)Q[I]=fo(za(n,B,I));let D=n[18]&&uo(n);return{c(){t=yt("defs");for(let I=0;I<u.length;I+=1)u[I].c();for(let I=0;I<g.length;I+=1)g[I].c();e=xt(),h&&h.c(),r=xt();for(let I=0;I<v.length;I+=1)v[I].c();i=xt();for(let I=0;I<Q.length;I+=1)Q[I].c();o=xt(),D&&D.c(),A=xt()},m(I,T){te(I,t,T);for(let w=0;w<u.length;w+=1)u[w]&&u[w].m(t,null);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(I,T);te(I,e,T),h&&h.m(I,T),te(I,r,T);for(let w=0;w<v.length;w+=1)v[w]&&v[w].m(I,T);te(I,i,T);for(let w=0;w<Q.length;w+=1)Q[w]&&Q[w].m(I,T);te(I,o,T),D&&D.m(I,T),te(I,A,T)},p(I,T){if(T[0]&538969089|T[1]&65536){p=Ut(I[0]);let w;for(w=0;w<p.length;w+=1){const b=to(I,p,w);u[w]?u[w].p(b,T):(u[w]=ro(b),u[w].c(),u[w].m(t,null))}for(;w<u.length;w+=1)u[w].d(1);u.length=p.length}if(T[0]&469958720|T[1]&768){l=Ut(I[6]);let w;for(w=0;w<l.length;w+=1){const b=eo(I,l,w);g[w]?g[w].p(b,T):(g[w]=so(b),g[w].c(),g[w].m(e.parentNode,e))}for(;w<g.length;w+=1)g[w].d(1);g.length=l.length}if(I[14]?h?h.p(I,T):(h=ao(I),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null),T[0]&16785440){m=Ut(I[5]);let w;for(w=0;w<m.length;w+=1){const b=Ka(I,m,w);v[w]?v[w].p(b,T):(v[w]=co(b),v[w].c(),v[w].m(i.parentNode,i))}for(;w<v.length;w+=1)v[w].d(1);v.length=m.length}if(T[0]&32769){B=Ut(I[0]);let w;for(w=0;w<B.length;w+=1){const b=za(I,B,w);Q[w]?Q[w].p(b,T):(Q[w]=fo(b),Q[w].c(),Q[w].m(o.parentNode,o))}for(;w<Q.length;w+=1)Q[w].d(1);Q.length=B.length}I[18]?D?D.p(I,T):(D=uo(I),D.c(),D.m(A.parentNode,A)):D&&(D.d(1),D=null)},d(I){I&&(ee(t),ee(e),ee(r),ee(i),ee(o),ee(A)),Nn(u,I),Nn(g,I),h&&h.d(I),Nn(v,I),Nn(Q,I),D&&D.d(I)}}}function ro(n){let t,e,r,i,o,A,p,u,l;return{c(){var g;t=yt("pattern"),e=yt("image"),d(e,"href",r=(g=n[10])==null?void 0:g.src),d(e,"x",0),d(e,"y",0),d(e,"width",i=n[21][2]-n[21][0]),d(e,"height",o=n[21][3]-n[21][1]),d(t,"id",A="pattern_"+n[109].tileIdx),d(t,"patternContentUnits","userSpaceOnUse"),d(t,"patternUnits","userSpaceOnUse"),d(t,"patternTransform",p=ms(n[47](n[109].M,n[109].origin,n[29],!0))),d(t,"width",u=n[21][2]-n[21][0]),d(t,"height",l=n[21][3]-n[21][1])},m(g,h){te(g,t,h),S(t,e)},p(g,h){var m;h[0]&1024&&r!==(r=(m=g[10])==null?void 0:m.src)&&d(e,"href",r),h[0]&2097152&&i!==(i=g[21][2]-g[21][0])&&d(e,"width",i),h[0]&2097152&&o!==(o=g[21][3]-g[21][1])&&d(e,"height",o),h[0]&1&&A!==(A="pattern_"+g[109].tileIdx)&&d(t,"id",A),h[0]&536870913&&p!==(p=ms(g[47](g[109].M,g[109].origin,g[29],!0)))&&d(t,"patternTransform",p),h[0]&2097152&&u!==(u=g[21][2]-g[21][0])&&d(t,"width",u),h[0]&2097152&&l!==(l=g[21][3]-g[21][1])&&d(t,"height",l)},d(g){g&&ee(t)}}}function io(n){let t;function e(o,A){return o[17]?xc:Uc}let r=e(n),i=r(n);return{c(){i.c(),t=xt()},m(o,A){i.m(o,A),te(o,t,A)},p(o,A){r===(r=e(o))&&i?i.p(o,A):(i.d(1),i=r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&ee(t),i.d(o)}}}function Uc(n){let t,e,r,i;return{c(){t=yt("path"),d(t,"id",e="cell "+n[117].sourceIndex),d(t,"d",r=n[40](n[117])),d(t,"stroke","black"),d(t,"stroke-width","0"),d(t,"fill",i=n[117].color==0?n[26]:n[117].color==1?n[27]:n[28])},m(o,A){te(o,t,A)},p(o,A){A[0]&64&&e!==(e="cell "+o[117].sourceIndex)&&d(t,"id",e),A[0]&64&&r!==(r=o[40](o[117]))&&d(t,"d",r),A[0]&469762112&&i!==(i=o[117].color==0?o[26]:o[117].color==1?o[27]:o[28])&&d(t,"fill",i)},d(o){o&&ee(t)}}}function xc(n){let t,e,r,i;return{c(){t=yt("path"),d(t,"id",e="cell "+n[117].sourceIndex),d(t,"d",r=n[40](n[117])),d(t,"stroke","black"),d(t,"stroke-width","0"),d(t,"fill",i=vo(n[117]))},m(o,A){te(o,t,A)},p(o,A){A[0]&64&&e!==(e="cell "+o[117].sourceIndex)&&d(t,"id",e),A[0]&64&&r!==(r=o[40](o[117]))&&d(t,"d",r),A[0]&64&&i!==(i=vo(o[117]))&&d(t,"fill",i)},d(o){o&&ee(t)}}}function so(n){let t=n[16]&&n[39](n[117]),e,r=t&&io(n);return{c(){r&&r.c(),e=xt()},m(i,o){r&&r.m(i,o),te(i,e,o)},p(i,o){o[0]&65600&&(t=i[16]&&i[39](i[117])),t?r?r.p(i,o):(r=io(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(i){i&&ee(e),r&&r.d(i)}}}function ao(n){let t,e,r=Ut(n[3]),i=[];for(let p=0;p<r.length;p+=1)i[p]=oo($a(n,r,p));let o=Ut(n[4]),A=[];for(let p=0;p<o.length;p+=1)A[p]=lo(Za(n,o,p));return{c(){for(let p=0;p<i.length;p+=1)i[p].c();t=xt();for(let p=0;p<A.length;p+=1)A[p].c();e=xt()},m(p,u){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(p,u);te(p,t,u);for(let l=0;l<A.length;l+=1)A[l]&&A[l].m(p,u);te(p,e,u)},p(p,u){if(u[0]&33554440){r=Ut(p[3]);let l;for(l=0;l<r.length;l+=1){const g=$a(p,r,l);i[l]?i[l].p(g,u):(i[l]=oo(g),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}if(u[0]&33554456){o=Ut(p[4]);let l;for(l=0;l<o.length;l+=1){const g=Za(p,o,l);A[l]?A[l].p(g,u):(A[l]=lo(g),A[l].c(),A[l].m(e.parentNode,e))}for(;l<A.length;l+=1)A[l].d(1);A.length=o.length}},d(p){p&&(ee(t),ee(e)),Nn(i,p),Nn(A,p)}}}function oo(n){let t,e,r;return{c(){t=yt("circle"),d(t,"id","point "+n[105]),d(t,"cx",e=n[115].x),d(t,"cy",r=n[115].y),d(t,"r","2"),d(t,"fill",n[25])},m(i,o){te(i,t,o)},p(i,o){o[0]&8&&e!==(e=i[115].x)&&d(t,"cx",e),o[0]&8&&r!==(r=i[115].y)&&d(t,"cy",r),o[0]&33554432&&d(t,"fill",i[25])},d(i){i&&ee(t)}}}function lo(n){let t,e,r,i,o,A,p,u,l,g,h;return{c(){t=yt("path"),i=yt("circle"),u=yt("circle"),d(t,"id",e="segment "+(n[105]+n[3].length)),d(t,"d",r="M "+n[113].x1+" "+n[113].y1+" L "+n[113].x2+" "+n[113].y2),d(t,"stroke",n[25]),d(t,"stroke-width","0.66"),d(t,"fill","none"),d(i,"id",o="segment "+(n[105]+n[3].length)),d(i,"cx",A=n[113].x1),d(i,"cy",p=n[113].y1),d(i,"r","1"),d(i,"fill",n[25]),d(u,"id",l="segment "+(n[105]+n[3].length)),d(u,"cx",g=n[113].x2),d(u,"cy",h=n[113].y2),d(u,"r","1"),d(u,"fill",n[25])},m(m,v){te(m,t,v),te(m,i,v),te(m,u,v)},p(m,v){v[0]&8&&e!==(e="segment "+(m[105]+m[3].length))&&d(t,"id",e),v[0]&16&&r!==(r="M "+m[113].x1+" "+m[113].y1+" L "+m[113].x2+" "+m[113].y2)&&d(t,"d",r),v[0]&33554432&&d(t,"stroke",m[25]),v[0]&8&&o!==(o="segment "+(m[105]+m[3].length))&&d(i,"id",o),v[0]&16&&A!==(A=m[113].x1)&&d(i,"cx",A),v[0]&16&&p!==(p=m[113].y1)&&d(i,"cy",p),v[0]&33554432&&d(i,"fill",m[25]),v[0]&8&&l!==(l="segment "+(m[105]+m[3].length))&&d(u,"id",l),v[0]&16&&g!==(g=m[113].x2)&&d(u,"cx",g),v[0]&16&&h!==(h=m[113].y2)&&d(u,"cy",h),v[0]&33554432&&d(u,"fill",m[25])},d(m){m&&(ee(t),ee(i),ee(u))}}}function Yc(n){let t,e;return{c(){t=yt("path"),d(t,"id","edge_"+n[105]),d(t,"d",e="M "+n[111].va.x+" "+n[111].va.y+" L "+n[111].vb.x+" "+n[111].vb.y),d(t,"stroke","red"),d(t,"stroke-width","0.66"),d(t,"fill","none")},m(r,i){te(r,t,i)},p(r,i){i[0]&32&&e!==(e="M "+r[111].va.x+" "+r[111].va.y+" L "+r[111].vb.x+" "+r[111].vb.y)&&d(t,"d",e)},d(r){r&&ee(t)}}}function Oc(n){let t;function e(o,A){if(o[111].isCurved&&o[111].controlPoints.length==3)return Hc;if(o[111].isPrimary)return Gc}let r=e(n),i=r&&r(n);return{c(){i&&i.c(),t=xt()},m(o,A){i&&i.m(o,A),te(o,t,A)},p(o,A){r===(r=e(o))&&i?i.p(o,A):(i&&i.d(1),i=r&&r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&ee(t),i&&i.d(o)}}}function Gc(n){let t,e;return{c(){t=yt("path"),d(t,"id","edge_"+n[105]),d(t,"d",e="M "+n[111].va.x+" "+n[111].va.y+" L "+n[111].vb.x+" "+n[111].vb.y),d(t,"stroke",n[24]),d(t,"stroke-width","0.66"),d(t,"fill","none")},m(r,i){te(r,t,i)},p(r,i){i[0]&32&&e!==(e="M "+r[111].va.x+" "+r[111].va.y+" L "+r[111].vb.x+" "+r[111].vb.y)&&d(t,"d",e),i[0]&16777216&&d(t,"stroke",r[24])},d(r){r&&ee(t)}}}function Hc(n){let t,e;return{c(){t=yt("path"),d(t,"id","edge_"+n[105]),d(t,"d",e="M "+n[111].controlPoints[0].x+" "+n[111].controlPoints[0].y+" Q "+n[111].controlPoints[1].x+" "+n[111].controlPoints[1].y+" "+n[111].controlPoints[2].x+" "+n[111].controlPoints[2].y),d(t,"stroke",n[24]),d(t,"stroke-width","0.66"),d(t,"fill","none")},m(r,i){te(r,t,i)},p(r,i){i[0]&32&&e!==(e="M "+r[111].controlPoints[0].x+" "+r[111].controlPoints[0].y+" Q "+r[111].controlPoints[1].x+" "+r[111].controlPoints[1].y+" "+r[111].controlPoints[2].x+" "+r[111].controlPoints[2].y)&&d(t,"d",e),i[0]&16777216&&d(t,"stroke",r[24])},d(r){r&&ee(t)}}}function co(n){let t;function e(o,A){if(o[111].isValid&&!o[111].isWithinCell&&o[13])return Oc;if(!o[111].isValid)return Yc}let r=e(n),i=r&&r(n);return{c(){i&&i.c(),t=xt()},m(o,A){i&&i.m(o,A),te(o,t,A)},p(o,A){r===(r=e(o))&&i?i.p(o,A):(i&&i.d(1),i=r&&r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&ee(t),i&&i.d(o)}}}function Ao(n){let t,e,r;return{c(){t=yt("circle"),d(t,"id","origin "+n[105]),d(t,"cx",e=n[109].origin.x),d(t,"cy",r=n[109].origin.y),d(t,"r","2"),d(t,"fill","pink")},m(i,o){te(i,t,o)},p(i,o){o[0]&1&&e!==(e=i[109].origin.x)&&d(t,"cx",e),o[0]&1&&r!==(r=i[109].origin.y)&&d(t,"cy",r)},d(i){i&&ee(t)}}}function fo(n){let t,e=n[15]&&Ao(n);return{c(){e&&e.c(),t=xt()},m(r,i){e&&e.m(r,i),te(r,t,i)},p(r,i){r[15]?e?e.p(r,i):(e=Ao(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(r){r&&ee(t),e&&e.d(r)}}}function uo(n){let t,e,r,i,o,A,p=Ut(n[1]),u=[];for(let h=0;h<p.length;h+=1)u[h]=go(qa(n,p,h));let l=Ut(n[19]),g=[];for(let h=0;h<l.length;h+=1)g[h]=_o(Wa(n,l,h));return{c(){for(let h=0;h<u.length;h+=1)u[h].c();t=xt();for(let h=0;h<g.length;h+=1)g[h].c();e=yt("rect"),d(e,"x",r=n[22].xl),d(e,"y",i=n[22].yl),d(e,"width",o=n[22].xh-n[22].xl),d(e,"height",A=n[22].yh-n[22].yl),d(e,"stroke","green"),Jt(e,"fill","none")},m(h,m){for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(h,m);te(h,t,m);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(h,m);te(h,e,m)},p(h,m){if(m[0]&2){p=Ut(h[1]);let v;for(v=0;v<p.length;v+=1){const B=qa(h,p,v);u[v]?u[v].p(B,m):(u[v]=go(B),u[v].c(),u[v].m(t.parentNode,t))}for(;v<u.length;v+=1)u[v].d(1);u.length=p.length}if(m[0]&1572864|m[1]&65536){l=Ut(h[19]);let v;for(v=0;v<l.length;v+=1){const B=Wa(h,l,v);g[v]?g[v].p(B,m):(g[v]=_o(B),g[v].c(),g[v].m(e.parentNode,e))}for(;v<g.length;v+=1)g[v].d(1);g.length=l.length}m[0]&4194304&&r!==(r=h[22].xl)&&d(e,"x",r),m[0]&4194304&&i!==(i=h[22].yl)&&d(e,"y",i),m[0]&4194304&&o!==(o=h[22].xh-h[22].xl)&&d(e,"width",o),m[0]&4194304&&A!==(A=h[22].yh-h[22].yl)&&d(e,"height",A)},d(h){h&&(ee(t),ee(e)),Nn(u,h),Nn(g,h)}}}function go(n){let t,e;return{c(){t=yt("path"),d(t,"id","outline_"+n[105]),d(t,"d",e="M "+n[106].startPoint.x+" "+n[106].startPoint.y+" L "+n[106].endPoint.x+" "+n[106].endPoint.y),d(t,"stroke","yellow"),d(t,"stroke-width","0.66"),d(t,"fill","none")},m(r,i){te(r,t,i)},p(r,i){i[0]&2&&e!==(e="M "+r[106].startPoint.x+" "+r[106].startPoint.y+" L "+r[106].endPoint.x+" "+r[106].endPoint.y)&&d(t,"d",e)},d(r){r&&ee(t)}}}function _o(n){let t,e,r,i;return{c(){t=yt("g"),e=yt("path"),d(e,"id","outlineMorphed_"+n[105]),d(e,"d",r="M "+n[106].x1+" "+n[106].y1+" L "+n[106].x2+" "+n[106].y2),d(e,"stroke","#c300ff"),d(e,"stroke-width","2"),d(e,"fill","none"),d(t,"transform",i=ms(n[47](n[20].M,n[20].origin,!1,!0)))},m(o,A){te(o,t,A),S(t,e)},p(o,A){A[0]&524288&&r!==(r="M "+o[106].x1+" "+o[106].y1+" L "+o[106].x2+" "+o[106].y2)&&d(e,"d",r),A[0]&1048576&&i!==(i=ms(o[47](o[20].M,o[20].origin,!1,!0)))&&d(t,"transform",i)},d(o){o&&ee(t)}}}function Vc(n){let t,e;return{c(){t=yt("text"),e=Gt("Loading..."),d(t,"x","250"),d(t,"y","220"),d(t,"text-anchor","middle"),d(t,"class","svgText svelte-1eahhfj")},m(r,i){te(r,t,i),S(t,e)},p:Dt,d(r){r&&ee(t)}}}function ho(n){let t,e,r=n[36][n[23]].parameterNames[n[105]].name+"",i,o,A,p,u,l;function g(...h){return n[56](n[105],...h)}return p=new dr({props:{id:n[105],min:n[36][n[23]].parameterNames[n[105]].min*100,max:n[36][n[23]].parameterNames[n[105]].max*100,stepSize:n[36][n[23]].parameterNames[n[105]].stepSize,initialValue:n[36][n[23]].parameterNames[n[105]].initialValue??n[34],decimalPlaces:2}}),p.$on("change",g),{c(){t=O("div"),e=O("p"),i=Gt(r),o=ne(),A=O("div"),Ct(p.$$.fragment),u=ne(),d(e,"class","basis-1/3"),d(A,"class","min-w-72"),d(t,"class","tilingParam flex flex-row gap-4")},m(h,m){te(h,t,m),S(t,e),S(e,i),S(t,o),S(t,A),It(p,A,null),S(t,u),l=!0},p(h,m){n=h,(!l||m[0]&8388608)&&r!==(r=n[36][n[23]].parameterNames[n[105]].name+"")&&jn(i,r);const v={};m[0]&8388608&&(v.min=n[36][n[23]].parameterNames[n[105]].min*100),m[0]&8388608&&(v.max=n[36][n[23]].parameterNames[n[105]].max*100),m[0]&8388608&&(v.stepSize=n[36][n[23]].parameterNames[n[105]].stepSize),m[0]&8392704&&(v.initialValue=n[36][n[23]].parameterNames[n[105]].initialValue??n[34]),p.$set(v)},i(h){l||(Be(p.$$.fragment,h),l=!0)},o(h){Fe(p.$$.fragment,h),l=!1},d(h){h&&ee(t),vt(p)}}}function po(n){let t,e,r=n[36][n[23]].parameterNames[n[105]]&&ho(n);return{c(){r&&r.c(),t=xt()},m(i,o){r&&r.m(i,o),te(i,t,o),e=!0},p(i,o){i[36][i[23]].parameterNames[i[105]]?r?(r.p(i,o),o[0]&8388608&&Be(r,1)):(r=ho(i),r.c(),Be(r,1),r.m(t.parentNode,t)):r&&(gn(),Fe(r,1,1,()=>{r=null}),dn())},i(i){e||(Be(r),e=!0)},o(i){Fe(r),e=!1},d(i){i&&ee(t),r&&r.d(i)}}}function mo(n){let t,e,r,i,o,A,p,u,l,g,h,m,v,B,Q,D,I,T,w,b,U,L,Y,z,Z,ae,me,ge,Ee,pe,W,Ne,Ve;return A=new dr({props:{min:0,max:100,stepSize:.01,initialValue:n[32],decimalPlaces:2}}),A.$on("change",n[58]),B=new dr({props:{min:0,max:100,stepSize:.01,initialValue:n[34],decimalPlaces:2}}),B.$on("change",n[59]),L=new dr({props:{min:1,max:300,stepSize:.01,initialValue:n[30],decimalPlaces:2}}),L.$on("change",n[60]),pe=new dr({props:{min:50,max:200,stepSize:.01,initialValue:n[31],decimalPlaces:2}}),pe.$on("change",n[61]),{c(){t=O("div"),e=O("div"),r=O("p"),r.textContent="no morph",i=ne(),o=O("div"),Ct(A.$$.fragment),p=ne(),u=O("p"),u.textContent="full morph",l=ne(),g=O("div"),h=O("p"),h.textContent="all lines same",m=ne(),v=O("div"),Ct(B.$$.fragment),Q=ne(),D=O("p"),D.textContent="long lines stronger",I=ne(),T=O("div"),w=O("p"),w.textContent="precision",b=ne(),U=O("div"),Ct(L.$$.fragment),Y=ne(),z=O("p"),z.textContent="smoothness",Z=ne(),ae=O("div"),me=O("p"),me.textContent="all lines same",ge=ne(),Ee=O("div"),Ct(pe.$$.fragment),W=ne(),Ne=O("p"),Ne.textContent="close lines stronger",d(r,"class","pr-5 text-right basis-1/4 min-w-40"),d(o,"class","min-w-72 basis-1/2"),d(u,"class","pl-5 basis-1/4 min-w-40"),d(e,"class","flex flex-row"),d(h,"class","pr-5 text-right basis-1/4 min-w-40"),d(v,"class","min-w-72"),d(D,"class","pl-5 basis-1/4 min-w-40"),d(g,"class","flex flex-row"),d(w,"class","pr-5 text-right basis-1/4 min-w-40"),d(U,"class","min-w-72"),d(z,"class","pl-5 basis-1/4"),d(T,"class","flex flex-row"),d(me,"class","pr-5 text-right basis-1/4 min-w-40"),d(Ee,"class","min-w-72"),d(Ne,"class","pl-5 basis-1/4 min-w-40"),d(ae,"class","flex flex-row"),d(t,"class","flex flex-col")},m(we,Ke){te(we,t,Ke),S(t,e),S(e,r),S(e,i),S(e,o),It(A,o,null),S(e,p),S(e,u),S(t,l),S(t,g),S(g,h),S(g,m),S(g,v),It(B,v,null),S(g,Q),S(g,D),S(t,I),S(t,T),S(T,w),S(T,b),S(T,U),It(L,U,null),S(T,Y),S(T,z),S(t,Z),S(t,ae),S(ae,me),S(ae,ge),S(ae,Ee),It(pe,Ee,null),S(ae,W),S(ae,Ne),Ve=!0},p(we,Ke){const $={};Ke[1]&2&&($.initialValue=we[32]),A.$set($);const be={};Ke[1]&8&&(be.initialValue=we[34]),B.$set(be);const Se={};Ke[0]&1073741824&&(Se.initialValue=we[30]),L.$set(Se);const We={};Ke[1]&1&&(We.initialValue=we[31]),pe.$set(We)},i(we){Ve||(Be(A.$$.fragment,we),Be(B.$$.fragment,we),Be(L.$$.fragment,we),Be(pe.$$.fragment,we),Ve=!0)},o(we){Fe(A.$$.fragment,we),Fe(B.$$.fragment,we),Fe(L.$$.fragment,we),Fe(pe.$$.fragment,we),Ve=!1},d(we){we&&ee(t),vt(A),vt(B),vt(L),vt(pe)}}}function Jc(n){let t,e,r,i,o,A,p,u,l,g,h,m,v,B,Q,D,I,T,w,b,U,L,Y,z,Z,ae,me,ge,Ee,pe,W,Ne,Ve,we,Ke,$,be,Se,We,Ue,dt=n[36][n[23]].name+"",Ze,jt,ft,Ie,X,ut,Mt,Pt,Qe,De,Tt,Ye,bt,lt,gt,_t,Je,Re,$e,J,Me,et,x,re,R,H,se,oe,ie,he,fe,de,Pe,tt,nt,Xt,$t,an,Xn,Wn,Dn,Wt,rn,zt,qt,Lt,Kt,on,en,Ht,_n,ln,In,fn,ct,kt,Ae,Un,wt,M,ce,Ce,Ge,ve,st,ht,Oe,at,pt,St,ke,ye,ue={ctx:n,current:null,token:null,hasCatch:!0,pending:Vc,then:Lc,catch:Pc,error:121};ma(o=n[33],ue),L=new dr({props:{min:50,max:300,stepSize:1,initialValue:n[8]*100,decimalPlaces:0}}),L.$on("change",n[51]),ge=new dr({props:{min:0,max:360,stepSize:1,initialValue:n[9],decimalPlaces:0}}),ge.$on("change",n[52]),we=new dr({props:{min:50,max:250,stepSize:1,initialValue:n[7],decimalPlaces:0}}),we.$on("change",n[53]);let xe=Ut(n[12]),He=[];for(let Te=0;Te<xe.length;Te+=1)He[Te]=po(Xa(n,xe,Te));const tr=Te=>Fe(He[Te],1,1,()=>{He[Te]=null});let Et=n[29]&&mo(n);function kr(Te){n[68](Te)}let hr={label:"Border"};n[24]!==void 0&&(hr.hex=n[24]),ln=new us({props:hr}),Ft.push(()=>kn(ln,"hex",kr));function At(Te){n[69](Te)}let Tn={label:"Skelleton"};n[25]!==void 0&&(Tn.hex=n[25]),kt=new us({props:Tn}),Ft.push(()=>kn(kt,"hex",At));function un(Te){n[70](Te)}let pr={label:"Background 1"};n[26]!==void 0&&(pr.hex=n[26]),M=new us({props:pr}),Ft.push(()=>kn(M,"hex",un));function vn(Te){n[71](Te)}let hn={label:"Background 2"};n[27]!==void 0&&(hn.hex=n[27]),ve=new us({props:hn}),Ft.push(()=>kn(ve,"hex",vn));function qn(Te){n[72](Te)}let xn={label:"Background 3"};return n[28]!==void 0&&(xn.hex=n[28]),at=new us({props:xn}),Ft.push(()=>kn(at,"hex",qn)),{c(){t=O("div"),e=O("div"),r=yt("svg"),i=yt("rect"),ue.block.c(),A=ne(),p=O("button"),p.innerHTML=`<span class="material-symbols-outlined me-2">refresh</span>
      Update`,u=ne(),l=O("button"),l.innerHTML=`<span class="material-symbols-outlined me-2">download</span>
      Download SVG`,g=ne(),h=O("div"),m=O("p"),v=Gt(n[11]),B=ne(),Q=O("div"),D=O("p"),D.textContent="Tiling Settings",I=ne(),T=O("div"),w=O("p"),w.textContent="Tile Size [%]",b=ne(),U=O("div"),Ct(L.$$.fragment),Y=ne(),z=O("div"),Z=O("p"),Z.textContent="Tile Rotation [°]",ae=ne(),me=O("div"),Ct(ge.$$.fragment),Ee=ne(),pe=O("div"),W=O("p"),W.textContent="Tiling Size [%]",Ne=ne(),Ve=O("div"),Ct(we.$$.fragment),Ke=ne(),$=O("div"),be=O("button"),be.textContent="<",Se=ne(),We=O("div"),Ue=O("p"),Ze=Gt(dt),jt=ne(),ft=O("img"),X=ne(),ut=O("button"),ut.textContent=">",Mt=ne(),Pt=O("div");for(let Te=0;Te<He.length;Te+=1)He[Te].c();Qe=ne(),De=O("p"),De.textContent="Morph Settings",Tt=ne(),Ye=O("div"),bt=O("label"),lt=O("input"),gt=Gt(`\r
        Morph`),_t=ne(),Et&&Et.c(),Je=ne(),Re=O("p"),Re.textContent="Display Settings",$e=ne(),J=O("div"),Me=O("div"),et=O("label"),x=O("input"),re=Gt(`\r
          Border`),R=ne(),H=O("div"),se=O("label"),oe=O("input"),ie=Gt(`\r
          Skeleton`),he=ne(),fe=O("div"),de=O("label"),Pe=O("input"),tt=Gt(`\r
          Origins`),nt=ne(),Xt=O("div"),$t=O("label"),an=O("input"),Xn=Gt(`\r
          Background`),Wn=ne(),Dn=O("div"),Wt=O("label"),rn=O("input"),zt=Gt(`\r
          Background Image`),qt=ne(),Lt=O("div"),Kt=O("label"),on=O("input"),en=Gt(`\r
          Debug Morph Lines`),Ht=ne(),_n=O("div"),Ct(ln.$$.fragment),fn=ne(),ct=O("div"),Ct(kt.$$.fragment),Un=ne(),wt=O("div"),Ct(M.$$.fragment),Ce=ne(),Ge=O("div"),Ct(ve.$$.fragment),ht=ne(),Oe=O("div"),Ct(at.$$.fragment),d(i,"x",n[35].xl+100),d(i,"y",n[35].yl+100),d(i,"width",n[35].xh-200),d(i,"height",n[35].yh-200),d(i,"stroke","rgb(2 132 199)"),d(i,"stroke-width","0.66"),d(i,"fill","white"),d(r,"id","voronoiSvg"),d(r,"width",n[35].xh),d(r,"height",n[35].yh),d(r,"viewBox",n[35].xl+100+" "+(n[35].yl+100)+" "+(n[35].xh-200)+" "+(n[35].yh-200)),d(r,"xmlns","http://www.w3.org/2000/svg"),d(p,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(l,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(m,"class","text-red-700 text-sm break-words"),d(h,"class","lastErrorContainer max-w-96 max-h-24"),d(e,"class","flex-1 min-w-fit grid grid-cols-1 justify-items-center content-start gap-4 pl-10"),d(D,"class","text-xl font-sans text-center text-sky-400 p-2"),d(w,"class",""),d(U,"class","col-span-3 min-w-72"),d(T,"class","grid grid-cols-4"),d(Z,"class",""),d(me,"class","col-span-3 min-w-72"),d(z,"class","grid grid-cols-4"),d(W,"class",""),d(Ve,"class","col-span-3 min-w-72"),d(pe,"class","grid grid-cols-4"),d(be,"class","bg-sky-300 hover:bg-sky-500 text-black font-bold rounded h-10 w-10"),d(Ue,"class","text-center"),d(We,"class","bg-slate-100 flex items-center justify-center p-4 h-10 min-w-52"),d(ft,"class","max-w-20"),ha(ft.src,Ie=n[36][n[23]].image)||d(ft,"src",Ie),d(ft,"alt","Preview..."),d(ut,"class","bg-sky-300 hover:bg-sky-500 text-black font-bold rounded w-10 h-10"),d($,"class","tilingCtrl flex items-center gap-4"),d(Pt,"class","tilingParams"),d(De,"class","text-xl font-sans text-center text-sky-400 p-2"),d(lt,"type","checkbox"),d(bt,"class","p-4"),d(Ye,"class","bg-slate-100 flex items-center justify-center h-10 rounded"),d(Re,"class","text-xl font-sans text-center text-sky-400 p-2"),d(x,"type","checkbox"),d(et,"class","p-4"),d(Me,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(oe,"type","checkbox"),d(se,"class","p-4"),d(H,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(Pe,"type","checkbox"),d(de,"class","p-4"),d(fe,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(an,"type","checkbox"),d($t,"class","p-4"),d(Xt,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(rn,"type","checkbox"),d(Wt,"class","p-4"),d(Dn,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(on,"type","checkbox"),d(Kt,"class","p-4"),d(Lt,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(wt,"class","col-start-1"),d(J,"class","displaySettings grid grid-cols-3 gap-4 mr-4 ml-4"),d(Q,"class","flex-1 min-w-fit grid grid-cols-1 justify-items-center gap-2 content-start"),d(t,"class","flex flex-row flex-wrap flex-grow")},m(Te,qe){te(Te,t,qe),S(t,e),S(e,r),S(r,i),ue.block.m(r,ue.anchor=null),ue.mount=()=>r,ue.anchor=null,S(e,A),S(e,p),S(e,u),S(e,l),S(e,g),S(e,h),S(h,m),S(m,v),S(t,B),S(t,Q),S(Q,D),S(Q,I),S(Q,T),S(T,w),S(T,b),S(T,U),It(L,U,null),S(Q,Y),S(Q,z),S(z,Z),S(z,ae),S(z,me),It(ge,me,null),S(Q,Ee),S(Q,pe),S(pe,W),S(pe,Ne),S(pe,Ve),It(we,Ve,null),S(Q,Ke),S(Q,$),S($,be),S($,Se),S($,We),S(We,Ue),S(Ue,Ze),S($,jt),S($,ft),S($,X),S($,ut),S(Q,Mt),S(Q,Pt);for(let Cn=0;Cn<He.length;Cn+=1)He[Cn]&&He[Cn].m(Pt,null);S(Q,Qe),S(Q,De),S(Q,Tt),S(Q,Ye),S(Ye,bt),S(bt,lt),lt.checked=n[29],S(bt,gt),S(Q,_t),Et&&Et.m(Q,null),S(Q,Je),S(Q,Re),S(Q,$e),S(Q,J),S(J,Me),S(Me,et),S(et,x),x.checked=n[13],S(et,re),S(J,R),S(J,H),S(H,se),S(se,oe),oe.checked=n[14],S(se,ie),S(J,he),S(J,fe),S(fe,de),S(de,Pe),Pe.checked=n[15],S(de,tt),S(J,nt),S(J,Xt),S(Xt,$t),S($t,an),an.checked=n[16],S($t,Xn),S(J,Wn),S(J,Dn),S(Dn,Wt),S(Wt,rn),rn.checked=n[17],S(Wt,zt),S(J,qt),S(J,Lt),S(Lt,Kt),S(Kt,on),on.checked=n[18],S(Kt,en),S(J,Ht),S(J,_n),It(ln,_n,null),S(J,fn),S(J,ct),It(kt,ct,null),S(J,Un),S(J,wt),It(M,wt,null),S(J,Ce),S(J,Ge),It(ve,Ge,null),S(J,ht),S(J,Oe),It(at,Oe,null),St=!0,ke||(ye=[le(r,"click",n[38]),le(r,"mousemove",n[48]),le(p,"click",n[49]),le(l,"click",n[50]),le(be,"click",n[54]),le(ut,"click",n[55]),le(lt,"change",n[57]),le(x,"change",n[62]),le(oe,"change",n[63]),le(Pe,"change",n[64]),le(an,"change",n[65]),le(rn,"change",n[66]),le(on,"change",n[67])],ke=!0)},p(Te,qe){n=Te,ue.ctx=n,qe[1]&4&&o!==(o=n[33])&&ma(o,ue)||al(ue,n,qe),(!St||qe[0]&2048)&&jn(v,n[11]);const Cn={};qe[0]&256&&(Cn.initialValue=n[8]*100),L.$set(Cn);const mr={};qe[0]&512&&(mr.initialValue=n[9]),ge.$set(mr);const sn={};if(qe[0]&128&&(sn.initialValue=n[7]),we.$set(sn),(!St||qe[0]&8388608)&&dt!==(dt=n[36][n[23]].name+"")&&jn(Ze,dt),(!St||qe[0]&8388608&&!ha(ft.src,Ie=n[36][n[23]].image))&&d(ft,"src",Ie),qe[0]&8392704|qe[1]&4128){xe=Ut(n[12]);let Yt;for(Yt=0;Yt<xe.length;Yt+=1){const vr=Xa(n,xe,Yt);He[Yt]?(He[Yt].p(vr,qe),Be(He[Yt],1)):(He[Yt]=po(vr),He[Yt].c(),Be(He[Yt],1),He[Yt].m(Pt,null))}for(gn(),Yt=xe.length;Yt<He.length;Yt+=1)tr(Yt);dn()}qe[0]&536870912&&(lt.checked=n[29]),n[29]?Et?(Et.p(n,qe),qe[0]&536870912&&Be(Et,1)):(Et=mo(n),Et.c(),Be(Et,1),Et.m(Q,Je)):Et&&(gn(),Fe(Et,1,1,()=>{Et=null}),dn()),qe[0]&8192&&(x.checked=n[13]),qe[0]&16384&&(oe.checked=n[14]),qe[0]&32768&&(Pe.checked=n[15]),qe[0]&65536&&(an.checked=n[16]),qe[0]&131072&&(rn.checked=n[17]),qe[0]&262144&&(on.checked=n[18]);const pn={};!In&&qe[0]&16777216&&(In=!0,pn.hex=n[24],er(()=>In=!1)),ln.$set(pn);const nr={};!Ae&&qe[0]&33554432&&(Ae=!0,nr.hex=n[25],er(()=>Ae=!1)),kt.$set(nr);const rr={};!ce&&qe[0]&67108864&&(ce=!0,rr.hex=n[26],er(()=>ce=!1)),M.$set(rr);const Ir={};!st&&qe[0]&134217728&&(st=!0,Ir.hex=n[27],er(()=>st=!1)),ve.$set(Ir);const mn={};!pt&&qe[0]&268435456&&(pt=!0,mn.hex=n[28],er(()=>pt=!1)),at.$set(mn)},i(Te){if(!St){Be(L.$$.fragment,Te),Be(ge.$$.fragment,Te),Be(we.$$.fragment,Te);for(let qe=0;qe<xe.length;qe+=1)Be(He[qe]);Be(Et),Be(ln.$$.fragment,Te),Be(kt.$$.fragment,Te),Be(M.$$.fragment,Te),Be(ve.$$.fragment,Te),Be(at.$$.fragment,Te),St=!0}},o(Te){Fe(L.$$.fragment,Te),Fe(ge.$$.fragment,Te),Fe(we.$$.fragment,Te),He=He.filter(Boolean);for(let qe=0;qe<He.length;qe+=1)Fe(He[qe]);Fe(Et),Fe(ln.$$.fragment,Te),Fe(kt.$$.fragment,Te),Fe(M.$$.fragment,Te),Fe(ve.$$.fragment,Te),Fe(at.$$.fragment,Te),St=!1},d(Te){Te&&ee(t),ue.block.d(),ue.token=null,ue=null,vt(L),vt(ge),vt(we),Nn(He,Te),Et&&Et.d(),vt(ln),vt(kt),vt(M),vt(ve),vt(at),ke=!1,An(ye)}}}function Io(n){var t=document.createElement("canvas"),e=t.getContext("2d");t.width=n.width,t.height=n.height,e.putImageData(n,0,0);var r=new Image;return r.src=t.toDataURL(),r}function jc(){const n=document.getElementById("voronoiSvg");if(n!=null){const t=new Blob([n.outerHTML],{type:"image/svg+xml"}),e=document.createElement("a");e.href=URL.createObjectURL(t),e.download="voronoi.svg",e.click()}}function vo(n){return"url(#pattern_"+n.tileIdx+")"}function Xc(n,t,e){let r,i,o=new Ea(0,500,0,500),A=[],p=[],u=[],l=[],g=!1,h=[],m=[],v=300,B=300,Q=[],D=[],I=[],T=1,w=100,b=1,U=0,L=new ze(150,150),Y,z,Z,ae,me="",ge=[],Ee=!0,pe=!0,W=!1,Ne=!0,Ve=!0,we=!1,Ke=[],$,be=[],Se=new Ea(0,0,0,0);const ft=[{symGroup:"p1",IH:1,origin:"center",name:"Grid Shifted",image:Dc,tilingScaleFactor:.66,parameterNames:{0:{name:"Column Spacing",min:.01,max:.3,stepSize:.01,initialValue:.12239750492},1:{name:"Height Offset",min:0,max:.2,stepSize:.01,initialValue:.1}}},{symGroup:"p4m",IH:76,origin:"ul",name:"Grid",image:Sc,tilingScaleFactor:.5,parameterNames:{}},{symGroup:"p2",IH:4,origin:"ul",name:"2 Rotations",image:Tc,tilingScaleFactor:.66,parameterNames:{0:{name:"Spacing Column 1-2",min:.01,max:.6,stepSize:.01,initialValue:.2},1:{name:"Height Offset",min:.12,max:.25,stepSize:.01,initialValue:0}}},{symGroup:"p3",IH:7,origin:"center",name:"3 Rotations",image:Fc,tilingScaleFactor:.66,parameterNames:{0:{name:"Horizontal Spacing",min:.5,max:.8,stepSize:.01,initialValue:.6},1:{name:"Vertical Spacing",min:.1,max:.6,stepSize:.01,initialValue:.196416770201}}},{symGroup:"p4",IH:28,origin:"center",name:"4 Rotations",image:Mc,tilingScaleFactor:.5,parameterNames:{0:{name:"Horizontal Spacing",min:0,max:2,stepSize:.01,initialValue:.230769230769},1:{name:"Vertical Spacing",min:0,max:2,stepSize:.01,initialValue:.230769230769}}},{symGroup:"p6",IH:21,origin:"center",name:"6 Rotations",image:Nc,tilingScaleFactor:.5,parameterNames:{0:{name:"Vertical Spacing",min:0,max:.5,stepSize:.01,initialValue:.104512294489},1:{name:"Horizontal Spacing",min:0,max:1.3,stepSize:.01,initialValue:.65}}},{symGroup:"p6m",IH:37,origin:"center",name:"6 Rotations Mirrored",image:Rc,tilingScaleFactor:.5,parameterNames:{}}];let Ie=0,X=-1,ut="#0000ffff",Mt="#ff0000ff",Pt="#e06d4380",Qe="#59da5980",De="#c3c63580",Tt=!0,Ye=.6,bt=1,lt=2,gt=1,_t=null;function Je(){e(0,A=[]),e(6,I=[]),e(5,D=[]),e(3,h=[]),e(4,m=[])}async function Re(){e(2,g=!0),await new Promise((M,ce)=>{setTimeout(()=>{try{let Ce=new Date().getTime();Me(),et(),Mo(m)?e(11,me="Collision between tiles detected, please change the paremeters (e.g. decrease Tile Size)"):(e(11,me=""),x(),J())}catch(Ce){throw e(11,me=Ce),ce(Ce),Ce}M()})})}function $e(M){let ce=new ze((o.xh-o.xl)/2,(o.yh-o.yl)/2),Ce=Number.MAX_VALUE,Ge=-1;for(let ve=0;ve<M.length;ve++){let st=(M[ve].origin.x-ce.x)*(M[ve].origin.x-ce.x)+(M[ve].origin.y-ce.y)*(M[ve].origin.y-ce.y);st<Ce&&(Ge=ve,Ce=st)}return M[Ge]}function J(){e(20,$=$e(A)),e(1,l=[]);let M,ce;for(let Ce=0;Ce<A.length;Ce++)A[Ce].tileIdx==$.tileIdx&&(M=tt(A[Ce].M,A[Ce].origin,!0),ce=Pe(A[Ce].M,A[Ce].origin,!1,!0),I.filter(Ge=>Ge.tileIdx==A[Ce].tileIdx).forEach(Ge=>{Ge.edgeIndices.forEach(ve=>{if(D[ve].isPrimary&&!D[ve].isWithinCell){let st={startPoint:{x:D[ve].va.x,y:D[ve].va.y},endPoint:{x:D[ve].vb.x,y:D[ve].vb.y}};l.push(st)}})}));if(e(1,l),ae!=null&&Z!=null)if(Tt){const Ce=new i.VectorByte;Z.data.forEach(ue=>Ce.push_back(ue));const Ge=new i.VectorByte;ae.data.forEach(ue=>Ge.push_back(ue));const ve=new i.VectorFeatureLine;u.forEach(ue=>ve.push_back({startPoint:{x:ue.x1+L.x,y:ue.y1+L.y},endPoint:{x:ue.x2+L.x,y:ue.y2+L.y}}));const st=new i.VectorFeatureLine;l.forEach(ue=>st.push_back({startPoint:{x:ue.startPoint.x,y:ue.startPoint.y},endPoint:{x:ue.endPoint.x,y:ue.endPoint.y}}));let ht=[];for(let ue=0;ue<l.length;ue++){let xe=$n(M,new ze(l[ue].startPoint.x,l[ue].startPoint.y)),He=$n(M,new ze(l[ue].endPoint.x,l[ue].endPoint.y));$n(ce,xe),$n(ce,He),ht.push({startPoint:xe,endPoint:He})}we?ea.set(ht):ea.set([]);const Oe=new i.VectorDouble;Oe.push_back(M.a),Oe.push_back(M.b),Oe.push_back(M.c),Oe.push_back(M.d),Oe.push_back(M.e),Oe.push_back(M.f);let at=i.getBBox(st,Oe);e(21,be=[]);for(let ue=0;ue<at.size();ue++)be.push(at.get(ue));e(21,be);let pt=$n(ce,new ze(be[0],be[1])),St=$n(ce,new ze(be[2],be[3]));if(e(22,Se.yl=pt.y,Se),e(22,Se.yh=St.y,Se),pt.x<St.x?(e(22,Se.xl=pt.x,Se),e(22,Se.xh=St.x,Se)):(e(22,Se.xl=St.x,Se),e(22,Se.xh=pt.x,Se)),pt.y<St.y?(e(22,Se.yl=pt.y,Se),e(22,Se.yh=St.y,Se)):(e(22,Se.yl=St.y,Se),e(22,Se.yh=pt.y,Se)),we){let ue=i.getMorphOutline(Z.width,Z.height,gt,Ge,ve,st,Oe);e(19,Ke=[]);for(let xe=0;xe<ue.size();xe++)Ke.push(new Wr(ue.get(xe).startPoint.x,ue.get(xe).startPoint.y,ue.get(xe).endPoint.x,ue.get(xe).endPoint.y));e(19,Ke)}let ke=i.doMorph(ae.width,ae.height,Ye,bt,lt,gt,Ce,Ge,ve,st,Oe),ye=new ImageData(be[2]-be[0],be[3]-be[1]);for(let ue=0;ue<ke.size();ue++)ye.data[ue]=ke.get(ue);e(10,z=Io(ye))}else e(10,z=Io(Z)),e(21,be=[0,0,v,B])}function Me(){var ce;let M=new Fa(Number(ft[Ie].IH));if(X!=Ie)if(M.numParameters()>0){e(12,ge=M.getParameters());for(let Ce=0;Ce<ge.length;Ce++)e(12,ge[Ce]=((ce=ft[Ie].parameterNames[Ce])==null?void 0:ce.initialValue)??ge[Ce],ge);M.setParameters(ge)}else e(12,ge=[]);X=Ie}function et(){e(0,A=[]),e(3,h=[]),e(4,m=[]);let M=new Fa(Number(ft[Ie].IH));M.setParameters(ge);for(let ce of M.fillRegionBounds(o.xl/(w*T),o.yl/(w*T),o.xh/(w*T),o.yh/(w*T))){const Ce=M.getColour(ce.t1,ce.t2,ce.aspect),Ge=ce.T;let ve={a:Ge[0],b:Ge[3],c:Ge[1],d:Ge[4],e:Ge[2],f:Ge[5]},st=U*(Math.PI/180),ht=Ar(gs(w*T,w*T),ve,Os(st)),Oe=$n(ht,{x:0,y:0}),pt={origin:new Qn(Oe.x,Oe.y),M:ve,tileIdx:A.length-1};A.push(pt);let St=Ar(ht,gs(b/Vt.x,b/Vt.y));for(let ke=0;ke<p.length;ke++){let ye=$n(St,{x:p[ke].x,y:p[ke].y}),ue=new Qn(ye.x,ye.y,Ce,pt.tileIdx);o.contains(ue.x,ue.y)&&h.push(ue)}for(let ke=0;ke<u.length;ke++){let ye=$n(St,{x:u[ke].x1,y:u[ke].y1}),ue=$n(St,{x:u[ke].x2,y:u[ke].y2}),xe=new Wr(ye.x,ye.y,ue.x,ue.y,Ce,pt.tileIdx);(o.contains(xe.x1,xe.y1)||o.contains(xe.x2,xe.y2))&&m.push(xe)}}}function x(){try{const M=new r.VectorDouble;M.push_back(o.xl),M.push_back(o.yl),M.push_back(o.xh),M.push_back(o.yh);const ce=new r.VectorInt,Ce=new r.VectorInt,Ge=new r.VectorInt;h.forEach(ke=>{ce.push_back(ke.x),ce.push_back(ke.y),Ce.push_back(ke.color),Ge.push_back(ke.tileIdx)});const ve=new r.VectorInt,st=new r.VectorInt,ht=new r.VectorInt;m.forEach(ke=>{ve.push_back(ke.x1),ve.push_back(ke.y1),ve.push_back(ke.x2),ve.push_back(ke.y2),st.push_back(ke.color),ht.push_back(ke.tileIdx)});let Oe=r.computevoronoi(M,ce,ve,Ce,st,Ge,ht),at=[];for(let ke=0;ke<Oe.vertices.size();ke+=2){let ye=!0;(Number.isNaN(Oe.vertices.get(ke))||Number.isNaN(Oe.vertices.get(ke+1)))&&(console.log("Vertex "+ke+": "+Oe.vertices.get(ke)+" "+Oe.vertices.get(ke+1)),ye=!1),at.push({x:Oe.vertices.get(ke),y:Oe.vertices.get(ke+1),isValid:ye})}let pt=[];for(let ke=0;ke<Oe.edges.size();ke++){let ye=Oe.edges.get(ke),ue=[],xe=!0;for(let He=0;He<ye.controll_points.size();He+=2){(Number.isNaN(ye.controll_points.get(He))||Number.isNaN(ye.controll_points.get(He+1)))&&(console.log("CP "+ke+" "+He/2+": "+ye.controll_points.get(He)+" "+ye.controll_points.get(He+1)),xe=!1);const tr={x:ye.controll_points.get(He),y:ye.controll_points.get(He+1),isValid:xe};ue.push(tr)}(Number.isNaN(ye.x1)||Number.isNaN(ye.y1)||Number.isNaN(ye.x2)||Number.isNaN(ye.y2))&&(console.log("Edge "+ke+": "+ye.x1+" "+ye.y1+" "+ye.x2+" "+ye.y2),xe=!1),pt.push({va:{x:ye.x1,y:ye.y1,isValid:xe},vb:{x:ye.x2,y:ye.y2,isValid:xe},isCurved:ye.isCurved,controlPoints:ue,isPrimary:ye.isPrimary,isValid:xe,isWithinCell:ye.isWithinCell})}let St=[];for(let ke=0;ke<Oe.cells.size();ke++){let ye=Oe.cells.get(ke),ue={sourceIndex:ye.sourceIndex,sourceCategory:ye.sourceCategory,isDegenerate:ye.isDegenerate,containsPoint:ye.containsPoint,containsSegment:ye.containsSegment,edgeIndices:[],color:ye.color,tileIdx:ye.tileIdx};St.push(ue);for(let xe=0;xe<ye.edgeIndices.size();xe++){let He=ye.edgeIndices.get(xe);He>=pt.length?console.warn("Index too high "+He+" for cell "+ye.sourceIndex+" isDegenerate "+ye.isDegenerate):ue.edgeIndices.push(He)}}Q=at,e(5,D=pt),e(6,I=St)}catch(M){throw e(11,me=M),M}}function re(M){e(3,h=[...h,new Qn(M.offsetX,M.offsetY)]),_s.set({sitePoints:h,siteSegments:m,tileWidth:v,tileHeight:B,tileCenter:L,imageOffset:Y})}function R(M){if(M.edgeIndices.length<=1)return!1;for(let Ce=1;Ce<=M.edgeIndices.length-1;Ce++)if(!D[M.edgeIndices[Ce-1]].isValid||D[M.edgeIndices[Ce-1]].vb.x!=D[M.edgeIndices[Ce]].va.x||D[M.edgeIndices[Ce-1]].vb.y!=D[M.edgeIndices[Ce]].va.y||Number.isNaN(D[M.edgeIndices[Ce]].va.x)||Number.isNaN(D[M.edgeIndices[Ce]].va.y))return!1;let ce=M.edgeIndices.length-1;return!(D[M.edgeIndices[ce]].vb.x!=D[M.edgeIndices[0]].va.x||D[M.edgeIndices[ce]].vb.y!=D[M.edgeIndices[0]].va.y)}function H(M){let ce=D[M.edgeIndices[0]],Ce;ce.isCurved?Ce="M "+ce.controlPoints[0].x+" "+ce.controlPoints[0].y+"Q "+ce.controlPoints[1].x+" "+ce.controlPoints[1].y+" "+ce.controlPoints[2].x+" "+ce.controlPoints[2].y+" ":Ce="M "+D[M.edgeIndices[0]].va.x+" "+D[M.edgeIndices[0]].va.y+" ";for(let st=1;st<M.edgeIndices.length;st++){let ht=D[M.edgeIndices[st]],Oe=D[M.edgeIndices[st-1]];ht.isCurved?Ce=Ce+"L "+ht.controlPoints[0].x+" "+ht.controlPoints[0].y+"Q "+ht.controlPoints[1].x+" "+ht.controlPoints[1].y+" "+ht.controlPoints[2].x+" "+ht.controlPoints[2].y+" ":Ce=Ce+"L "+ht.va.x+" "+ht.va.y+" ",(Oe.vb.x!=ht.va.x||Oe.vb.y!=ht.va.y)&&console.log("Inconsistent: ("+Oe.vb.x+" "+Oe.vb.y+") ("+ht.va.x+" "+ht.va.y+")")}let Ge=M.edgeIndices.length-1;ce=D[M.edgeIndices[Ge]];let ve=D[M.edgeIndices[Ge-1]];return ve.isCurved||(Ce=Ce+"L "+ce.vb.x+" "+ce.vb.y+" "),(ve.vb.x!=ce.va.x||ve.vb.y!=ce.va.y)&&console.log("Inconsistent: ("+ve.vb.x+" "+ve.vb.y+") ("+ce.va.x+" "+ce.va.y+")"),(ce.vb.x!=D[M.edgeIndices[0]].va.x||ce.vb.y!=D[M.edgeIndices[0]].va.y)&&console.log("Inconsistent: ("+ce.vb.x+" "+ce.vb.y+") ("+D[M.edgeIndices[0]].va.x+" "+D[M.edgeIndices[0]].va.y+")"),Ce}function se(){e(23,Ie=(Ie+1)%ft.length),T=ft[Ie].tilingScaleFactor,Ts.set(ft[Ie]),Je(),Me()}function oe(){e(23,Ie=Ie-1),Ie<0&&e(23,Ie=ft.length-1),T=ft[Ie].tilingScaleFactor,Ts.set(ft[Ie]),Je(),Me()}function ie(M,ce){ce<ge.length&&e(12,ge[ce]=M,ge)}function he(M){e(7,w=M)}function fe(M){e(8,b=M/100)}function de(M){e(9,U=M)}function Pe(M,ce,Ce,Ge){M.e=0,M.f=0;let ve=Math.sqrt(M.a*M.a+M.b*M.b),st=Math.sqrt(M.c*M.c+M.d*M.d),ht=Math.atan2(M.b,M.a)+U*(Math.PI/180),Oe=-L.x+ce.x,at=-L.y+ce.y;Ce&&(Oe=Oe+be[0],at=at+be[1]),Ge?(ve=ve*w*T*b/Vt.x,st=st*w*T*b/Vt.y):(ve=ve*w*T*b/v,st=st*w*T*b/B);let pt=va();return Math.sign(M.a)!=Math.sign(M.d)&&(pt=Ar(pt,Ca())),Math.sign(M.c)!=Math.sign(M.b)&&(pt=Ar(pt,ya())),pt=Ar(Os(ht,ce.x,ce.y),gs(ve,st,ce.x,ce.y),hi(Oe,at)),pt}function tt(M,ce,Ce){M.e=0,M.f=0;let Ge=Math.sqrt(M.a*M.a+M.b*M.b),ve=Math.sqrt(M.c*M.c+M.d*M.d),st=Math.atan2(M.b,M.a)+U*(Math.PI/180),ht=L.x-ce.x,Oe=L.y-ce.y;Ce?(Ge=Vt.x/(Ge*w*T*b),ve=Vt.y/(ve*w*T*b)):(Ge=v/(Ge*w*T*b),ve=B/(ve*w*T*b));let at=va();return Math.sign(M.a)!=Math.sign(M.d)&&(at=Ar(at,Ca())),Math.sign(M.c)!=Math.sign(M.b)&&(at=Ar(at,ya())),at=Ar(hi(ht,Oe),gs(Ge,ve,ce.x,ce.y),Os(-st,ce.x,ce.y)),at}To(async()=>{r=await Rl(),i=await Ml(),_s.subscribe(M=>{v=M.tileWidth,B=M.tileHeight,e(21,be=[0,0,v,B]),p=M.sitePoints,u=M.siteSegments,L=M.tileCenter,Y=M.imageOffset}),$s.subscribe(M=>{e(10,z=M.image),Z=M.imageData,ae=M.imageDataProcessed,e(2,g=!1)}),Ts.set(ft[Ie]),p=[new Qn(100,50),new Qn(300,50),new Qn(100,250),new Qn(300,250),new Qn(200,150)],e(4,m=[]),_s.set({sitePoints:h,siteSegments:m,tileWidth:v,tileHeight:B,tileCenter:L,imageOffset:Y}),T=ft[Ie].tilingScaleFactor});function nt(M){M.offsetX,M.offsetY}const Xt=()=>e(33,_t=Re()),$t=()=>{jc()},an=M=>fe(M.detail.value),Xn=M=>de(M.detail.value),Wn=M=>he(M.detail.value),Dn=()=>{oe()},Wt=()=>{se()},rn=(M,ce)=>ie(ce.detail.value,M);function zt(){Tt=this.checked,e(29,Tt)}const qt=M=>e(32,gt=Number(M.detail.value)),Lt=M=>e(34,Ye=Number(M.detail.value)),Kt=M=>e(30,bt=Number(M.detail.value)),on=M=>e(31,lt=Number(M.detail.value));function en(){Ee=this.checked,e(13,Ee)}function Ht(){pe=this.checked,e(14,pe)}function _n(){W=this.checked,e(15,W)}function ln(){Ne=this.checked,e(16,Ne)}function In(){Ve=this.checked,e(17,Ve)}function fn(){we=this.checked,e(18,we)}function ct(M){ut=M,e(24,ut)}function kt(M){Mt=M,e(25,Mt)}function Ae(M){Pt=M,e(26,Pt)}function Un(M){Qe=M,e(27,Qe)}function wt(M){De=M,e(28,De)}return[A,l,g,h,m,D,I,w,b,U,z,me,ge,Ee,pe,W,Ne,Ve,we,Ke,$,be,Se,Ie,ut,Mt,Pt,Qe,De,Tt,bt,lt,gt,_t,Ye,o,ft,Re,re,R,H,se,oe,ie,he,fe,de,Pe,nt,Xt,$t,an,Xn,Wn,Dn,Wt,rn,zt,qt,Lt,Kt,on,en,Ht,_n,ln,In,fn,ct,kt,Ae,Un,wt]}class Wc extends Ln{constructor(t){super(),Pn(this,t,Xc,Jc,Sn,{},null,[-1,-1,-1,-1])}}function Co(n){let t;return{c(){t=O("div"),t.innerHTML=`<p class="text-2xl font-sans text-sky-400 p-4">Help</p> <p class="pl-10">This tool is meant to generate escher like tilings from any Image. To generate a tiling follow the steps below:</p> <p class="text-xl font-sans text-sky-400 p-4">Step 1: Skeleton</p> <ul class="list-disc list-inside pl-10 pr-10"><li>Get an image to use for the tool in a common image format (png, jpg, ...).</li> <li>To be able to generate a tiling the tool has to know what the content and what the backgound of the image is. 
          It assumes that all black (#000000) pixels are the background and everything else is the subject.
          Use a tool like Photoshop, GIMP or MS Paint to fill the background with black pixels.</li> <li>Now use the &quot;Upload Image&quot; button to upload the Image to the tool.</li> <li>The Tool will automaticaly calculate a &quot;skelleton&quot; of the image.
          Use the &quot;Deviation Tolerance&quot; slider to adjust the skelleton, so it closely assembles the subject but does not have to many red lines.</li> <li>The tools next to the image can be used to manualy adjust the skelleton.</li> <li>The pink dot can be moved to adjust the center of the tiling. The skelloton will be drawn relative to this center in the next step.</li> <li>The steps above can be repeated anytime to readjust the skelleton. Changing the deviation tolerance will reset any manual changes.</li></ul> <p></p> <p class="text-xl font-sans text-sky-400 p-4">Step 2: Tiling</p> <ul class="list-disc list-inside pl-10"><li>Press the &quot;Update&quot; button to create the tiling. Update has to be pressed every time a setting is chaged.</li> <li>Now the settings on the right can be chaged to modify the tiling.</li> <li>The &quot;Tile Size&quot; changes the size of an individual tile</li> <li>The &quot;Tiling Size&quot; changes the scale of the whole tiling</li> <li>The &quot;Base Type&quot; of the tiling can be changed using the &quot;&lt;&quot; and &quot;&gt;&quot; buttons</li> <li>In the Morph Settings area image morphing (warping) can be disabled and the behaviour of the morph can be modified</li> <li>t - amount of warping (none vs. full)</li> <li>p - all lines influence the same vs. longer lines have greater influence</li> <li>a - precision vs. smoothness of the warping</li> <li>b - affection of all lines vs. closest line to a pixel</li> <li>The Display Settings area can be used to customize which parts of the output are displayed and in which colors</li> <li>Press the &quot;Download SVG&quot; button to save the generate tiling as an SVG file. SVGs can be displayed using most Web-Browsers and further Edited using Software like Incscape, Adobe Illustrator etc.</li></ul>`,d(t,"class","flex flex-col grow pb-10")},m(e,r){te(e,t,r)},d(e){e&&ee(t)}}}function qc(n){let t,e,r,i,o,A,p,u,l,g,h,m,v,B,Q,D,I,T,w,b,U,L,Y,z,Z,ae,me,ge,Ee=n[0]&&Co();return D=new Nl({}),Y=new Wc({}),{c(){t=O("link"),e=ne(),r=O("main"),i=O("link"),o=ne(),A=O("header"),p=O("h1"),p.textContent="Eschherization",u=ne(),l=O("button"),l.innerHTML='<span class="material-symbols-outlined svelte-1g0vp1i">help</span>',g=ne(),Ee&&Ee.c(),h=ne(),m=O("div"),v=O("div"),B=O("p"),B.textContent="Skeleton",Q=ne(),Ct(D.$$.fragment),I=ne(),T=O("div"),w=ne(),b=O("div"),U=O("p"),U.textContent="Tiling",L=ne(),Ct(Y.$$.fragment),z=ne(),Z=O("div"),Z.innerHTML='<footer class="flex flex-col items-center text-center"><div class="w-full p-1 text-center"><a class="text-white" href="https://www.tum.de/en/">Julian Eder - TUM</a></div></footer>',d(t,"rel","stylesheet"),d(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"),d(i,"href","https://fonts.googleapis.com/icon?family=Material+Icons"),d(i,"rel","stylesheet"),d(p,"class","text-4xl font-sans text-center text-white"),d(l,"class","absolute right-3 top-3 min-h-12 min-w-12 bg-sky-500 rounded"),d(A,"class","sticky z-50 bg-sky-500 top-0 p-4"),d(B,"class","text-2xl font-sans text-center text-sky-400 p-4"),d(v,"class","flex-grow flex-1 min-w-fit"),d(T,"class","col-start-2 min-h-[1em] w-px self-stretch bg-gradient-to-tr from-transparent via-neutral-500 to-transparent opacity-20 dark:opacity-100"),d(U,"class","text-2xl font-sans text-center text-sky-400 p-4"),d(b,"class","flex-grow flex-1 min-w-fit"),d(m,"class","flex flex-row flex-wrap flex-grow"),d(Z,"class","sticky z-50 bottom-0 w-screen bg-sky-900"),d(r,"class","flex flex-col min-h-screen")},m(pe,W){te(pe,t,W),te(pe,e,W),te(pe,r,W),S(r,i),S(r,o),S(r,A),S(A,p),S(A,u),S(A,l),S(r,g),Ee&&Ee.m(r,null),S(r,h),S(r,m),S(m,v),S(v,B),S(v,Q),It(D,v,null),S(m,I),S(m,T),S(m,w),S(m,b),S(b,U),S(b,L),It(Y,b,null),S(r,z),S(r,Z),ae=!0,me||(ge=le(l,"click",n[2]),me=!0)},p(pe,[W]){pe[0]?Ee||(Ee=Co(),Ee.c(),Ee.m(r,h)):Ee&&(Ee.d(1),Ee=null)},i(pe){ae||(Be(D.$$.fragment,pe),Be(Y.$$.fragment,pe),ae=!0)},o(pe){Fe(D.$$.fragment,pe),Fe(Y.$$.fragment,pe),ae=!1},d(pe){pe&&(ee(t),ee(e),ee(r)),Ee&&Ee.d(),vt(D),vt(Y),me=!1,ge()}}}function zc(n,t,e){let r=!1;function i(){e(0,r=!r)}return[r,i,()=>{i()}]}class Kc extends Ln{constructor(t){super(),Pn(this,t,zc,qc,Sn,{})}}new Kc({target:document.getElementById("app")});
