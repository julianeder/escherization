var N0=Object.defineProperty;var O0=(n,t,e)=>t in n?N0(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var De=(n,t,e)=>(O0(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function kt(){}const ea=n=>n;function L0(n,t){for(const e in t)n[e]=t[e];return n}function U0(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function wo(n){return n()}function pa(){return Object.create(null)}function cn(n){n.forEach(wo)}function lr(n){return typeof n=="function"}function Fn(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let Ss;function ha(n,t){return n===t?!0:(Ss||(Ss=document.createElement("a")),Ss.href=t,n===Ss.href)}function V0(n){return Object.keys(n).length===0}function W0(n,t,e,r){if(n){const i=ko(n,t,e,r);return n[0](i)}}function ko(n,t,e,r){return n[1]&&r?L0(e.ctx.slice(),n[1](r(t))):e.ctx}function Y0(n,t,e,r){if(n[2]&&r){const i=n[2](r(e));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],f=Math.max(t.dirty.length,i.length);for(let p=0;p<f;p+=1)o[p]=t.dirty[p]|i[p];return o}return t.dirty|i}return t.dirty}function j0(n,t,e,r,i,o){if(i){const f=ko(t,e,r,o);n.p(f,i)}}function H0(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let r=0;r<e;r++)t[r]=-1;return t}return-1}function ga(n){const t=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[n,"px"]}const To=typeof window<"u";let So=To?()=>window.performance.now():()=>Date.now(),ta=To?n=>requestAnimationFrame(n):kt;const _i=new Set;function Eo(n){_i.forEach(t=>{t.c(n)||(_i.delete(t),t.f())}),_i.size!==0&&ta(Eo)}function Co(n){let t;return _i.size===0&&ta(Eo),{promise:new Promise(e=>{_i.add(t={c:n,f:e})}),abort(){_i.delete(t)}}}const z0=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function E(n,t){n.appendChild(t)}function Po(n){if(!n)return document;const t=n.getRootNode?n.getRootNode():n.ownerDocument;return t&&t.host?t:n.ownerDocument}function B0(n){const t=O("style");return t.textContent="/* empty */",X0(Po(n),t),t.sheet}function X0(n,t){return E(n.head||n,t),t.sheet}function Z(n,t,e){n.insertBefore(t,e||null)}function q(n){n.parentNode&&n.parentNode.removeChild(n)}function Mn(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function O(n){return document.createElement(n)}function ct(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Vt(n){return document.createTextNode(n)}function Q(){return Vt(" ")}function Dt(){return Vt("")}function ie(n,t,e,r){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}function cr(n){return function(t){return t.preventDefault(),n.call(this,t)}}function G0(n){return function(t){t.target===this&&n.call(this,t)}}function d(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function J0(n){return Array.from(n.childNodes)}function Bn(n,t){t=""+t,n.data!==t&&(n.data=t)}function Ht(n,t,e,r){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,r?"important":"")}function dr(n,t,e){n.classList.toggle(t,!!e)}function Fo(n,t,{bubbles:e=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:t,bubbles:e,cancelable:r})}function Nn(n,t){return new n(t)}const As=new Map;let xs=0;function q0(n){let t=5381,e=n.length;for(;e--;)t=(t<<5)-t^n.charCodeAt(e);return t>>>0}function Z0(n,t){const e={stylesheet:B0(t),rules:{}};return As.set(n,e),e}function Io(n,t,e,r,i,o,f,p=0){const h=16.666/r;let u=`{
`;for(let N=0;N<=1;N+=h){const b=t+(e-t)*o(N);u+=N*100+`%{${f(b,1-b)}}
`}const g=u+`100% {${f(e,1-e)}}
}`,v=`__svelte_${q0(g)}_${p}`,w=Po(n),{stylesheet:y,rules:I}=As.get(w)||Z0(w,n);I[v]||(I[v]=!0,y.insertRule(`@keyframes ${v} ${g}`,y.cssRules.length));const x=n.style.animation||"";return n.style.animation=`${x?`${x}, `:""}${v} ${r}ms linear ${i}ms 1 both`,xs+=1,v}function Js(n,t){const e=(n.style.animation||"").split(", "),r=e.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),i=e.length-r.length;i&&(n.style.animation=r.join(", "),xs-=i,xs||K0())}function K0(){ta(()=>{xs||(As.forEach(n=>{const{ownerNode:t}=n.stylesheet;t&&q(t)}),As.clear())})}let gs;function fr(n){gs=n}function na(){if(!gs)throw new Error("Function called outside component initialization");return gs}function Ao(n){na().$$.on_mount.push(n)}function vs(){const n=na();return(t,e,{cancelable:r=!1}={})=>{const i=n.$$.callbacks[t];if(i){const o=Fo(t,e,{cancelable:r});return i.slice().forEach(f=>{f.call(n,o)}),!o.defaultPrevented}return!0}}const di=[],St=[];let pi=[];const qs=[],Q0=Promise.resolve();let Zs=!1;function $0(){Zs||(Zs=!0,Q0.then(ra))}function hi(n){pi.push(n)}function Qn(n){qs.push(n)}const Vs=new Set;let fi=0;function ra(){if(fi!==0)return;const n=gs;do{try{for(;fi<di.length;){const t=di[fi];fi++,fr(t),el(t.$$)}}catch(t){throw di.length=0,fi=0,t}for(fr(null),di.length=0,fi=0;St.length;)St.pop()();for(let t=0;t<pi.length;t+=1){const e=pi[t];Vs.has(e)||(Vs.add(e),e())}pi.length=0}while(di.length);for(;qs.length;)qs.pop()();Zs=!1,Vs.clear(),fr(n)}function el(n){if(n.fragment!==null){n.update(),cn(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(hi)}}function tl(n){const t=[],e=[];pi.forEach(r=>n.indexOf(r)===-1?t.push(r):e.push(r)),e.forEach(r=>r()),pi=t}let us;function xo(){return us||(us=Promise.resolve(),us.then(()=>{us=null})),us}function Rs(n,t,e){n.dispatchEvent(Fo(`${t?"intro":"outro"}${e}`))}const Fs=new Set;let Er;function dn(){Er={r:0,c:[],p:Er}}function _n(){Er.r||cn(Er.c),Er=Er.p}function _e(n,t){n&&n.i&&(Fs.delete(n),n.i(t))}function Te(n,t,e,r){if(n&&n.o){if(Fs.has(n))return;Fs.add(n),Er.c.push(()=>{Fs.delete(n),r&&(e&&n.d(1),r())}),n.o(t)}else r&&r()}const Ro={duration:0};function nl(n,t,e){const r={direction:"in"};let i=t(n,e,r),o=!1,f,p,h=0;function u(){f&&Js(n,f)}function g(){const{delay:w=0,duration:y=300,easing:I=ea,tick:x=kt,css:N}=i||Ro;N&&(f=Io(n,0,1,y,w,I,N,h++)),x(0,1);const b=So()+w,M=b+y;p&&p.abort(),o=!0,hi(()=>Rs(n,!0,"start")),p=Co(C=>{if(o){if(C>=M)return x(1,0),Rs(n,!0,"end"),u(),o=!1;if(C>=b){const A=I((C-b)/y);x(A,1-A)}}return o})}let v=!1;return{start(){v||(v=!0,Js(n),lr(i)?(i=i(r),xo().then(g)):g())},invalidate(){v=!1},end(){o&&(u(),o=!1)}}}function rl(n,t,e){const r={direction:"out"};let i=t(n,e,r),o=!0,f;const p=Er;p.r+=1;let h;function u(){const{delay:g=0,duration:v=300,easing:w=ea,tick:y=kt,css:I}=i||Ro;I&&(f=Io(n,1,0,v,g,w,I));const x=So()+g,N=x+v;hi(()=>Rs(n,!1,"start")),"inert"in n&&(h=n.inert,n.inert=!0),Co(b=>{if(o){if(b>=N)return y(0,1),Rs(n,!1,"end"),--p.r||cn(p.c),!1;if(b>=x){const M=w((b-x)/v);y(1-M,M)}}return o})}return lr(i)?xo().then(()=>{i=i(r),u()}):u(),{end(g){g&&"inert"in n&&(n.inert=h),g&&i.tick&&i.tick(1,0),o&&(f&&Js(n,f),o=!1)}}}function ma(n,t){const e=t.token={};function r(i,o,f,p){if(t.token!==e)return;t.resolved=p;let h=t.ctx;f!==void 0&&(h=h.slice(),h[f]=p);const u=i&&(t.current=i)(h);let g=!1;t.block&&(t.blocks?t.blocks.forEach((v,w)=>{w!==o&&v&&(dn(),Te(v,1,1,()=>{t.blocks[w]===v&&(t.blocks[w]=null)}),_n())}):t.block.d(1),u.c(),_e(u,1),u.m(t.mount(),t.anchor),g=!0),t.block=u,t.blocks&&(t.blocks[o]=u),g&&ra()}if(U0(n)){const i=na();if(n.then(o=>{fr(i),r(t.then,1,t.value,o),fr(null)},o=>{if(fr(i),r(t.catch,2,t.error,o),fr(null),!t.hasCatch)throw o}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,n),!0;t.resolved=n}}function il(n,t,e){const r=t.slice(),{resolved:i}=n;n.current===n.then&&(r[n.value]=i),n.current===n.catch&&(r[n.error]=i),n.block.p(r,e)}function Mt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Pn(n,t,e){const r=n.$$.props[t];r!==void 0&&(n.$$.bound[r]=e,e(n.$$.ctx[r]))}function lt(n){n&&n.c()}function st(n,t,e){const{fragment:r,after_update:i}=n.$$;r&&r.m(t,e),hi(()=>{const o=n.$$.on_mount.map(wo).filter(lr);n.$$.on_destroy?n.$$.on_destroy.push(...o):cn(o),n.$$.on_mount=[]}),i.forEach(hi)}function at(n,t){const e=n.$$;e.fragment!==null&&(tl(e.after_update),cn(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function sl(n,t){n.$$.dirty[0]===-1&&(di.push(n),$0(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function On(n,t,e,r,i,o,f=null,p=[-1]){const h=gs;fr(n);const u=n.$$={fragment:null,ctx:[],props:o,update:kt,not_equal:i,bound:pa(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:pa(),dirty:p,skip_bound:!1,root:t.target||h.$$.root};f&&f(u.root);let g=!1;if(u.ctx=e?e(n,t.props||{},(v,w,...y)=>{const I=y.length?y[0]:w;return u.ctx&&i(u.ctx[v],u.ctx[v]=I)&&(!u.skip_bound&&u.bound[v]&&u.bound[v](I),g&&sl(n,v)),w}):[],u.update(),g=!0,cn(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const v=J0(t.target);u.fragment&&u.fragment.l(v),v.forEach(q)}else u.fragment&&u.fragment.c();t.intro&&_e(n.$$.fragment),st(n,t.target,t.anchor),ra()}fr(h)}class Ln{constructor(){De(this,"$$");De(this,"$$set")}$destroy(){at(this,1),this.$destroy=kt}$on(t,e){if(!lr(e))return kt;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!V0(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const al="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(al);function ol(n){const t=n-1;return t*t*t+1}function ll(n,{delay:t=0,duration:e=400,easing:r=ea}={}){const i=+getComputedStyle(n).opacity;return{delay:t,duration:e,easing:r,css:o=>`opacity: ${o*i}`}}function cl(n,{delay:t=0,duration:e=400,easing:r=ol,x:i=0,y:o=0,opacity:f=0}={}){const p=getComputedStyle(n),h=+p.opacity,u=p.transform==="none"?"":p.transform,g=h*(1-f),[v,w]=ga(i),[y,I]=ga(o);return{delay:t,duration:e,easing:r,css:(x,N)=>`
			transform: ${u} translate(${(1-x)*v}${w}, ${(1-x)*y}${I});
			opacity: ${h-g*N}`}}const{document:fl}=z0;function va(n){let t,e=(n[0]*n[3]).toFixed(n[4])+"",r,i,o,f;return{c(){t=O("div"),r=Vt(e),d(t,"class","range__tooltip svelte-tyxnph")},m(p,h){Z(p,t,h),E(t,r),f=!0},p(p,h){(!f||h[0]&25)&&e!==(e=(p[0]*p[3]).toFixed(p[4])+"")&&Bn(r,e)},i(p){f||(p&&hi(()=>{f&&(o&&o.end(1),i=nl(t,cl,{y:7,duration:200}),i.start())}),f=!0)},o(p){i&&i.invalidate(),p&&(o=rl(t,ll,{duration:100})),f=!1},d(p){p&&q(t),p&&o&&o.end()}}}function ul(n){let t,e,r,i,o,f,p,h,u,g,v,w=(n[10]||n[11])&&va(n);return{c(){t=O("div"),e=O("div"),r=O("div"),i=O("div"),o=Q(),f=O("div"),w&&w.c(),h=Q(),u=O("style"),u.textContent=`.mouse-over-shield {
      position: fixed;
      top: 0px;
      left: 0px;
      height: 100%;
      width: 100%;
      background-color: rgba(255, 0, 0, 0);
      z-index: 10000;
      cursor: grabbing;
    }`,d(i,"class","range__track--highlighted svelte-tyxnph"),d(f,"class","range__thumb svelte-tyxnph"),d(f,"role","none"),dr(f,"range__thumb--holding",n[10]),d(r,"class","range__track svelte-tyxnph"),d(e,"class","range__wrapper svelte-tyxnph"),d(e,"tabindex","0"),d(e,"role","slider"),d(e,"aria-valuemin",n[1]),d(e,"aria-valuemax",n[2]),d(e,"aria-valuenow",p=(n[0]*n[3]).toFixed(n[4])),d(e,"id",n[5]),d(t,"class","range svelte-tyxnph")},m(y,I){Z(y,t,I),E(t,e),E(e,r),E(r,i),n[20](i),E(r,o),E(r,f),w&&w.m(f,null),n[21](f),n[24](r),n[25](e),Z(y,h,I),E(fl.head,u),g||(v=[ie(window,"touchmove",n[17],{passive:!1}),ie(window,"touchcancel",n[15]),ie(window,"touchend",n[15]),ie(window,"mousemove",n[17]),ie(window,"mouseup",n[15]),ie(window,"resize",n[12]),ie(f,"touchstart",n[14]),ie(f,"mousedown",n[14]),ie(f,"mouseover",n[22]),ie(f,"mouseout",n[23]),ie(f,"focus",_l),ie(f,"blur",pl),ie(e,"keydown",n[16]),ie(e,"mousedown",n[13]),ie(e,"touchstart",n[13])],g=!0)},p(y,I){y[10]||y[11]?w?(w.p(y,I),I[0]&3072&&_e(w,1)):(w=va(y),w.c(),_e(w,1),w.m(f,null)):w&&(dn(),Te(w,1,1,()=>{w=null}),_n()),I[0]&1024&&dr(f,"range__thumb--holding",y[10]),I[0]&2&&d(e,"aria-valuemin",y[1]),I[0]&4&&d(e,"aria-valuemax",y[2]),I[0]&25&&p!==(p=(y[0]*y[3]).toFixed(y[4]))&&d(e,"aria-valuenow",p),I[0]&32&&d(e,"id",y[5])},i(y){_e(w)},o(y){Te(w)},d(y){y&&(q(t),q(h)),n[20](null),w&&w.d(),n[21](null),n[24](null),n[25](null),q(u),g=!1,cn(v)}}}function dl(n,t){let e=t.getBoundingClientRect(),{clientX:r,clientY:i}=n;return!(r<e.left||r>=e.right||i<e.top||i>=e.bottom)}const _l=()=>{},pl=()=>{};function hl(n,t,e){let{min:r=0}=t,{max:i=100}=t,{stepSize:o=1}=t,{decimalPlaces:f=0}=t,{initialValue:p=0}=t,{id:h=null}=t,{value:u=typeof p=="string"?parseFloat(p)/o:p/o}=t,g=null,v=null,w=null,y=null,I=null,x=null,N=!1,b=!1,M=0,C=null;const A=vs(),Y=document.createElement("div");Y.setAttribute("class","mouse-over-shield"),Y.addEventListener("mouseover",K=>{K.preventDefault(),K.stopPropagation()});function L(){I=y.getBoundingClientRect().left}function W(K){e(0,u=K);let Ne=(u*o).toFixed(f);A("change",{value:Ne})}function ne(K){he(K),ee(K)}function ee(K){K.type==="mousedown"&&document.body.append(Y),e(19,x=v)}function Ee(K){K.type==="mouseup"&&(document.body.contains(Y)&&document.body.removeChild(Y),dl(K,v)&&e(11,b=!0)),e(19,x=null)}function ye(K){M<50&&M++;let Ne=Math.ceil(M/5);(K.key==="ArrowUp"||K.key==="ArrowRight")&&(u+Ne>i||u>=i?W(i):W(u+Ne)),(K.key==="ArrowDown"||K.key==="ArrowLeft")&&(u-Ne<r||u<=r?W(r):W(u-Ne)),clearTimeout(C),C=setTimeout(()=>M=1,100)}function be(K){let qe=(K-(I+10))*100/(g.clientWidth-10);qe=qe<0?0:qe>100?100:qe,W(parseInt(qe*(i-r)/100)+r)}function he(K){if(!x&&K.type!=="touchstart"&&K.type!=="mousedown")return!1;K.stopPropagation&&K.stopPropagation(),K.preventDefault&&K.preventDefault();const Ne=K.type==="touchmove"||K.type==="touchstart"?K.touches[0].clientX:K.clientX;be(Ne)}function fe(K){St[K?"unshift":"push"](()=>{w=K,e(8,w),e(7,v),e(0,u),e(1,r),e(2,i),e(6,g),e(18,p),e(3,o)})}function G(K){St[K?"unshift":"push"](()=>{v=K,e(7,v),e(8,w),e(0,u),e(1,r),e(2,i),e(6,g),e(18,p),e(3,o)})}const Ce=()=>e(11,b=!0),Pe=()=>e(11,b=!1);function ge(K){St[K?"unshift":"push"](()=>{g=K,e(6,g)})}function dt(K){St[K?"unshift":"push"](()=>{y=K,e(9,y)})}return n.$$set=K=>{"min"in K&&e(1,r=K.min),"max"in K&&e(2,i=K.max),"stepSize"in K&&e(3,o=K.stepSize),"decimalPlaces"in K&&e(4,f=K.decimalPlaces),"initialValue"in K&&e(18,p=K.initialValue),"id"in K&&e(5,h=K.id),"value"in K&&e(0,u=K.value)},n.$$.update=()=>{if(n.$$.dirty[0]&262152&&e(0,u=typeof p=="string"?parseFloat(p)/o:p/o),n.$$.dirty[0]&512&&y&&(I=y.getBoundingClientRect().left),n.$$.dirty[0]&524288&&e(10,N=!!x),n.$$.dirty[0]&455&&w&&v){e(0,u=u>r?u:r),e(0,u=u<i?u:i);let K=(u-r)*100/(i-r),Ne=(g.clientWidth-10)*(K/100)+5;e(7,v.style.left=`${Ne}px`,v),e(8,w.style.width=`${Ne}px`,w)}},[u,r,i,o,f,h,g,v,w,y,N,b,L,ne,ee,Ee,ye,he,p,x,fe,G,Ce,Pe,ge,dt]}class ur extends Ln{constructor(t){super(),On(this,t,hl,ul,Fn,{min:1,max:2,stepSize:3,decimalPlaces:4,initialValue:18,id:5,value:0},null,[-1,-1])}}function Tr(n,t){return Array.isArray(t)?[n.a*t[0]+n.c*t[1]+n.e,n.b*t[0]+n.d*t[1]+n.f]:{x:n.a*t.x+n.c*t.y+n.e,y:n.b*t.x+n.d*t.y+n.f}}function ba(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function ps(n){return typeof n>"u"}function gi(n,t=0){return{a:1,c:0,e:n,b:0,d:1,f:t}}function Ns(...n){n=Array.isArray(n[0])?n[0]:n;const t=(e,r)=>({a:e.a*r.a+e.c*r.b,c:e.a*r.c+e.c*r.d,e:e.a*r.e+e.c*r.f+e.e,b:e.b*r.a+e.d*r.b,d:e.b*r.c+e.d*r.d,f:e.b*r.e+e.d*r.f+e.f});switch(n.length){case 0:throw new Error("no matrices provided");case 1:return n[0];case 2:return t(n[0],n[1]);default:{const[e,r,...i]=n,o=t(e,r);return Ns(o,...i)}}}function or(...n){return Ns(...n)}const{cos:gl,sin:ml,PI:Kc}=Math;function Ws(n,t,e){const r=gl(n),i=ml(n),o={a:r,c:-i,e:0,b:i,d:r,f:0};return ps(t)||ps(e)?o:Ns([gi(t,e),o,gi(-t,-e)])}function _s(n,t=void 0,e=void 0,r=void 0){ps(t)&&(t=n);const i={a:n,c:0,e:0,b:0,d:t,f:0};return ps(e)||ps(r)?i:Ns([gi(e,r),i,gi(-e,-r)])}function ms(n){return vl(n)}function vl(n){return`matrix(${n.a},${n.b},${n.c},${n.d},${n.e},${n.f})`}function bl(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function Os(n,t,e,r){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,Os.prototype),i.expected=t,i.found=e,i.location=r,i.name="SyntaxError",i}bl(Os,Error);function Ys(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,e+=e.repeat(t),n+e.slice(0,t))}Os.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var e=null,r;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){e=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,o=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,f=this.location.source+":"+o.line+":"+o.column;if(e){var p=this.location.end,h=Ys("",o.line.toString().length," "),u=e[i.line-1],g=i.line===p.line?p.column:u.length+1,v=g-i.column||1;t+=`
 --> `+f+`
`+h+` |
`+o.line+" | "+u+`
`+h+" | "+Ys("",i.column-1," ")+Ys("",v,"^")}else t+=`
 at `+f}return t};Os.buildMessage=function(n,t){var e={literal:function(u){return'"'+i(u.text)+'"'},class:function(u){var g=u.parts.map(function(v){return Array.isArray(v)?o(v[0])+"-"+o(v[1]):o(v)});return"["+(u.inverted?"^":"")+g.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(u){return u.description}};function r(u){return u.charCodeAt(0).toString(16).toUpperCase()}function i(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+r(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+r(g)})}function o(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+r(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+r(g)})}function f(u){return e[u.type](u)}function p(u){var g=u.map(f),v,w;if(g.sort(),g.length>0){for(v=1,w=1;v<g.length;v++)g[v-1]!==g[v]&&(g[w]=g[v],w++);g.length=w}switch(g.length){case 1:return g[0];case 2:return g[0]+" or "+g[1];default:return g.slice(0,-1).join(", ")+", or "+g[g.length-1]}}function h(u){return u?'"'+i(u)+'"':"end of input"}return"Expected "+p(n)+" but "+h(t)+" found."};function ya(){return{a:1,c:0,e:0,b:0,d:-1,f:0}}function wa(){return{a:-1,c:0,e:0,b:0,d:1,f:0}}class ka{constructor(t,e,r,i){De(this,"xl");De(this,"xh");De(this,"yl");De(this,"yh");this.xl=t,this.xh=e,this.yl=r,this.yh=i}contains(t,e){return this.xl<t&&t<this.xh&&this.yl<e&&e<this.yh}}class Ve{constructor(t,e){De(this,"x",0);De(this,"y",0);this.x=t,this.y=e}}class Gr extends Ve{constructor(e,r,i=0,o=-1){super(e,r);De(this,"color",0);De(this,"tileIdx");this.color=i,this.tileIdx=o}minus(e){return new Gr(this.x-e.x,this.y-e.y,this.color,this.tileIdx)}static mulPoint(e,r){return new Gr(e.a*r.x+e.c*r.y+e.e,e.b*r.x+e.d*r.y+e.f,r.color,r.tileIdx)}}class Jr{constructor(t,e,r,i,o=0,f=-1){De(this,"x1");De(this,"y1");De(this,"x2");De(this,"y2");De(this,"connected_11");De(this,"connected_12");De(this,"connected_21");De(this,"connected_22");De(this,"color",0);De(this,"tileIdx");this.x1=t,this.y1=e,this.x2=r,this.y2=i,this.color=o,this.connected_11=[],this.connected_12=[],this.connected_21=[],this.connected_22=[],this.tileIdx=f}minus(t){return new Jr(this.x1-t.x,this.y1-t.y,this.x2-t.x,this.y2-t.y,this.color,this.tileIdx)}toString(){return"("+this.x1+" "+this.y1+") ("+this.x2+" "+this.y2+")"}}var Ta=new function(){var n=this;n.thinningZS=function(e,r,i){var o=!0;do o&=t(e,r,i,0),o&=t(e,r,i,1);while(o);return e};function t(e,r,i,o){for(var f=0,p=1;p<i-1;p++)for(var h=1;h<r-1;h++){var u=e[(p-1)*r+h]&1,g=e[(p-1)*r+h+1]&1,v=e[p*r+h+1]&1,w=e[(p+1)*r+h+1]&1,y=e[(p+1)*r+h]&1,I=e[(p+1)*r+h-1]&1,x=e[p*r+h-1]&1,N=e[(p-1)*r+h-1]&1,b=(u==0&&g==1)+(g==0&&v==1)+(v==0&&w==1)+(w==0&&y==1)+(y==0&&I==1)+(I==0&&x==1)+(x==0&&N==1)+(N==0&&u==1),M=u+g+v+w+y+I+x+N,C=o==0?u*v*y:u*v*x,A=o==0?v*y*x:u*y*x;b==1&&M>=2&&M<=6&&C==0&&A==0&&(e[p*r+h]|=2)}for(var p=0;p<i*r;p++){var Y=e[p]>>1,L=e[p]&1;e[p]=L&!Y,!f&&e[p]!=L&&(f=1)}return f}n.imageDataToBinary=function(e){e.width,e.height;for(var r=e.data,i=[],o=0;o<r.length;o+=4)r[o]||r[o+1]||r[o+2]?i.push(1):i.push(0);return i}};class Sr{constructor(t,e,r){De(this,"point");De(this,"parent",null);De(this,"children",[]);De(this,"pixel",[]);De(this,"loops",[]);De(this,"segmentRef",null);this.point=t,this.parent=e,e!=null&&e.children.push(this),this.pixel=r}}const j=class j{static updateSkelleton(t,e,r,i,o,f){if(t==null)return[];j.ctx=t,j.imgX=e,j.imgY=r,j.tileWidth=i,j.tileHeight=o,j.deviation=f;let p=t.getImageData(e,r,i,o);j.fixSmallPassages(p);let h=Ta.imageDataToBinary(p),u=Ta.thinningZS(h,i,o);j.erodeKeepCrossings(u);let{thinImagRGB:g,crossings:v,ends:w}=j.detectEndsAndCrossings(u,p),y=j.vectorize(u,v,w);j.visualizeTreeRec(y,g),j.visualizePoints(v,g,[0,255,255]),j.visualizePoints(w,g,[255,0,0]);var I=new ImageData(new Uint8ClampedArray(g),i,o);t.putImageData(I,e,r),j.subdivideTreeRec(y);let x=[];return j.segemntsFromTreeRec(y,x),x}static visualizePoints(t,e,r){t.forEach(i=>{e[j.fromXY(i.x,i.y)*4]=r[0],e[j.fromXY(i.x,i.y)*4+1]=r[1],e[j.fromXY(i.x,i.y)*4+2]=r[2]})}static detectEndsAndCrossings(t,e){let r=0,i=0,o=[],f=[],p=[];return t.forEach(h=>{let{x:u,y:g}=j.fromI(r),v=t[j.fromXY(u-1,g-1)],w=t[j.fromXY(u,g-1)],y=t[j.fromXY(u+1,g-1)],I=t[j.fromXY(u-1,g)],x=t[j.fromXY(u+1,g)],N=t[j.fromXY(u-1,g+1)],b=t[j.fromXY(u,g+1)],M=t[j.fromXY(u+1,g+1)];I&&x&&b&&!v&&!w&&!y&&!N&&!M||w&&I&&b&&!v&&!y&&!x&&!N&&!M||w&&I&&x&&!v&&!y&&!N&&!b&&!M||w&&x&&b&&!v&&!y&&!I&&!N&&!M||(y&&I&&b&&!v&&!w&&!x&&!N&&!M||w&&I&&M&&!v&&!y&&!x&&!N&&!b||w&&x&&N&&!v&&!y&&!I&&!b&&!M||v&&x&&b&&!w&&!y&&!I&&!N&&!M)||(v&&y&&b&&!w&&!I&&!x&&!N&&!M||y&&I&&M&&!v&&!w&&!x&&!N&&!b||w&&N&&M&&!v&&!y&&!I&&!x&&!b||v&&x&&N&&!w&&!y&&!I&&!b&&!M)||(v&&N&&M&&!w&&!y&&!I&&!x&&!b||v&&y&&N&&!w&&!I&&!x&&!b&&!M||v&&y&&M&&!w&&!I&&!x&&!N&&!b||y&&N&&M&&!v&&!w&&!I&&!x&&!b)?(o.push(255),o.push(0),o.push(255),o.push(255),t[r]=2,f.push(new Ve(u,g))):h&&(v&&!w&&!y&&!I&&!x&&!N&&!b&&!M||w&&!v&&!y&&!I&&!x&&!N&&!b&&!M||y&&!v&&!w&&!I&&!x&&!N&&!b&&!M||I&&!v&&!w&&!y&&!x&&!N&&!b&&!M||x&&!v&&!w&&!y&&!I&&!N&&!b&&!M||N&&!v&&!w&&!y&&!I&&!x&&!b&&!M||b&&!v&&!w&&!y&&!I&&!x&&!N&&!M||M&&!v&&!w&&!y&&!I&&!x&&!N&&!b)?(o.push(255),o.push(255),o.push(0),o.push(255),t[r]=3,p.push(new Ve(u,g))):h?(o.push(0),o.push(0),o.push(255),o.push(255)):(o.push(e.data[i]),o.push(e.data[i+1]),o.push(e.data[i+2]),o.push(255)),r++,i+=4}),{thinImagRGB:o,crossings:f,ends:p}}static erodeKeepCrossings(t){let e=0;t.forEach(r=>{let{x:i,y:o}=j.fromI(e),f=t[j.fromXY(i-1,o-1)],p=t[j.fromXY(i,o-1)],h=t[j.fromXY(i+1,o-1)],u=t[j.fromXY(i-1,o)],g=t[j.fromXY(i+1,o)],v=t[j.fromXY(i-1,o+1)],w=t[j.fromXY(i,o+1)],y=t[j.fromXY(i+1,o+1)];(r&&g&&w||r&&g&&p||r&&u&&p||r&&u&&w)&&!(u&&g&&w||p&&u&&w||p&&u&&g||p&&g&&w||(h&&u&&w||p&&u&&y||p&&g&&v||f&&g&&w)||(f&&h&&w||h&&u&&y||p&&v&&y||f&&g&&v)||(f&&v&&y||f&&h&&v||f&&h&&y||h&&v&&y))&&(t[e]=0),e++})}static isBlack(t,e){return e.data[t]==0&&e.data[t+1]==0&&e.data[t+2]==0}static fixSmallPassages(t){for(let e=0;e<t.width;e++)for(let r=0;r<t.height;r++)if(!j.isBlack(this.fromXY(e,r)*4,t)){j.isBlack(this.fromXY(e-1,r)*4,t)&&j.isBlack(this.fromXY(e+1,r)*4,t)&&j.isBlack(this.fromXY(e,r-1)*4,t)&&j.isBlack(this.fromXY(e,r+1)*4,t)&&(t.data[this.fromXY(e,r)*4]=0,t.data[this.fromXY(e,r)*4+1]=0,t.data[this.fromXY(e,r)*4+2]=0,t.data[this.fromXY(e,r)*4+3]=0);let i=[];i.push(new Ve(e-1,r-1)),i.push(new Ve(e-1,r)),i.push(new Ve(e-1,r+1)),i.push(new Ve(e,r+1)),i.push(new Ve(e+1,r+1)),i.push(new Ve(e+1,r)),i.push(new Ve(e+1,r-1)),i.push(new Ve(e,r-1));let o=j.isBlack(this.fromXY(i[0].x,i[0].y)*4,t),f=0,p=[0,0,0,0];for(let h=1;h<8;h++){let u=j.isBlack(this.fromXY(i[h].x,i[h].y)*4,t);o!=u&&(f+=1,o=u),u||(p=[t.data[this.fromXY(e,r)*4],t.data[this.fromXY(e,r)*4+1],t.data[this.fromXY(e,r)*4+2],t.data[this.fromXY(e,r)*4+3]])}if(f>3)for(let h=0;h<8;h++)t.data[this.fromXY(i[h].x,i[h].y)*4]=p[0],t.data[this.fromXY(i[h].x,i[h].y)*4+1]=p[1],t.data[this.fromXY(i[h].x,i[h].y)*4+2]=p[2],t.data[this.fromXY(i[h].x,i[h].y)*4+3]=p[3]}}static getBorderImg(t){let e=Array(t.length);for(let r=0;r<j.tileWidth;r++)for(let i=0;i<j.tileHeight;i++)t[this.fromXY(r,i)]==0&&(t[this.fromXY(r-1,i)]==1||t[this.fromXY(r+1,i)]==1||t[this.fromXY(r,i-1)]==1||t[this.fromXY(r,i+1)]==1)?e[this.fromXY(r,i)]=1:e[this.fromXY(r,i)]=0;return e}static calcNeighbourCnt16(t,e,r){t[j.fromXY(e-2,r-2)],t[j.fromXY(e-1,r-2)],t[j.fromXY(e,r-2)],t[j.fromXY(e+1,r-2)],t[j.fromXY(e+2,r-2)],t[j.fromXY(e+2,r-1)],t[j.fromXY(e+2,r)],t[j.fromXY(e+2,r+1)],t[j.fromXY(e+2,r+2)],t[j.fromXY(e+1,r+2)],t[j.fromXY(e,r+2)],t[j.fromXY(e-1,r+2)],t[j.fromXY(e-2,r+2)],t[j.fromXY(e-2,r+1)],t[j.fromXY(e-2,r)],t[j.fromXY(e-2,r-1)]}static calcNeighbourCnt8(t,e,r){let i=0;return t[j.fromXY(e-1,r-1)]&&i++,t[j.fromXY(e,r-1)]&&i++,t[j.fromXY(e+1,r-1)]&&i++,t[j.fromXY(e+1,r)]&&i++,t[j.fromXY(e+1,r+1)]&&i++,t[j.fromXY(e,r+1)]&&i++,t[j.fromXY(e-1,r+1)]&&i++,t[j.fromXY(e-1,r)]&&i++,i}static calcNeighbourCnt4(t,e,r){let i=0;return t[j.fromXY(e,r-1)]&&i++,t[j.fromXY(e+1,r)]&&i++,t[j.fromXY(e,r+1)]&&i++,t[j.fromXY(e-1,r)]&&i++,i}static fromI(t){return{x:t%j.tileWidth,y:Math.floor(t/j.tileWidth)}}static fromXY(t,e){return e*j.tileWidth+t}static vectorize(t,e,r){let i=null;if(r.length<=0){for(let f=0;f<t.length;f++)if(t[f]!=0){i=new Sr(new Ve(this.fromI(f).x,this.fromI(f).y),null,[]);break}if(i==null)return null}else i=new Sr(r[0],null,[]);return t[j.fromXY(i.point.x,i.point.y)]=4,j.get1Neighbours(t,i.point.x,i.point.y).forEach(f=>{t[j.fromXY(f.x,f.y)]<4&&j.vectorizeRec(i,f,[i.point],t,e,r)}),i}static vectorizeRec(t,e,r,i,o,f){if(r.push(e),i[j.fromXY(e.x,e.y)]==2)if(i[j.fromXY(e.x,e.y)]=5,(e.x-t.point.x)*(e.x-t.point.x)+(e.y-t.point.y)*(e.y-t.point.y)>4){let h=new Sr(e,t,r);j.get1Neighbours(i,e.x,e.y).forEach(g=>{i[j.fromXY(g.x,g.y)]<4&&j.vectorizeRec(h,g,[],i,o,f)})}else t.pixel.push(e),i[j.fromXY(t.point.x,t.point.y)]=4,t.point=e,j.get1Neighbours(i,e.x,e.y).forEach(u=>{i[j.fromXY(u.x,u.y)]<4&&j.vectorizeRec(t,u,[],i,o,f)});else if(i[j.fromXY(e.x,e.y)]==3)i[j.fromXY(e.x,e.y)]=4,new Sr(e,t,r);else if(i[j.fromXY(e.x,e.y)]==1){i[j.fromXY(e.x,e.y)]=4;let p=j.get1Neighbours(i,e.x,e.y);p.length>2&&(p=p.filter(h=>{let u=!0;return j.get1Neighbours(i,t.point.x,t.point.y).forEach(g=>{if(g.x==h.x&&g.y==h.y){u=!1;return}}),u})),f.length==0&&p.length==2&&i[j.fromXY(p[0].x,p[0].y)]==4&&i[j.fromXY(p[1].x,p[1].y)]==4&&new Sr(e,t,r),p.forEach(h=>{if(i[j.fromXY(h.x,h.y)]<4)j.vectorizeRec(t,h,r,i,o,f);else if(i[j.fromXY(h.x,h.y)]==5&&r.length>1)if(h.x==t.point.x&&h.y==t.point.y){if(r.length>=3){let u=Math.floor(r.length/2),g=new Sr(r[u],t,r.splice(0,u));t.loops.push(g)}}else{let u=new Sr(h,t,r);t.loops.push(u)}})}}static get1Neighbours(t,e,r){let i=[];return t[j.fromXY(e-1,r-1)]&&i.push(new Ve(e-1,r-1)),t[j.fromXY(e-1,r)]&&i.push(new Ve(e-1,r)),t[j.fromXY(e-1,r+1)]&&i.push(new Ve(e-1,r+1)),t[j.fromXY(e,r-1)]&&i.push(new Ve(e,r-1)),t[j.fromXY(e,r+1)]&&i.push(new Ve(e,r+1)),t[j.fromXY(e+1,r-1)]&&i.push(new Ve(e+1,r-1)),t[j.fromXY(e+1,r)]&&i.push(new Ve(e+1,r)),t[j.fromXY(e+1,r+1)]&&i.push(new Ve(e+1,r+1)),i.sort((o,f)=>t[j.fromXY(f.x,f.y)]-t[j.fromXY(o.x,o.y)])}static segemntsFromTreeRec(t,e){var r,i;if(t==null)return[];t.children.forEach(o=>{let f=new Jr(t.point.x,t.point.y,o.point.x,o.point.y);o.segmentRef=f,t.parent!=null&&(f.connected_12.push(t.segmentRef),t.segmentRef.connected_21.push(f)),e.push(f),j.segemntsFromTreeRec(o,e)});for(let o=0;o<t.children.length;o++)for(let f=0;f<t.children.length;f++)o!=f&&((r=t.children[o].segmentRef)==null||r.connected_11.push(t.children[f].segmentRef),(i=t.children[f].segmentRef)==null||i.connected_11.push(t.children[o].segmentRef));return e}static visualizeTreeRec(t,e){if(t==null)return;let r=j.getRandomColor();t.pixel.forEach(i=>{e[j.fromXY(i.x,i.y)*4]=r[0],e[j.fromXY(i.x,i.y)*4+1]=r[1],e[j.fromXY(i.x,i.y)*4+2]=r[2]}),t.children.forEach(i=>{j.visualizeTreeRec(i,e)})}static subdivideTreeRec(t){t!=null&&(t.children.forEach(e=>{if(e.pixel.length>10){let r=Math.floor(e.pixel.length/2),i=e.pixel[r],o=i.x,f=i.y,p=t.point.x,h=t.point.y,u=e.point.x,g=e.point.y,v,w=((o-p)*(u-p)+(f-h)*(g-h))/((g-h)*(g-h)+(u-p)*(u-p));if(w<0?v=Math.sqrt((p-o)*(p-o)+(h-f)*(h-f)):w>1?v=Math.sqrt((u-o)*(u-o)+(g-f)*(g-f)):v=((g-h)*o-(u-p)*f+u*h-g*p)/Math.sqrt((g-h)*(g-h)+(u-p)*(u-p)),v=Math.abs(v),v>j.deviation){let y=new Sr(i,null,[]);y.parent=t,y.children=[e],y.pixel=e.pixel.slice(0,r+1),e.pixel=e.pixel.slice(r+1,e.pixel.length);for(let I=0;I<t.children.length;I++)t.children[I]==e&&(t.children[I]=y);e.parent=y,j.subdivideTreeRec(t)}}j.subdivideTreeRec(e)}),t.loops.forEach(e=>{j.subdivideTreeRec(e)}))}static getRandomColor(){for(var t=[],e=0;e<3;e++)t.push(Math.floor(Math.random()*255));return t}};De(j,"ctx"),De(j,"imgX"),De(j,"imgY"),De(j,"tileWidth"),De(j,"tileHeight"),De(j,"deviation");let Ks=j;const ui=[];function Ls(n,t=kt){let e;const r=new Set;function i(p){if(Fn(n,p)&&(n=p,e)){const h=!ui.length;for(const u of r)u[1](),ui.push(u,n);if(h){for(let u=0;u<ui.length;u+=2)ui[u][0](ui[u+1]);ui.length=0}}}function o(p){i(p(n))}function f(p,h=kt){const u=[p,h];return r.add(u),r.size===1&&(e=t(i,o)||kt),p(n),()=>{r.delete(u),r.size===0&&e&&(e(),e=null)}}return{set:i,update:o,subscribe:f}}const Yt=new Ve(300,300);let Ms=Ls({sitePoints:[],siteSegments:[],tileWidth:Yt.x,tileHeight:Yt.y,tileCenter:new Ve(0,0),imageOffset:new Ve(0,0)}),Qs=Ls({image:null,imageData:null,imageDataProcessed:null}),Is=Ls({symGroup:"",IH:-1,origin:"",name:"",image:"",tilingScaleFactor:1,parameterNames:null}),$s=Ls([]);function Mo(n){let t=!1;for(let e=0;e<n.length;e++){for(let r=0;r<n.length;r++)if(e!=r&&yl(n[e],n[r])){console.log("intersect "+n[e].toString()+" "+n[r].toString()),t=!0;break}if(t)break}return t}function yl(n,t){let e=((n.x1-t.x1)*(t.y1-t.y2)-(n.y1-t.y1)*(t.x1-t.x2))/((n.x1-n.x2)*(t.y1-t.y2)-(n.y1-n.y2)*(t.x1-t.x2)),r=-((n.x1-n.x2)*(n.y1-t.y1)-(n.y1-n.y2)*(n.x1-t.x1))/((n.x1-n.x2)*(t.y1-t.y2)-(n.y1-n.y2)*(t.x1-t.x2)),i=0<e&&e<1&&0<r&&r<1;return i&&(n.x1==t.x1&&n.y1==t.y1||n.x1==t.x1&&n.y2==t.y2||n.x2==t.x2&&n.y1==t.y1||n.x2==t.x2&&n.y2==t.y2)?(console.log("intersect is at endpoint"),!1):i}const wl="/escherization/assets/Tux-DF1pLvDX.png";function Sa(n,t,e){const r=n.slice();return r[56]=t[e],r[58]=e,r}function Ea(n,t,e){const r=n.slice();return r[59]=t[e],r[58]=e,r}function Ca(n,t,e){const r=n.slice();return r[61]=t[e],r[58]=e,r}function kl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">open_with</span>',d(t,"class","bg-slate-50 hover:bg-slate-200 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){Z(i,t,o),e||(r=ie(t,"click",n[27]),e=!0)},p:kt,d(i){i&&q(t),e=!1,r()}}}function Tl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">open_with</span>',d(t,"class","bg-sky-500 hover:bg-sky-300 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){Z(i,t,o),e||(r=ie(t,"click",n[26]),e=!0)},p:kt,d(i){i&&q(t),e=!1,r()}}}function Sl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">add</span> <div class="relative -top-4 left-3 text-xs">S</div>',d(t,"class","bg-slate-50 hover:bg-slate-200 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){Z(i,t,o),e||(r=ie(t,"click",n[29]),e=!0)},p:kt,d(i){i&&q(t),e=!1,r()}}}function El(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">add</span> <div class="relative -top-4 left-3 text-xs">S</div>',d(t,"class","bg-sky-500 hover:bg-sky-300 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){Z(i,t,o),e||(r=ie(t,"click",n[28]),e=!0)},p:kt,d(i){i&&q(t),e=!1,r()}}}function Cl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">delete</span>',d(t,"class","bg-slate-50 hover:bg-slate-200 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){Z(i,t,o),e||(r=ie(t,"click",n[31]),e=!0)},p:kt,d(i){i&&q(t),e=!1,r()}}}function Pl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">delete</span>',d(t,"class","bg-sky-500 hover:bg-sky-300 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){Z(i,t,o),e||(r=ie(t,"click",n[30]),e=!0)},p:kt,d(i){i&&q(t),e=!1,r()}}}function Pa(n){let t,e,r,i,o;return{c(){t=ct("circle"),d(t,"id","sitePoint_"+n[58]),d(t,"class","sitePoint draggable svelte-1nasrnd"),d(t,"style",n[15]),d(t,"cx",e=n[61].x),d(t,"cy",r=n[61].y),d(t,"r","2"),d(t,"fill","black")},m(f,p){Z(f,t,p),i||(o=ie(t,"click",n[33]),i=!0)},p(f,p){p[0]&32768&&d(t,"style",f[15]),p[0]&1024&&e!==(e=f[61].x)&&d(t,"cx",e),p[0]&1024&&r!==(r=f[61].y)&&d(t,"cy",r)},d(f){f&&q(t),i=!1,o()}}}function Fa(n){let t,e,r,i,o,f,p,h,u,g;return{c(){t=ct("path"),r=ct("circle"),f=ct("circle"),d(t,"id","siteSegment_"+n[58]),d(t,"d",e="M "+n[59].x1+" "+n[59].y1+" L "+n[59].x2+" "+n[59].y2),d(t,"stroke","red"),d(t,"stroke-width","1"),d(t,"fill","none"),d(r,"id","siteSegmentPoint_"+n[58]*2),d(r,"class","siteSegmentPoint draggable svelte-1nasrnd"),d(r,"style",n[15]),d(r,"cx",i=n[59].x1),d(r,"cy",o=n[59].y1),d(r,"r","4"),d(r,"fill","red"),d(f,"id","siteSegmentPoint_"+(n[58]*2+1)),d(f,"class","siteSegmentPoint draggable svelte-1nasrnd"),d(f,"style",n[15]),d(f,"cx",p=n[59].x2),d(f,"cy",h=n[59].y2),d(f,"r","4"),d(f,"fill","red")},m(v,w){Z(v,t,w),Z(v,r,w),Z(v,f,w),u||(g=[ie(r,"click",n[34]),ie(f,"click",n[35])],u=!0)},p(v,w){w[0]&2048&&e!==(e="M "+v[59].x1+" "+v[59].y1+" L "+v[59].x2+" "+v[59].y2)&&d(t,"d",e),w[0]&32768&&d(r,"style",v[15]),w[0]&2048&&i!==(i=v[59].x1)&&d(r,"cx",i),w[0]&2048&&o!==(o=v[59].y1)&&d(r,"cy",o),w[0]&32768&&d(f,"style",v[15]),w[0]&2048&&p!==(p=v[59].x2)&&d(f,"cx",p),w[0]&2048&&h!==(h=v[59].y2)&&d(f,"cy",h)},d(v){v&&(q(t),q(r),q(f)),u=!1,cn(g)}}}function Ia(n){let t,e,r,i,o,f,p,h;return{c(){t=ct("path"),r=ct("circle"),f=ct("circle"),d(t,"d",e="M "+n[12].x1+" "+n[12].y1+" L "+n[12].x2+" "+n[12].y2),d(t,"stroke","red"),d(t,"stroke-width","1"),d(t,"fill","none"),d(r,"class","siteSegmentPoint draggable svelte-1nasrnd"),d(r,"cx",i=n[12].x1),d(r,"cy",o=n[12].y1),d(r,"r","2"),d(r,"fill","red"),d(f,"class","siteSegmentPoint draggable svelte-1nasrnd"),d(f,"cx",p=n[12].x2),d(f,"cy",h=n[12].y2),d(f,"r","2"),d(f,"fill","red")},m(u,g){Z(u,t,g),Z(u,r,g),Z(u,f,g)},p(u,g){g[0]&4096&&e!==(e="M "+u[12].x1+" "+u[12].y1+" L "+u[12].x2+" "+u[12].y2)&&d(t,"d",e),g[0]&4096&&i!==(i=u[12].x1)&&d(r,"cx",i),g[0]&4096&&o!==(o=u[12].y1)&&d(r,"cy",o),g[0]&4096&&p!==(p=u[12].x2)&&d(f,"cx",p),g[0]&4096&&h!==(h=u[12].y2)&&d(f,"cy",h)},d(u){u&&(q(t),q(r),q(f))}}}function Aa(n){let t,e;return{c(){t=ct("path"),d(t,"id","outline_"+n[58]),d(t,"d",e="M "+n[56].startPoint.x+" "+n[56].startPoint.y+" L "+n[56].endPoint.x+" "+n[56].endPoint.y),d(t,"stroke","yellow"),d(t,"stroke-width","2"),d(t,"fill","none")},m(r,i){Z(r,t,i)},p(r,i){i[0]&16384&&e!==(e="M "+r[56].startPoint.x+" "+r[56].startPoint.y+" L "+r[56].endPoint.x+" "+r[56].endPoint.y)&&d(t,"d",e)},d(r){r&&q(t)}}}function Fl(n){let t,e,r,i,o,f,p,h,u,g,v,w,y,I,x,N,b,M,C,A,Y,L,W,ne,ee,Ee,ye,be,he,fe,G,Ce,Pe,ge,dt,K,Ne,qe,Oe,tt,nt,Xe,zt,Et;function we(U,ue){return U[8]=="move"?Tl:kl}let B=we(n),rt=B(n);function Nt(U,ue){return U[8]=="addSegment"?El:Sl}let Qe=Nt(n),se=Qe(n);function Fe(U,ue){return U[8]=="delete"?Pl:Cl}let Bt=Fe(n),Le=Bt(n),Ot=Mt(n[10]),_t=[];for(let U=0;U<Ot.length;U+=1)_t[U]=Pa(Ca(n,Ot,U));let ft=Mt(n[11]),pt=[];for(let U=0;U<ft.length;U+=1)pt[U]=Fa(Ea(n,ft,U));let He=n[12]!=null&&Ia(n),H=Mt(n[14]),te=[];for(let U=0;U<H.length;U+=1)te[U]=Aa(Sa(n,H,U));return G=new ur({props:{min:1,max:50,initialValue:n[7]}}),G.$on("change",n[37]),{c(){t=O("div"),e=O("div"),r=O("div"),i=O("div"),rt.c(),o=Q(),se.c(),f=Q(),Le.c(),p=Q(),h=O("div"),u=O("canvas"),g=Q(),v=O("div"),w=ct("svg"),y=ct("g"),I=ct("rect"),N=ct("circle");for(let U=0;U<_t.length;U+=1)_t[U].c();C=Dt();for(let U=0;U<pt.length;U+=1)pt[U].c();A=Dt(),He&&He.c(),Y=Dt();for(let U=0;U<te.length;U+=1)te[U].c();W=Q(),ne=O("div"),ee=O("p"),Ee=Vt(n[13]),ye=Q(),be=O("div"),he=O("label"),he.textContent="Deviation Tolerance",fe=Q(),lt(G.$$.fragment),Ce=Q(),Pe=O("button"),Pe.innerHTML=`<span class="material-symbols-outlined me-2">upload</span>
            Upload Image`,ge=Q(),dt=O("button"),dt.innerHTML=`<span class="material-symbols-outlined me-2">image</span>
            Use Example Image`,K=Q(),Ne=O("button"),Ne.innerHTML=`<span class="material-symbols-outlined me-2">download</span>
            Download Image`,qe=Q(),Oe=O("button"),Oe.innerHTML=`<span class="material-symbols-outlined me-2">download</span>
            Download SVG`,tt=Q(),nt=O("input"),d(i,"class","tools flex flex-col"),d(u,"class","uploadCanvas bg-slate-50 border border-sky-600 col-start-1 row-start-1"),d(u,"width",Yt.x),d(u,"height",Yt.y),Ht(u,"width",Yt.x+"px"),Ht(u,"height",Yt.y+"px"),d(I,"width",n[3]),d(I,"height",n[4]),d(I,"class","svgBackground svelte-1nasrnd"),d(I,"style",x=n[15]+";fill:none"),d(I,"role","none"),d(N,"class","tileCenter draggable svelte-1nasrnd"),d(N,"style",n[15]),d(N,"id","origin"),d(N,"cx",b=n[9].x),d(N,"cy",M=n[9].y),d(N,"r","5"),d(N,"fill","pink"),d(y,"transform",L="translate("+n[5]+" "+n[6]+")"),d(w,"id","previewSvg"),d(w,"width",Yt.x),d(w,"height",Yt.y),d(w,"viewBox","0 0 "+Yt.x+" "+Yt.y),d(w,"xmlns","http://www.w3.org/2000/svg"),d(v,"class","overdrawSvg col-start-1 row-start-1"),d(ee,"class","text-red-700 text-sm break-words"),d(ne,"class","lastErrorContainer max-w-72"),d(h,"class","grid grid-cols-1"),d(r,"class","flex flex-row items-center"),d(he,"for","basic-range"),d(be,"class","resolution-slider min-w-72 font-sans text-center text-black"),dr(be,"purple-theme",!1),d(Pe,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(dt,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-center inline-flex items-center min-w-52"),d(Ne,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(Oe,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(nt,"type","file"),Ht(nt,"display","none"),d(nt,"accept",".jpg, .jpeg, .png"),d(e,"class","flex flex-col items-center gap-4 place-content-start")},m(U,ue){Z(U,t,ue),E(t,e),E(e,r),E(r,i),rt.m(i,null),E(i,o),se.m(i,null),E(i,f),Le.m(i,null),E(r,p),E(r,h),E(h,u),n[32](u),E(h,g),E(h,v),E(v,w),E(w,y),E(y,I),E(y,N);for(let Se=0;Se<_t.length;Se+=1)_t[Se]&&_t[Se].m(y,null);E(y,C);for(let Se=0;Se<pt.length;Se+=1)pt[Se]&&pt[Se].m(y,null);E(y,A),He&&He.m(y,null),E(y,Y);for(let Se=0;Se<te.length;Se+=1)te[Se]&&te[Se].m(y,null);n[36](v),E(h,W),E(h,ne),E(ne,ee),E(ee,Ee),E(e,ye),E(e,be),E(be,he),E(be,fe),st(G,be,null),E(e,Ce),E(e,Pe),E(e,ge),E(e,dt),E(e,K),E(e,Ne),E(e,qe),E(e,Oe),E(e,tt),E(e,nt),n[43](nt),Xe=!0,zt||(Et=[ie(w,"load",n[21]),ie(Pe,"click",n[38]),ie(dt,"click",n[39]),ie(Ne,"click",n[40]),ie(Oe,"click",n[41]),ie(nt,"change",n[42])],zt=!0)},p(U,ue){if(B===(B=we(U))&&rt?rt.p(U,ue):(rt.d(1),rt=B(U),rt&&(rt.c(),rt.m(i,o))),Qe===(Qe=Nt(U))&&se?se.p(U,ue):(se.d(1),se=Qe(U),se&&(se.c(),se.m(i,f))),Bt===(Bt=Fe(U))&&Le?Le.p(U,ue):(Le.d(1),Le=Bt(U),Le&&(Le.c(),Le.m(i,null))),(!Xe||ue[0]&8)&&d(I,"width",U[3]),(!Xe||ue[0]&16)&&d(I,"height",U[4]),(!Xe||ue[0]&32768&&x!==(x=U[15]+";fill:none"))&&d(I,"style",x),(!Xe||ue[0]&32768)&&d(N,"style",U[15]),(!Xe||ue[0]&512&&b!==(b=U[9].x))&&d(N,"cx",b),(!Xe||ue[0]&512&&M!==(M=U[9].y))&&d(N,"cy",M),ue[0]&16811008){Ot=Mt(U[10]);let ce;for(ce=0;ce<Ot.length;ce+=1){const ze=Ca(U,Ot,ce);_t[ce]?_t[ce].p(ze,ue):(_t[ce]=Pa(ze),_t[ce].c(),_t[ce].m(y,C))}for(;ce<_t.length;ce+=1)_t[ce].d(1);_t.length=Ot.length}if(ue[0]&8423424){ft=Mt(U[11]);let ce;for(ce=0;ce<ft.length;ce+=1){const ze=Ea(U,ft,ce);pt[ce]?pt[ce].p(ze,ue):(pt[ce]=Fa(ze),pt[ce].c(),pt[ce].m(y,A))}for(;ce<pt.length;ce+=1)pt[ce].d(1);pt.length=ft.length}if(U[12]!=null?He?He.p(U,ue):(He=Ia(U),He.c(),He.m(y,Y)):He&&(He.d(1),He=null),ue[0]&16384){H=Mt(U[14]);let ce;for(ce=0;ce<H.length;ce+=1){const ze=Sa(U,H,ce);te[ce]?te[ce].p(ze,ue):(te[ce]=Aa(ze),te[ce].c(),te[ce].m(y,null))}for(;ce<te.length;ce+=1)te[ce].d(1);te.length=H.length}(!Xe||ue[0]&96&&L!==(L="translate("+U[5]+" "+U[6]+")"))&&d(y,"transform",L),(!Xe||ue[0]&8192)&&Bn(Ee,U[13]);const Se={};ue[0]&128&&(Se.initialValue=U[7]),G.$set(Se)},i(U){Xe||(_e(G.$$.fragment,U),Xe=!0)},o(U){Te(G.$$.fragment,U),Xe=!1},d(U){U&&q(t),rt.d(),se.d(),Le.d(),n[32](null),Mn(_t,U),Mn(pt,U),He&&He.d(),Mn(te,U),n[36](null),at(G),n[43](null),zt=!1,cn(Et)}}}function Il(n,t,e){let r,i,o,f,p=null,h,u,g=300,v=300,w=0,y=0,I=40,x="move",N={cursorDraggable:"move",cursorBackground:"default"},b=new Ve(g/2,v/2),M=[],C=[],A=null,Y="",L="",W=[];function ne(){e(11,C=Ks.updateSkelleton(p,w,y,g,v,I)),ee()}function ee(){Mo(C)?(e(13,Y="Site Intersection in Input detected, please remove intersections"),Ms.set({sitePoints:[],siteSegments:[],tileWidth:g,tileHeight:v,tileCenter:b,imageOffset:new Ve(w,y)})):(e(13,Y=""),Ms.set({sitePoints:M.map(H=>Ce(H,b)),siteSegments:C.map(H=>Pe(H,b)),tileWidth:g,tileHeight:v,tileCenter:b,imageOffset:new Ve(w,y)}))}function Ee(){L=="center"?e(9,b=new Ve(g/2,v/2)):L=="ul"&&e(9,b=new Ve(0,0)),ee()}function ye(H){Promise.resolve().then(()=>he(H))}function be(){u=new Image,u.onload=()=>Promise.resolve().then(()=>{p=f.getContext("2d",{willReadFrequently:!0}),p==null||p.clearRect(0,0,Yt.x,Yt.y);let H=fe(u);Ee(),ne();let te=p.getImageData(w,y,g,v);Qs.set({image:u,imageData:H,imageDataProcessed:te})}),u.src=wl}function he(H){var U;e(10,M=[]);let te=(U=H.target)==null?void 0:U.files[0];if(te){let ue=new FileReader;ue.readAsDataURL(te),ue.onload=Se=>{var ce;i=(ce=Se.target)==null?void 0:ce.result,u=new Image,u.onload=()=>Promise.resolve().then(()=>{p=f.getContext("2d",{willReadFrequently:!0}),p==null||p.clearRect(0,0,Yt.x,Yt.y);let ze=fe(u);Ee(),ne();let It=p.getImageData(w,y,g,v);Qs.set({image:u,imageData:ze,imageDataProcessed:It})}),u.src=i}}}function fe(H){if(p==null)return null;let te=p.canvas,U=te.width/H.width,ue=te.height/H.height,Se=Math.min(U,ue),ce=(te.width-H.width*Se)/2,ze=(te.height-H.height*Se)/2;e(3,g=Math.floor(H.width*Se)),e(4,v=Math.floor(H.height*Se)),e(5,w=Math.floor(ce)),e(6,y=Math.floor(ze));let It=document.createElement("canvas"),Ae=It.getContext("2d");It.width=H.width,It.height=H.height,Ae.drawImage(H,0,0);let xe=Ae.getImageData(0,0,H.width,H.height),Re=[];for(let mt=0;mt<v;mt++)for(let Tt=0;Tt<g;Tt++){let it=(Math.round(mt/Se)*H.width+Math.round(Tt/Se))*4;Re.push(xe.data[it]),Re.push(xe.data[it+1]),Re.push(xe.data[it+2]),Re.push(xe.data[it+3])}let Ze=new ImageData(new Uint8ClampedArray(Re),g,v);return p.putImageData(Ze,w,y),Ze}function G(H){e(7,I=H),Promise.resolve().then(ne)}function Ce(H,te){return new Gr(H.x-te.x,H.y-te.y,H.tileIdx)}function Pe(H,te){return new Jr(H.x1-te.x,H.y1-te.y,H.x2-te.x,H.y2-te.y,H.tileIdx)}function ge(){var H=document.createElement("a");H.download="canvas.png",H.href=f.toDataURL(),H.click()}function dt(H){return or(_s(Yt.x/H.width,Yt.y/H.height,0,0))}function K(){const H=document.getElementById("previewSvg");if(H!=null){let U=H.appendChild(document.createElement("defs")).appendChild(document.createElement("pattern"));U.setAttribute("id","patternBackground"),U.setAttribute("patternContentUnits","userSpaceOnUse"),U.setAttribute("patternUnits","userSpaceOnUse"),U.setAttribute("patternTransform",ms(dt(u))),U.setAttribute("width","1"),U.setAttribute("height","1");let ue=U.appendChild(document.createElement("image"));ue.setAttribute("href",u.src),ue.setAttribute("x",String(0)),ue.setAttribute("y",String(0)),ue.setAttribute("width",String(g)),ue.setAttribute("height",String(v));let Se=H.insertBefore(document.createElement("rect"),H.firstChild);Se.setAttribute("x",String(w)),Se.setAttribute("y",String(y)),Se.setAttribute("width",String(g)),Se.setAttribute("height",String(v)),Se.setAttribute("fill","url(#patternBackground)");const ce=new Blob([H.outerHTML],{type:"image/svg+xml"}),ze=document.createElement("a");ze.href=URL.createObjectURL(ce),ze.download="preview.svg",ze.click()}}function Ne(H){var te=null,U=null,ue=H.target;ue.addEventListener("mousedown",Se),ue.addEventListener("mousemove",ce),ue.addEventListener("mouseup",ze),ue.addEventListener("mouseleave",ze),ue.addEventListener("touchstart",Se),ue.addEventListener("touchmove",ce),ue.addEventListener("touchend",ze),ue.addEventListener("touchcancel",ze);function Se(Ae){x=="move"?Ae.target.classList.contains("draggable")&&(te=Ae.target,U=It(Ae),U.x-=parseFloat(te.getAttributeNS(null,"cx")),U.y-=parseFloat(te.getAttributeNS(null,"cy"))):x=="add"?(e(10,M=[...M,new Gr(Ae.offsetX-w,Ae.offsetY-y)]),ee()):x=="addSegment"&&(A==null?e(12,A=new Jr(Ae.offsetX-w,Ae.offsetY-y,Ae.offsetX-w,Ae.offsetY-y)):(e(12,A.x2=Ae.offsetX-w,A),e(12,A.y2=Ae.offsetY-y,A),e(11,C=[...C,A]),e(12,A=null),ee()))}function ce(Ae){if(te!=null){Ae.preventDefault();var xe=It(Ae);if(te.classList.contains("tileCenter"))te.setAttributeNS(null,"cx",xe.x-U.x),te.setAttributeNS(null,"cy",xe.y-U.y),e(9,b.x=xe.x-U.x,b),e(9,b.y=xe.y-U.y,b);else if(te.classList.contains("sitePoint")){te.setAttributeNS(null,"cx",xe.x-U.x),te.setAttributeNS(null,"cy",xe.y-U.y);let Re=Number(te.id.substring(10));e(10,M[Re].x=xe.x-U.x,M),e(10,M[Re].y=xe.y-U.y,M)}else if(te.classList.contains("siteSegmentPoint")){te.setAttributeNS(null,"cx",xe.x-U.x),te.setAttributeNS(null,"cy",xe.y-U.y);let Re=Number(te.id.substring(17)),Ze;Re%2==0?(Ze=C[Re/2],Ze.x1=xe.x-U.x,Ze.y1=xe.y-U.y,Ze.connected_12.forEach(mt=>{mt.x2=Ze.x1,mt.y2=Ze.y1}),Ze.connected_11.forEach(mt=>{mt.x1=Ze.x1,mt.y1=Ze.y1})):(Ze=C[(Re-1)/2],Ze.x2=xe.x-U.x,Ze.y2=xe.y-U.y,Ze.connected_21.forEach(mt=>{mt.x1=Ze.x2,mt.y1=Ze.y2}),Ze.connected_22.forEach(mt=>{mt.x2=Ze.x2,mt.y2=Ze.y2})),e(11,C=[...C])}}if(A!=null){var xe=It(Ae);e(12,A.x2=xe.x-w,A),e(12,A.y2=xe.y-y,A),e(12,A)}}function ze(Ae){x=="move"&&te!=null&&(te=null,ee())}function It(Ae){var xe=ue.getScreenCTM();let Re=0,Ze=0;return Ae.touches&&Ae.touches[0]&&!Number.isNaN(Ae.touches[0].clientX)&&Ae.touches[0].clientY?(Re=Ae.touches[0].clientX,Ze=Ae.touches[0].clientY):!Number.isNaN(Ae.clientX)&&!Number.isNaN(Ae.clientX)?(Re=Ae.clientX,Ze=Ae.clientY):console.log(Ae),{x:(Re-xe.e)/xe.a,y:(Ze-xe.f)/xe.d}}}function qe(H){e(8,x=H),x=="move"?(e(25,N.cursorDraggable="move",N),e(25,N.cursorBackground="default",N)):x=="add"||x=="addSegment"?(e(25,N.cursorDraggable="default",N),e(25,N.cursorBackground="crosshair",N)):x=="delete"&&(e(25,N.cursorDraggable="default",N),e(25,N.cursorBackground="default",N)),x!="addSegment"&&e(12,A=null)}function Oe(H){if(x=="delete"&&H.target.classList.contains("siteSegmentPoint")){let te=Number(H.target.id.substring(17));te%2==0?te=te/2:te=(te-1)/2,C.splice(te,1),e(11,C=[...C]),ee()}}function tt(H){if(console.log("sitePointClick"),x=="delete"&&H.target.classList.contains("sitePoint")){let te=Number(H.target.id.substring(10));M.splice(te,1),e(10,M),ee()}}Ao(async()=>{Is.subscribe(H=>{L=H.origin,Ee()}),$s.subscribe(H=>{e(14,W=H)}),ee()});const nt=()=>{qe("move")},Xe=()=>{qe("move")},zt=()=>{qe("addSegment")},Et=()=>{qe("addSegment")},we=()=>{qe("delete")},B=()=>{qe("delete")};function rt(H){St[H?"unshift":"push"](()=>{f=H,e(1,f)})}const Nt=H=>tt(H),Qe=H=>Oe(H),se=H=>Oe(H);function Fe(H){St[H?"unshift":"push"](()=>{h=H,e(2,h)})}const Bt=H=>G(H.detail.value),Le=()=>{o.click()},Ot=()=>{be()},_t=()=>{ge()},ft=()=>{K()},pt=H=>ye(H);function He(H){St[H?"unshift":"push"](()=>{o=H,e(0,o)})}return n.$$.update=()=>{n.$$.dirty[0]&33554432&&e(15,r=Object.entries(N).map(([H,te])=>`--${H}:${te}`).join(";"))},[o,f,h,g,v,w,y,I,x,b,M,C,A,Y,W,r,ye,be,G,ge,K,Ne,qe,Oe,tt,N,nt,Xe,zt,Et,we,B,rt,Nt,Qe,se,Fe,Bt,Le,Ot,_t,ft,pt,He]}class Al extends Ln{constructor(t){super(),On(this,t,Il,Fl,Fn,{},null,[-1,-1,-1])}}var xl=(()=>{var n=import.meta.url;return function(t={}){var e=t,r,i;e.ready=new Promise((l,c)=>{r=l,i=c}),["getExceptionMessage","$incrementExceptionRefcount","$decrementExceptionRefcount","_memory","__Z7computeNSt3__26vectorIdNS_9allocatorIdEEEENS0_IiNS1_IiEEEES5_S5_S5_S5_S5_","___indirect_function_table","onRuntimeInitialized"].forEach(l=>{Object.getOwnPropertyDescriptor(e.ready,l)||Object.defineProperty(e.ready,l,{get:()=>we("You are getting "+l+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>we("You are setting "+l+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var o=Object.assign({},e),f=!0,p=!1,h=!1,u=!1;if(e.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var g="";function v(l){return e.locateFile?e.locateFile(l,g):g+l}if(typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),n&&(g=n),g.startsWith("blob:")?g="":g=g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1),!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var w=e.print||console.log.bind(console),y=e.printErr||console.error.bind(console);Object.assign(e,o),o=null,Bi(),e.arguments&&e.arguments,H("arguments","arguments_"),e.thisProgram&&e.thisProgram,H("thisProgram","thisProgram"),e.quit&&e.quit,H("quit","quit_"),b(typeof e.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),b(typeof e.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),b(typeof e.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),b(typeof e.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),b(typeof e.read>"u","Module.read option was removed (modify read_ in JS)"),b(typeof e.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),b(typeof e.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),b(typeof e.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),b(typeof e.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),H("asm","wasmExports"),H("read","read_"),H("readAsync","readAsync"),H("readBinary","readBinary"),H("setWindowTitle","setWindowTitle"),b(!p,"worker environment detected but not enabled at build time.  Add `worker` to `-sENVIRONMENT` to enable."),b(!h,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),b(!u,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var I;e.wasmBinary&&(I=e.wasmBinary),H("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&y("no native wasm support detected");var x,N=!1;function b(l,c){l||we("Assertion failed"+(c?": "+c:""))}var M,C,A,Y,L,W,ne,ee;function Ee(){var l=x.buffer;e.HEAP8=M=new Int8Array(l),e.HEAP16=A=new Int16Array(l),e.HEAPU8=C=new Uint8Array(l),e.HEAPU16=Y=new Uint16Array(l),e.HEAP32=L=new Int32Array(l),e.HEAPU32=W=new Uint32Array(l),e.HEAPF32=ne=new Float32Array(l),e.HEAPF64=ee=new Float64Array(l)}b(!e.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),b(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),b(!e.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),b(!e.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function ye(){var l=ir();b((l&3)==0),l==0&&(l+=4),W[l>>2]=34821223,W[l+4>>2]=2310721022,W[0]=1668509029}function be(){if(!N){var l=ir();l==0&&(l+=4);var c=W[l>>2],k=W[l+4>>2];(c!=34821223||k!=2310721022)&&we(`Stack overflow! Stack cookie has been overwritten at ${Tt(l)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Tt(k)} ${Tt(c)}`),W[0]!=1668509029&&we("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var l=new Int16Array(1),c=new Int8Array(l.buffer);if(l[0]=25459,c[0]!==115||c[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var he=[],fe=[],G=[],Ce=!1;function Pe(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)K(e.preRun.shift());ze(he)}function ge(){b(!Ce),Ce=!0,be(),ze(fe)}function dt(){if(be(),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)qe(e.postRun.shift());ze(G)}function K(l){he.unshift(l)}function Ne(l){fe.unshift(l)}function qe(l){G.unshift(l)}b(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),b(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),b(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),b(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Oe=0,tt=null,nt=null,Xe={};function zt(l){var c;Oe++,(c=e.monitorRunDependencies)==null||c.call(e,Oe),l?(b(!Xe[l]),Xe[l]=1,tt===null&&typeof setInterval<"u"&&(tt=setInterval(()=>{if(N){clearInterval(tt),tt=null;return}var k=!1;for(var F in Xe)k||(k=!0,y("still waiting on run dependencies:")),y(`dependency: ${F}`);k&&y("(end of list)")},1e4))):y("warning: run dependency added without ID")}function Et(l){var k;if(Oe--,(k=e.monitorRunDependencies)==null||k.call(e,Oe),l?(b(Xe[l]),delete Xe[l]):y("warning: run dependency removed without ID"),Oe==0&&(tt!==null&&(clearInterval(tt),tt=null),nt)){var c=nt;nt=null,c()}}function we(l){var k;(k=e.onAbort)==null||k.call(e,l),l="Aborted("+l+")",y(l),N=!0;var c=new WebAssembly.RuntimeError(l);throw i(c),c}var B={error(){we("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){B.error()},createDataFile(){B.error()},createPreloadedFile(){B.error()},createLazyFile(){B.error()},open(){B.error()},mkdev(){B.error()},registerDevice(){B.error()},analyzePath(){B.error()},ErrnoError(){B.error()}};e.FS_createDataFile=B.createDataFile,e.FS_createPreloadedFile=B.createPreloadedFile;var rt="data:application/octet-stream;base64,",Nt=l=>l.startsWith(rt),Qe=l=>l.startsWith("file://");function se(l){return(...c)=>{b(Ce,`native function \`${l}\` called before runtime initialization`);var k=Zt[l];return b(k,`exported native function \`${l}\` not found`),k(...c)}}class Fe extends Error{}class Bt extends Fe{constructor(c){super(c),this.excPtr=c;const k=mt(c);this.name=k[0],this.message=k[1]}}var Le;e.locateFile?(Le="wasmVoronoi.wasm",Nt(Le)||(Le=v(Le))):Le=new URL("/escherization/assets/wasmVoronoi-CX9t0Qq6.wasm",import.meta.url).href;function Ot(l){if(l==Le&&I)return new Uint8Array(I);throw"both async and sync fetching of the wasm failed"}function _t(l){return!I&&f&&typeof fetch=="function"?fetch(l,{credentials:"same-origin"}).then(c=>{if(!c.ok)throw`failed to load wasm binary file at '${l}'`;return c.arrayBuffer()}).catch(()=>Ot(l)):Promise.resolve().then(()=>Ot(l))}function ft(l,c,k){return _t(l).then(F=>WebAssembly.instantiate(F,c)).then(k,F=>{y(`failed to asynchronously prepare wasm: ${F}`),Qe(Le)&&y(`warning: Loading from a file URI (${Le}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),we(F)})}function pt(l,c,k,F){return!l&&typeof WebAssembly.instantiateStreaming=="function"&&!Nt(c)&&typeof fetch=="function"?fetch(c,{credentials:"same-origin"}).then(s=>{var a=WebAssembly.instantiateStreaming(s,k);return a.then(F,function(_){return y(`wasm streaming compile failed: ${_}`),y("falling back to ArrayBuffer instantiation"),ft(c,k,F)})}):ft(c,k,F)}function He(){var l={env:jr,wasi_snapshot_preview1:jr};function c(s,a){return Zt=s.exports,x=Zt.memory,b(x,"memory not found in wasm exports"),Ee(),Wn=Zt.__indirect_function_table,b(Wn,"table not found in wasm exports"),Ne(Zt.__wasm_call_ctors),Et("wasm-instantiate"),Zt}zt("wasm-instantiate");var k=e;function F(s){b(e===k,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),k=null,c(s.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(l,c)}catch(s){y(`Module.instantiateWasm callback failed with error: ${s}`),i(s)}return pt(I,Le,l,F).catch(i),{}}function H(l,c,k=!0){Object.getOwnPropertyDescriptor(e,l)||Object.defineProperty(e,l,{configurable:!0,get(){let F=k?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";we(`\`Module.${l}\` has been replaced by \`${c}\``+F)}})}function te(l){Object.getOwnPropertyDescriptor(e,l)&&we(`\`Module.${l}\` was supplied but \`${l}\` not included in INCOMING_MODULE_JS_API`)}function U(l){return l==="FS_createPath"||l==="FS_createDataFile"||l==="FS_createPreloadedFile"||l==="FS_unlink"||l==="addRunDependency"||l==="FS_createLazyFile"||l==="FS_createDevice"||l==="removeRunDependency"}function ue(l,c){typeof globalThis<"u"&&Object.defineProperty(globalThis,l,{configurable:!0,get(){it(`\`${l}\` is not longer defined by emscripten. ${c}`)}})}ue("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),ue("asm","Please use wasmExports instead");function Se(l){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,l)&&Object.defineProperty(globalThis,l,{configurable:!0,get(){var c=`\`${l}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,k=l;k.startsWith("_")||(k="$"+l),c+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${k}')`,U(l)&&(c+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),it(c)}}),ce(l)}function ce(l){Object.getOwnPropertyDescriptor(e,l)||Object.defineProperty(e,l,{configurable:!0,get(){var c=`'${l}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;U(l)&&(c+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),we(c)}})}var ze=l=>{for(;l.length>0;)l.shift()(e)},It=l=>{var c=Be(),k=l();return Ye(c),k},Ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,xe=(l,c,k)=>{for(var F=c+k,s=c;l[s]&&!(s>=F);)++s;if(s-c>16&&l.buffer&&Ae)return Ae.decode(l.subarray(c,s));for(var a="";c<s;){var _=l[c++];if(!(_&128)){a+=String.fromCharCode(_);continue}var m=l[c++]&63;if((_&224)==192){a+=String.fromCharCode((_&31)<<6|m);continue}var T=l[c++]&63;if((_&240)==224?_=(_&15)<<12|m<<6|T:((_&248)!=240&&it("Invalid UTF-8 leading byte "+Tt(_)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),_=(_&7)<<18|m<<12|T<<6|l[c++]&63),_<65536)a+=String.fromCharCode(_);else{var S=_-65536;a+=String.fromCharCode(55296|S>>10,56320|S&1023)}}return a},Re=(l,c)=>(b(typeof l=="number",`UTF8ToString expects a number (got ${typeof l})`),l?xe(C,l,c):""),Ze=l=>It(()=>{var c=kn(4),k=kn(4);Gi(l,c,k);var F=W[c>>2],s=W[k>>2],a=Re(F);Ut(F);var _;return s&&(_=Re(s),Ut(s)),[a,_]}),mt=l=>Ze(l);e.getExceptionMessage=mt,e.noExitRuntime;var Tt=l=>(b(typeof l=="number"),l>>>=0,"0x"+l.toString(16).padStart(8,"0")),it=l=>{it.shown||(it.shown={}),it.shown[l]||(it.shown[l]=1,y(l))},nn=(l,c,k,F)=>{we(`Assertion failed: ${Re(l)}, at: `+[c?Re(c):"unknown filename",k,F?Re(F):"unknown function"])},In=l=>{var c=new rn(l);return c.get_caught()||c.set_caught(!0),c.set_rethrown(!1),ni(c.excPtr),c.get_exception_ptr()},At=0;class rn{constructor(c){this.excPtr=c,this.ptr=c-24}set_type(c){W[this.ptr+4>>2]=c}get_type(){return W[this.ptr+4>>2]}set_destructor(c){W[this.ptr+8>>2]=c}get_destructor(){return W[this.ptr+8>>2]}set_caught(c){c=c?1:0,M[this.ptr+12]=c}get_caught(){return M[this.ptr+12]!=0}set_rethrown(c){c=c?1:0,M[this.ptr+13]=c}get_rethrown(){return M[this.ptr+13]!=0}init(c,k){this.set_adjusted_ptr(0),this.set_type(c),this.set_destructor(k)}set_adjusted_ptr(c){W[this.ptr+16>>2]=c}get_adjusted_ptr(){return W[this.ptr+16>>2]}get_exception_ptr(){var c=qi(this.get_type());if(c)return W[this.excPtr>>2];var k=this.get_adjusted_ptr();return k!==0?k:this.excPtr}}var vn=l=>{throw At||(At=new Bt(l)),At},sn=l=>{var c=At==null?void 0:At.excPtr;if(!c)return zn(0),0;var k=new rn(c);k.set_adjusted_ptr(c);var F=k.get_type();if(!F)return zn(0),c;for(var s in l){var a=l[s];if(a===0||a===F)break;var _=k.ptr+16;if(Ji(a,F,_))return zn(a),c}return zn(F),c},Xn=()=>sn([]),Gn=l=>sn([l]),An=(l,c,k)=>{var F=new rn(l);throw F.init(c,k),At=new Bt(l),At},Xt={},en=l=>{for(;l.length;){var c=l.pop(),k=l.pop();k(c)}};function Jt(l){return this.fromWireType(W[l>>2])}var Gt={},xt={},qt={},an,Kt=l=>{throw new an(l)},Wt=(l,c,k)=>{l.forEach(function(m){qt[m]=c});function F(m){var T=k(m);T.length!==l.length&&Kt("Mismatched type converter count");for(var S=0;S<l.length;++S)$(l[S],T[S])}var s=new Array(c.length),a=[],_=0;c.forEach((m,T)=>{xt.hasOwnProperty(m)?s[T]=xt[m]:(a.push(m),Gt.hasOwnProperty(m)||(Gt[m]=[]),Gt[m].push(()=>{s[T]=xt[m],++_,_===a.length&&F(s)}))}),a.length===0&&F(s)},pn=l=>{var c=Xt[l];delete Xt[l];var k=c.rawConstructor,F=c.rawDestructor,s=c.fields,a=s.map(_=>_.getterReturnType).concat(s.map(_=>_.setterArgumentType));Wt([l],a,_=>{var m={};return s.forEach((T,S)=>{var R=T.fieldName,D=_[S],V=T.getter,X=T.getterContext,z=_[S+s.length],ae=T.setter,Ie=T.setterContext;m[R]={read:gt=>D.fromWireType(V(X,gt)),write:(gt,je)=>{var vt=[];ae(Ie,gt,z.toWireType(vt,je)),en(vt)}}}),[{name:c.name,fromWireType:T=>{var S={};for(var R in m)S[R]=m[R].read(T);return F(T),S},toWireType:(T,S)=>{for(var R in m)if(!(R in S))throw new TypeError(`Missing field: "${R}"`);var D=k();for(R in m)m[R].write(D,S[R]);return T!==null&&T.push(F,D),D},argPackAdvance:oe,readValueFromPointer:Jt,destructorFunction:F}]})},on=(l,c,k,F,s)=>{},bn=()=>{for(var l=new Array(256),c=0;c<256;++c)l[c]=String.fromCharCode(c);fn=l},fn,Ge=l=>{for(var c="",k=l;C[k];)c+=fn[C[k++]];return c},bt,P=l=>{throw new bt(l)};function re(l,c,k={}){var F=c.name;if(l||P(`type "${F}" must have a positive integer typeid pointer`),xt.hasOwnProperty(l)){if(k.ignoreDuplicateRegistrations)return;P(`Cannot register type '${F}' twice`)}if(xt[l]=c,delete qt[l],Gt.hasOwnProperty(l)){var s=Gt[l];delete Gt[l],s.forEach(a=>a())}}function $(l,c,k={}){if(!("argPackAdvance"in c))throw new TypeError("registerType registeredInstance requires argPackAdvance");return re(l,c,k)}var oe=8,me=(l,c,k,F)=>{c=Ge(c),$(l,{name:c,fromWireType:function(s){return!!s},toWireType:function(s,a){return a?k:F},argPackAdvance:oe,readValueFromPointer:function(s){return this.fromWireType(C[s])},destructorFunction:null})},Ke=l=>({count:l.count,deleteScheduled:l.deleteScheduled,preservePointerOnDelete:l.preservePointerOnDelete,ptr:l.ptr,ptrType:l.ptrType,smartPtr:l.smartPtr,smartPtrType:l.smartPtrType}),We=l=>{function c(k){return k.$$.ptrType.registeredClass.name}P(c(l)+" instance already deleted")},ve=!1,yt=l=>{},ht=l=>{l.smartPtr?l.smartPtrType.rawDestructor(l.smartPtr):l.ptrType.registeredClass.rawDestructor(l.ptr)},Ct=l=>{l.count.value-=1;var c=l.count.value===0;c&&ht(l)},le=(l,c,k)=>{if(c===k)return l;if(k.baseClass===void 0)return null;var F=le(l,c,k.baseClass);return F===null?null:k.downcast(F)},pe={},de=()=>Object.keys(ut).length,$e=()=>{var l=[];for(var c in ut)ut.hasOwnProperty(c)&&l.push(ut[c]);return l},ot=[],Rt=()=>{for(;ot.length;){var l=ot.pop();l.$$.deleteScheduled=!1,l.delete()}},jt,wt=l=>{jt=l,ot.length&&jt&&jt(Rt)},Cr=()=>{e.getInheritedInstanceCount=de,e.getLiveInheritedInstances=$e,e.flushPendingDeletes=Rt,e.setDelayFunction=wt},ut={},Pr=(l,c)=>{for(c===void 0&&P("ptr should not be undefined");l.baseClass;)c=l.upcast(c),l=l.baseClass;return c},_r=(l,c)=>(c=Pr(l,c),ut[c]),Je=(l,c)=>{(!c.ptrType||!c.ptr)&&Kt("makeClassHandle requires ptr and ptrType");var k=!!c.smartPtrType,F=!!c.smartPtr;return k!==F&&Kt("Both smartPtrType and smartPtr must be specified"),c.count={value:1},un(Object.create(l,{$$:{value:c,writable:!0}}))};function xn(l){var c=this.getPointee(l);if(!c)return this.destructor(l),null;var k=_r(this.registeredClass,c);if(k!==void 0){if(k.$$.count.value===0)return k.$$.ptr=c,k.$$.smartPtr=l,k.clone();var F=k.clone();return this.destructor(l),F}function s(){return this.isSmartPointer?Je(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:c,smartPtrType:this,smartPtr:l}):Je(this.registeredClass.instancePrototype,{ptrType:this,ptr:l})}var a=this.registeredClass.getActualType(c),_=pe[a];if(!_)return s.call(this);var m;this.isConst?m=_.constPointerType:m=_.pointerType;var T=le(c,this.registeredClass,m.registeredClass);return T===null?s.call(this):this.isSmartPointer?Je(m.registeredClass.instancePrototype,{ptrType:m,ptr:T,smartPtrType:this,smartPtr:l}):Je(m.registeredClass.instancePrototype,{ptrType:m,ptr:T})}var un=l=>typeof FinalizationRegistry>"u"?(un=c=>c,l):(ve=new FinalizationRegistry(c=>{console.warn(c.leakWarning.stack.replace(/^Error: /,"")),Ct(c.$$)}),un=c=>{var k=c.$$,F=!!k.smartPtr;if(F){var s={$$:k},a=k.ptrType.registeredClass;s.leakWarning=new Error(`Embind found a leaked C++ instance ${a.name} <${Tt(k.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`),"captureStackTrace"in Error&&Error.captureStackTrace(s.leakWarning,xn),ve.register(c,s,c)}return c},yt=c=>ve.unregister(c),un(l)),pr=()=>{Object.assign(yn.prototype,{isAliasOf(l){if(!(this instanceof yn)||!(l instanceof yn))return!1;var c=this.$$.ptrType.registeredClass,k=this.$$.ptr;l.$$=l.$$;for(var F=l.$$.ptrType.registeredClass,s=l.$$.ptr;c.baseClass;)k=c.upcast(k),c=c.baseClass;for(;F.baseClass;)s=F.upcast(s),F=F.baseClass;return c===F&&k===s},clone(){if(this.$$.ptr||We(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var l=un(Object.create(Object.getPrototypeOf(this),{$$:{value:Ke(this.$$)}}));return l.$$.count.value+=1,l.$$.deleteScheduled=!1,l},delete(){this.$$.ptr||We(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&P("Object already scheduled for deletion"),yt(this),Ct(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||We(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&P("Object already scheduled for deletion"),ot.push(this),ot.length===1&&jt&&jt(Rt),this.$$.deleteScheduled=!0,this}})};function yn(){}var hn=(l,c)=>Object.defineProperty(c,"name",{value:l}),Jn=(l,c,k)=>{if(l[c].overloadTable===void 0){var F=l[c];l[c]=function(...s){return l[c].overloadTable.hasOwnProperty(s.length)||P(`Function '${k}' called with an invalid number of arguments (${s.length}) - expects one of (${l[c].overloadTable})!`),l[c].overloadTable[s.length].apply(this,s)},l[c].overloadTable=[],l[c].overloadTable[F.argCount]=F}},Un=(l,c,k)=>{e.hasOwnProperty(l)?((k===void 0||e[l].overloadTable!==void 0&&e[l].overloadTable[k]!==void 0)&&P(`Cannot register public name '${l}' twice`),Jn(e,l,l),e.hasOwnProperty(k)&&P(`Cannot register multiple overloads of a function with the same number of arguments (${k})!`),e[l].overloadTable[k]=c):(e[l]=c,k!==void 0&&(e[l].numArguments=k))},ke=48,Ue=57,wn=l=>{if(l===void 0)return"_unknown";l=l.replace(/[^a-zA-Z0-9_]/g,"$");var c=l.charCodeAt(0);return c>=ke&&c<=Ue?`_${l}`:l};function hr(l,c,k,F,s,a,_,m){this.name=l,this.constructor=c,this.instancePrototype=k,this.rawDestructor=F,this.baseClass=s,this.getActualType=a,this.upcast=_,this.downcast=m,this.pureVirtualFunctions=[]}var tn=(l,c,k)=>{for(;c!==k;)c.upcast||P(`Expected null or instance of ${k.name}, got an instance of ${c.name}`),l=c.upcast(l),c=c.baseClass;return l};function gn(l,c){if(c===null)return this.isReference&&P(`null is not a valid ${this.name}`),0;c.$$||P(`Cannot pass "${ln(c)}" as a ${this.name}`),c.$$.ptr||P(`Cannot pass deleted object as a pointer of type ${this.name}`);var k=c.$$.ptrType.registeredClass,F=tn(c.$$.ptr,k,this.registeredClass);return F}function $n(l,c){var k;if(c===null)return this.isReference&&P(`null is not a valid ${this.name}`),this.isSmartPointer?(k=this.rawConstructor(),l!==null&&l.push(this.rawDestructor,k),k):0;(!c||!c.$$)&&P(`Cannot pass "${ln(c)}" as a ${this.name}`),c.$$.ptr||P(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&c.$$.ptrType.isConst&&P(`Cannot convert argument of type ${c.$$.smartPtrType?c.$$.smartPtrType.name:c.$$.ptrType.name} to parameter type ${this.name}`);var F=c.$$.ptrType.registeredClass;if(k=tn(c.$$.ptr,F,this.registeredClass),this.isSmartPointer)switch(c.$$.smartPtr===void 0&&P("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:c.$$.smartPtrType===this?k=c.$$.smartPtr:P(`Cannot convert argument of type ${c.$$.smartPtrType?c.$$.smartPtrType.name:c.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:k=c.$$.smartPtr;break;case 2:if(c.$$.smartPtrType===this)k=c.$$.smartPtr;else{var s=c.clone();k=this.rawShare(k,jn.toHandle(()=>s.delete())),l!==null&&l.push(this.rawDestructor,k)}break;default:P("Unsupporting sharing policy")}return k}function er(l,c){if(c===null)return this.isReference&&P(`null is not a valid ${this.name}`),0;c.$$||P(`Cannot pass "${ln(c)}" as a ${this.name}`),c.$$.ptr||P(`Cannot pass deleted object as a pointer of type ${this.name}`),c.$$.ptrType.isConst&&P(`Cannot convert argument of type ${c.$$.ptrType.name} to parameter type ${this.name}`);var k=c.$$.ptrType.registeredClass,F=tn(c.$$.ptr,k,this.registeredClass);return F}var gr=()=>{Object.assign(mn.prototype,{getPointee(l){return this.rawGetPointee&&(l=this.rawGetPointee(l)),l},destructor(l){var c;(c=this.rawDestructor)==null||c.call(this,l)},argPackAdvance:oe,readValueFromPointer:Jt,fromWireType:xn})};function mn(l,c,k,F,s,a,_,m,T,S,R){this.name=l,this.registeredClass=c,this.isReference=k,this.isConst=F,this.isSmartPointer=s,this.pointeeType=a,this.sharingPolicy=_,this.rawGetPointee=m,this.rawConstructor=T,this.rawShare=S,this.rawDestructor=R,!s&&c.baseClass===void 0?F?(this.toWireType=gn,this.destructorFunction=null):(this.toWireType=er,this.destructorFunction=null):this.toWireType=$n}var Lt=(l,c,k)=>{e.hasOwnProperty(l)||Kt("Replacing nonexistent public symbol"),e[l].overloadTable!==void 0&&k!==void 0?e[l].overloadTable[k]=c:(e[l]=c,e[l].argCount=k)},mr=(l,c,k)=>{b("dynCall_"+l in e,`bad function pointer type - dynCall function not found for sig '${l}'`),k!=null&&k.length?b(k.length===l.substring(1).replace(/j/g,"--").length):b(l.length==1);var F=e["dynCall_"+l];return F(c,...k)},Vn=[],Wn,Me=l=>{var c=Vn[l];return c||(l>=Vn.length&&(Vn.length=l+1),Vn[l]=c=Wn.get(l)),b(Wn.get(l)==c,"JavaScript-side Wasm function table mirror is out of date!"),c},Fr=(l,c,k=[])=>{if(l.includes("j"))return mr(l,c,k);b(Me(c),`missing table entry in dynCall: ${c}`);var F=Me(c)(...k);return F},qr=(l,c)=>(b(l.includes("j")||l.includes("p"),"getDynCaller should only be called with i64 sigs"),(...k)=>Fr(l,c,k)),Pt=(l,c)=>{l=Ge(l);function k(){return l.includes("j")?qr(l,c):Me(c)}var F=k();return typeof F!="function"&&P(`unknown function pointer with signature ${l}: ${c}`),F},mi=(l,c)=>{var k=hn(c,function(F){this.name=c,this.message=F;var s=new Error(F).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return k.prototype=Object.create(l.prototype),k.prototype.constructor=k,k.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},k},Ir,Ar=l=>{var c=Xi(l),k=Ge(c);return Ut(c),k},Yn=(l,c)=>{var k=[],F={};function s(a){if(!F[a]&&!xt[a]){if(qt[a]){qt[a].forEach(s);return}k.push(a),F[a]=!0}}throw c.forEach(s),new Ir(`${l}: `+k.map(Ar).join([", "]))},vi=(l,c,k,F,s,a,_,m,T,S,R,D,V)=>{R=Ge(R),a=Pt(s,a),m&&(m=Pt(_,m)),S&&(S=Pt(T,S)),V=Pt(D,V);var X=wn(R);Un(X,function(){Yn(`Cannot construct ${R} due to unbound types`,[F])}),Wt([l,c,k],F?[F]:[],z=>{var Qt;z=z[0];var ae,Ie;F?(ae=z.registeredClass,Ie=ae.instancePrototype):Ie=yn.prototype;var gt=hn(R,function(...Br){if(Object.getPrototypeOf(this)!==je)throw new bt("Use 'new' to construct "+R);if(vt.constructor_body===void 0)throw new bt(R+" has no accessible constructor");var Xr=vt.constructor_body[Br.length];if(Xr===void 0)throw new bt(`Tried to invoke ctor of ${R} with invalid number of parameters (${Br.length}) - expected (${Object.keys(vt.constructor_body).toString()}) parameters instead!`);return Xr.apply(this,Br)}),je=Object.create(Ie,{constructor:{value:gt}});gt.prototype=je;var vt=new hr(R,gt,je,V,ae,a,m,S);vt.baseClass&&((Qt=vt.baseClass).__derivedClasses??(Qt.__derivedClasses=[]),vt.baseClass.__derivedClasses.push(vt));var Tn=new mn(R,vt,!0,!1,!1),Sn=new mn(R+"*",vt,!1,!1,!1),Kn=new mn(R+" const*",vt,!1,!0,!1);return pe[l]={pointerType:Sn,constPointerType:Kn},Lt(X,gt),[Tn,Sn,Kn]})},tr=(l,c)=>{for(var k=[],F=0;F<l;F++)k.push(W[c+F*4>>2]);return k};function xr(l){for(var c=1;c<l.length;++c)if(l[c]!==null&&l[c].destructorFunction===void 0)return!0;return!1}function vr(l,c){if(!(l instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof l} which is not a function`);var k=hn(l.name||"unknownFunctionName",function(){});k.prototype=l.prototype;var F=new k,s=l.apply(F,c);return s instanceof Object?s:F}function Zr(l,c,k,F){for(var s=xr(l),a=l.length,_="",m="",T=0;T<a-2;++T)_+=(T!==0?", ":"")+"arg"+T,m+=(T!==0?", ":"")+"arg"+T+"Wired";var S=`
        return function (${_}) {
        if (arguments.length !== ${a-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${a-2}');
        }`;s&&(S+=`var destructors = [];
`);var R=s?"destructors":"null",D=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];c&&(S+="var thisWired = classParam['toWireType']("+R+`, this);
`);for(var T=0;T<a-2;++T)S+="var arg"+T+"Wired = argType"+T+"['toWireType']("+R+", arg"+T+`);
`,D.push("argType"+T);if(c&&(m="thisWired"+(m.length>0?", ":"")+m),S+=(k||F?"var rv = ":"")+"invoker(fn"+(m.length>0?", ":"")+m+`);
`,s)S+=`runDestructors(destructors);
`;else for(var T=c?1:2;T<l.length;++T){var V=T===1?"thisWired":"arg"+(T-2)+"Wired";l[T].destructorFunction!==null&&(S+=`${V}_dtor(${V});
`,D.push(`${V}_dtor`))}return k&&(S+=`var ret = retType['fromWireType'](rv);
return ret;
`),S+=`}
`,S=`if (arguments.length !== ${D.length}){ throw new Error(humanName + "Expected ${D.length} closure arguments " + arguments.length + " given."); }
${S}`,[D,S]}function nr(l,c,k,F,s,a){var _=c.length;_<2&&P("argTypes array size mismatch! Must at least get return value and 'this' types!"),b(!a,"Async bindings are only supported with JSPI.");for(var m=c[1]!==null&&k!==null,T=xr(c),S=c[0].name!=="void",R=[l,P,F,s,en,c[0],c[1]],D=0;D<_-2;++D)R.push(c[D+2]);if(!T)for(var D=m?1:2;D<c.length;++D)c[D].destructorFunction!==null&&R.push(c[D].destructorFunction);let[V,X]=Zr(c,m,S,a);V.push(X);var z=vr(Function,V)(...R);return hn(l,z)}var bi=(l,c,k,F,s,a)=>{b(c>0);var _=tr(c,k);s=Pt(F,s),Wt([],[l],m=>{m=m[0];var T=`constructor ${m.name}`;if(m.registeredClass.constructor_body===void 0&&(m.registeredClass.constructor_body=[]),m.registeredClass.constructor_body[c-1]!==void 0)throw new bt(`Cannot register multiple constructors with identical number of parameters (${c-1}) for class '${m.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return m.registeredClass.constructor_body[c-1]=()=>{Yn(`Cannot construct ${m.name} due to unbound types`,_)},Wt([],_,S=>(S.splice(1,0,null),m.registeredClass.constructor_body[c-1]=nr(T,S,null,s,a),[])),[]})},Rr=l=>{l=l.trim();const c=l.indexOf("(");return c!==-1?(b(l[l.length-1]==")","Parentheses for argument names should match."),l.substr(0,c)):l},yi=(l,c,k,F,s,a,_,m,T)=>{var S=tr(k,F);c=Ge(c),c=Rr(c),a=Pt(s,a),Wt([],[l],R=>{R=R[0];var D=`${R.name}.${c}`;c.startsWith("@@")&&(c=Symbol[c.substring(2)]),m&&R.registeredClass.pureVirtualFunctions.push(c);function V(){Yn(`Cannot call ${D} due to unbound types`,S)}var X=R.registeredClass.instancePrototype,z=X[c];return z===void 0||z.overloadTable===void 0&&z.className!==R.name&&z.argCount===k-2?(V.argCount=k-2,V.className=R.name,X[c]=V):(Jn(X,c,D),X[c].overloadTable[k-2]=V),Wt([],S,ae=>{var Ie=nr(D,ae,R,a,_,T);return X[c].overloadTable===void 0?(Ie.argCount=k-2,X[c]=Ie):X[c].overloadTable[k-2]=Ie,[]}),[]})},rr=[],Ft=[],Mr=l=>{l>9&&--Ft[l+1]===0&&(b(Ft[l]!==void 0,"Decref for unallocated handle."),Ft[l]=void 0,rr.push(l))},wi=()=>Ft.length/2-5-rr.length,ki=()=>{Ft.push(0,1,void 0,1,null,1,!0,1,!1,1),b(Ft.length===5*2),e.count_emval_handles=wi},jn={toValue:l=>(l||P("Cannot use deleted val. handle = "+l),b(l===2||Ft[l]!==void 0&&l%2===0,`invalid handle: ${l}`),Ft[l]),toHandle:l=>{switch(l){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const c=rr.pop()||Ft.length;return Ft[c]=l,Ft[c+1]=1,c}}}},Ti={name:"emscripten::val",fromWireType:l=>{var c=jn.toValue(l);return Mr(l),c},toWireType:(l,c)=>jn.toHandle(c),argPackAdvance:oe,readValueFromPointer:Jt,destructorFunction:null},Dr=l=>$(l,Ti),ln=l=>{if(l===null)return"null";var c=typeof l;return c==="object"||c==="array"||c==="function"?l.toString():""+l},br=(l,c)=>{switch(c){case 4:return function(k){return this.fromWireType(ne[k>>2])};case 8:return function(k){return this.fromWireType(ee[k>>3])};default:throw new TypeError(`invalid float width (${c}): ${l}`)}},Nr=(l,c,k)=>{c=Ge(c),$(l,{name:c,fromWireType:F=>F,toWireType:(F,s)=>{if(typeof s!="number"&&typeof s!="boolean")throw new TypeError(`Cannot convert ${ln(s)} to ${this.name}`);return s},argPackAdvance:oe,readValueFromPointer:br(c,k),destructorFunction:null})},Hn=(l,c,k,F,s,a,_)=>{var m=tr(c,k);l=Ge(l),l=Rr(l),s=Pt(F,s),Un(l,function(){Yn(`Cannot call ${l} due to unbound types`,m)},c-1),Wt([],m,T=>{var S=[T[0],null].concat(T.slice(1));return Lt(l,nr(l,S,null,s,a,_),c-1),[]})},Kr=(l,c,k)=>{switch(c){case 1:return k?F=>M[F]:F=>C[F];case 2:return k?F=>A[F>>1]:F=>Y[F>>1];case 4:return k?F=>L[F>>2]:F=>W[F>>2];default:throw new TypeError(`invalid integer width (${c}): ${l}`)}},Qr=(l,c,k,F,s)=>{c=Ge(c),s===-1&&(s=4294967295);var a=R=>R;if(F===0){var _=32-8*k;a=R=>R<<_>>>_}var m=c.includes("unsigned"),T=(R,D)=>{if(typeof R!="number"&&typeof R!="boolean")throw new TypeError(`Cannot convert "${ln(R)}" to ${D}`);if(R<F||R>s)throw new TypeError(`Passing a number "${ln(R)}" from JS side to C/C++ side to an argument of type "${c}", which is outside the valid range [${F}, ${s}]!`)},S;m?S=function(R,D){return T(D,this.name),D>>>0}:S=function(R,D){return T(D,this.name),D},$(l,{name:c,fromWireType:a,toWireType:S,argPackAdvance:oe,readValueFromPointer:Kr(c,k,F!==0),destructorFunction:null})},Si=(l,c,k)=>{var F=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=F[c];function a(_){var m=W[_>>2],T=W[_+4>>2];return new s(M.buffer,T,m)}k=Ge(k),$(l,{name:k,fromWireType:a,argPackAdvance:oe,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},Ei=(l,c)=>{Dr(l)},Ci=(l,c,k,F)=>{if(b(typeof l=="string",`stringToUTF8Array expects a string (got ${typeof l})`),!(F>0))return 0;for(var s=k,a=k+F-1,_=0;_<l.length;++_){var m=l.charCodeAt(_);if(m>=55296&&m<=57343){var T=l.charCodeAt(++_);m=65536+((m&1023)<<10)|T&1023}if(m<=127){if(k>=a)break;c[k++]=m}else if(m<=2047){if(k+1>=a)break;c[k++]=192|m>>6,c[k++]=128|m&63}else if(m<=65535){if(k+2>=a)break;c[k++]=224|m>>12,c[k++]=128|m>>6&63,c[k++]=128|m&63}else{if(k+3>=a)break;m>1114111&&it("Invalid Unicode code point "+Tt(m)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),c[k++]=240|m>>18,c[k++]=128|m>>12&63,c[k++]=128|m>>6&63,c[k++]=128|m&63}}return c[k]=0,k-s},qn=(l,c,k)=>(b(typeof k=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Ci(l,C,c,k)),Or=l=>{for(var c=0,k=0;k<l.length;++k){var F=l.charCodeAt(k);F<=127?c++:F<=2047?c+=2:F>=55296&&F<=57343?(c+=4,++k):c+=3}return c},Pi=(l,c)=>{c=Ge(c);var k=c==="std::string";$(l,{name:c,fromWireType(F){var s=W[F>>2],a=F+4,_;if(k)for(var m=a,T=0;T<=s;++T){var S=a+T;if(T==s||C[S]==0){var R=S-m,D=Re(m,R);_===void 0?_=D:(_+="\0",_+=D),m=S+1}}else{for(var V=new Array(s),T=0;T<s;++T)V[T]=String.fromCharCode(C[a+T]);_=V.join("")}return Ut(F),_},toWireType(F,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var a,_=typeof s=="string";_||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||P("Cannot pass non-string to std::string"),k&&_?a=Or(s):a=s.length;var m=Hr(4+a+1),T=m+4;if(W[m>>2]=a,k&&_)qn(s,T,a+1);else if(_)for(var S=0;S<a;++S){var R=s.charCodeAt(S);R>255&&(Ut(T),P("String has UTF-16 code units that do not fit in 8 bits")),C[T+S]=R}else for(var S=0;S<a;++S)C[T+S]=s[S];return F!==null&&F.push(Ut,m),m},argPackAdvance:oe,readValueFromPointer:Jt,destructorFunction(F){Ut(F)}})},Rn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Fi=(l,c)=>{b(l%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var k=l,F=k>>1,s=F+c/2;!(F>=s)&&Y[F];)++F;if(k=F<<1,k-l>32&&Rn)return Rn.decode(C.subarray(l,k));for(var a="",_=0;!(_>=c/2);++_){var m=A[l+_*2>>1];if(m==0)break;a+=String.fromCharCode(m)}return a},Lr=(l,c,k)=>{if(b(c%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),b(typeof k=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),k??(k=2147483647),k<2)return 0;k-=2;for(var F=c,s=k<l.length*2?k/2:l.length,a=0;a<s;++a){var _=l.charCodeAt(a);A[c>>1]=_,c+=2}return A[c>>1]=0,c-F},Ii=l=>l.length*2,Ai=(l,c)=>{b(l%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var k=0,F="";!(k>=c/4);){var s=L[l+k*4>>2];if(s==0)break;if(++k,s>=65536){var a=s-65536;F+=String.fromCharCode(55296|a>>10,56320|a&1023)}else F+=String.fromCharCode(s)}return F},Ur=(l,c,k)=>{if(b(c%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),b(typeof k=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),k??(k=2147483647),k<4)return 0;for(var F=c,s=F+k-4,a=0;a<l.length;++a){var _=l.charCodeAt(a);if(_>=55296&&_<=57343){var m=l.charCodeAt(++a);_=65536+((_&1023)<<10)|m&1023}if(L[c>>2]=_,c+=4,c+4>s)break}return L[c>>2]=0,c-F},Vr=l=>{for(var c=0,k=0;k<l.length;++k){var F=l.charCodeAt(k);F>=55296&&F<=57343&&++k,c+=4}return c},$r=(l,c,k)=>{k=Ge(k);var F,s,a,_;c===2?(F=Fi,s=Lr,_=Ii,a=m=>Y[m>>1]):c===4&&(F=Ai,s=Ur,_=Vr,a=m=>W[m>>2]),$(l,{name:k,fromWireType:m=>{for(var T=W[m>>2],S,R=m+4,D=0;D<=T;++D){var V=m+4+D*c;if(D==T||a(V)==0){var X=V-R,z=F(R,X);S===void 0?S=z:(S+="\0",S+=z),R=V+c}}return Ut(m),S},toWireType:(m,T)=>{typeof T!="string"&&P(`Cannot pass non-string to C++ string type ${k}`);var S=_(T),R=Hr(4+S+c);return W[R>>2]=S/c,s(T,R+4,S+c),m!==null&&m.push(Ut,R),R},argPackAdvance:oe,readValueFromPointer:Jt,destructorFunction(m){Ut(m)}})},Wr=(l,c,k,F,s,a)=>{Xt[l]={name:Ge(c),rawConstructor:Pt(k,F),rawDestructor:Pt(s,a),fields:[]}},ei=(l,c,k,F,s,a,_,m,T,S)=>{Xt[l].fields.push({fieldName:Ge(c),getterReturnType:k,getter:Pt(F,s),getterContext:a,setterArgumentType:_,setter:Pt(m,T),setterContext:S})},xi=(l,c)=>{c=Ge(c),$(l,{isVoid:!0,name:c,argPackAdvance:0,fromWireType:()=>{},toWireType:(k,F)=>{}})},Ri=(l,c)=>{var k=xt[l];return k===void 0&&P(`${c} has unknown type ${Ar(l)}`),k},Mi=(l,c)=>{l=Ri(l,"_emval_take_value");var k=l.readValueFromPointer(c);return jn.toHandle(k)},Di=()=>{we("native code called abort()")},Ni=(l,c,k)=>C.copyWithin(l,c,c+k),Oi=l=>{we(`Cannot enlarge memory arrays to size ${l} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${M.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)},Li=l=>{C.length,l>>>=0,Oi(l)},yr=l=>{we("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},Zn=(l,c)=>(b(l==l>>>0||l==(l|0)),b(c===(c|0)),c+2097152>>>0<4194305-!!l?(l>>>0)+c*4294967296:NaN);function ti(l,c,k,F,s){return Zn(c,k),70}var Ui=[null,[],[]],Vi=(l,c)=>{var k=Ui[l];b(k),c===0||c===10?((l===1?w:y)(xe(k,0)),k.length=0):k.push(c)},Wi=(l,c,k,F)=>{for(var s=0,a=0;a<k;a++){var _=W[c>>2],m=W[c+4>>2];c+=8;for(var T=0;T<m;T++)Vi(l,C[_+T]);s+=m}return W[F>>2]=s,0},Yi=l=>{var c=e["_"+l];return b(c,"Cannot call unknown function "+l+", make sure it is exported"),c},ji=(l,c)=>{b(l.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),M.set(l,c)},Hi=l=>{var c=Or(l)+1,k=kn(c);return qn(l,k,c),k},Yr=(l,c,k,F,s)=>{var a={string:z=>{var ae=0;return z!=null&&z!==0&&(ae=Hi(z)),ae},array:z=>{var ae=kn(z.length);return ji(z,ae),ae}};function _(z){return c==="string"?Re(z):c==="boolean"?!!z:z}var m=Yi(l),T=[],S=0;if(b(c!=="array",'Return type should not be "array".'),F)for(var R=0;R<F.length;R++){var D=a[k[R]];D?(S===0&&(S=Be()),T[R]=D(F[R])):T[R]=F[R]}var V=m(...T);function X(z){return S!==0&&Ye(S),_(z)}return V=X(V),V},zi=(l,c,k,F)=>(...s)=>Yr(l,c,k,s);an=e.InternalError=class extends Error{constructor(c){super(c),this.name="InternalError"}},bn(),bt=e.BindingError=class extends Error{constructor(c){super(c),this.name="BindingError"}},pr(),Cr(),gr(),Ir=e.UnboundTypeError=mi(Error,"UnboundTypeError"),ki();function Bi(){te("fetchSettings")}var jr={__assert_fail:nn,__cxa_begin_catch:In,__cxa_find_matching_catch_2:Xn,__cxa_find_matching_catch_3:Gn,__cxa_throw:An,__resumeException:vn,_embind_finalize_value_object:pn,_embind_register_bigint:on,_embind_register_bool:me,_embind_register_class:vi,_embind_register_class_constructor:bi,_embind_register_class_function:yi,_embind_register_emval:Dr,_embind_register_float:Nr,_embind_register_function:Hn,_embind_register_integer:Qr,_embind_register_memory_view:Si,_embind_register_optional:Ei,_embind_register_std_string:Pi,_embind_register_std_wstring:$r,_embind_register_value_object:Wr,_embind_register_value_object_field:ei,_embind_register_void:xi,_emval_take_value:Mi,abort:Di,emscripten_memcpy_js:Ni,emscripten_resize_heap:Li,fd_close:yr,fd_seek:ti,fd_write:Wi,invoke_ii:Zi,invoke_iii:Ki,invoke_iiii:rs,invoke_iiiii:ai,invoke_iiiiii:ii,invoke_iiiiiiii:ns,invoke_v:es,invoke_vi:$i,invoke_vii:ts,invoke_viii:Qi,invoke_viiii:ss,invoke_viiiii:ri,invoke_viiiiiiii:is,invoke_viiiiiiiiii:si},Zt=He();e.__Z7computeNSt3__26vectorIdNS_9allocatorIdEEEENS0_IiNS1_IiEEEES5_S5_S5_S5_S5_=se("_Z7computeNSt3__26vectorIdNS_9allocatorIdEEEENS0_IiNS1_IiEEEES5_S5_S5_S5_S5_");var Xi=se("__getTypeName"),Hr=se("malloc"),Ut=se("free"),et=se("setThrew"),zn=se("setTempRet0"),zr=()=>(zr=Zt.emscripten_stack_init)(),ir=()=>(ir=Zt.emscripten_stack_get_end)(),Be=se("stackSave"),Ye=se("stackRestore"),kn=se("stackAlloc"),ni=se("__cxa_increment_exception_refcount"),Gi=se("__get_exception_message"),Ji=se("__cxa_can_catch"),qi=se("__cxa_is_pointer_type");e.dynCall_jiji=se("dynCall_jiji");function Zi(l,c){var k=Be();try{return Me(l)(c)}catch(F){if(Ye(k),!(F instanceof Fe))throw F;et(1,0)}}function Ki(l,c,k){var F=Be();try{return Me(l)(c,k)}catch(s){if(Ye(F),!(s instanceof Fe))throw s;et(1,0)}}function Qi(l,c,k,F){var s=Be();try{Me(l)(c,k,F)}catch(a){if(Ye(s),!(a instanceof Fe))throw a;et(1,0)}}function $i(l,c){var k=Be();try{Me(l)(c)}catch(F){if(Ye(k),!(F instanceof Fe))throw F;et(1,0)}}function es(l){var c=Be();try{Me(l)()}catch(k){if(Ye(c),!(k instanceof Fe))throw k;et(1,0)}}function ts(l,c,k){var F=Be();try{Me(l)(c,k)}catch(s){if(Ye(F),!(s instanceof Fe))throw s;et(1,0)}}function ri(l,c,k,F,s,a){var _=Be();try{Me(l)(c,k,F,s,a)}catch(m){if(Ye(_),!(m instanceof Fe))throw m;et(1,0)}}function ns(l,c,k,F,s,a,_,m){var T=Be();try{return Me(l)(c,k,F,s,a,_,m)}catch(S){if(Ye(T),!(S instanceof Fe))throw S;et(1,0)}}function rs(l,c,k,F){var s=Be();try{return Me(l)(c,k,F)}catch(a){if(Ye(s),!(a instanceof Fe))throw a;et(1,0)}}function ii(l,c,k,F,s,a){var _=Be();try{return Me(l)(c,k,F,s,a)}catch(m){if(Ye(_),!(m instanceof Fe))throw m;et(1,0)}}function si(l,c,k,F,s,a,_,m,T,S,R){var D=Be();try{Me(l)(c,k,F,s,a,_,m,T,S,R)}catch(V){if(Ye(D),!(V instanceof Fe))throw V;et(1,0)}}function ai(l,c,k,F,s){var a=Be();try{return Me(l)(c,k,F,s)}catch(_){if(Ye(a),!(_ instanceof Fe))throw _;et(1,0)}}function is(l,c,k,F,s,a,_,m,T){var S=Be();try{Me(l)(c,k,F,s,a,_,m,T)}catch(R){if(Ye(S),!(R instanceof Fe))throw R;et(1,0)}}function ss(l,c,k,F,s){var a=Be();try{Me(l)(c,k,F,s)}catch(_){if(Ye(a),!(_ instanceof Fe))throw _;et(1,0)}}e.ccall=Yr,e.cwrap=zi;var oi=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","growMemory","isLeapYear","ydayFromDate","arraySum","addDays","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","Browser_asyncPrepareDataCounter","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_createDataFile","FS_unlink","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","getFunctionArgsName","createJsInvokerSignature","registerInheritedInstance","unregisterInheritedInstance","enumReadValueFromPointer","validateThis","getStringOrSymbol","emval_get_global","emval_returnValue","emval_lookupTypes","emval_addMethodCaller"];oi.forEach(Se);var as=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","abortOnCannotGrowMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","jstoi_s","dynCallLegacy","getDynCaller","dynCall","wasmTable","noExitRuntime","getCFunc","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","getPreloadedImageData__data","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","createJsInvoker","UnboundTypeError","PureVirtualError","GenericWireTypeSize","EmValType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","registeredPointers","registerType","integerReadValueFromPointer","floatReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_methodCallers","reflectConstruct"];as.forEach(ce);var wr;nt=function l(){wr||li(),wr||(nt=l)};function os(){zr(),ye()}function li(){if(Oe>0||(os(),Pe(),Oe>0))return;function l(){wr||(wr=!0,e.calledRun=!0,!N&&(ge(),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),b(!e._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),dt()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),l()},1)):l(),be()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return li(),t.ready}})(),Rl=(()=>{var n=import.meta.url;return function(t={}){var e=t,r,i;e.ready=new Promise((s,a)=>{r=s,i=a}),["getExceptionMessage","$incrementExceptionRefcount","$decrementExceptionRefcount","_memory","__Z15getMorphOutlineiifNSt3__26vectorIhNS_9allocatorIhEEEENS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE","__Z7getBBoxNSt3__26vectorI11FeatureLineNS_9allocatorIS1_EEEENS0_IdNS2_IdEEEE","__Z7doMorphiiffffNSt3__26vectorIhNS_9allocatorIhEEEES3_NS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE","___indirect_function_table","onRuntimeInitialized"].forEach(s=>{Object.getOwnPropertyDescriptor(e.ready,s)||Object.defineProperty(e.ready,s,{get:()=>we("You are getting "+s+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>we("You are setting "+s+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var o=Object.assign({},e),f=!0,p=!1,h=!1,u=!1;if(e.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var g="";function v(s){return e.locateFile?e.locateFile(s,g):g+s}if(typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),n&&(g=n),g.startsWith("blob:")?g="":g=g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1),!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var w=e.print||console.log.bind(console),y=e.printErr||console.error.bind(console);Object.assign(e,o),o=null,Bi(),e.arguments&&e.arguments,H("arguments","arguments_"),e.thisProgram&&e.thisProgram,H("thisProgram","thisProgram"),e.quit&&e.quit,H("quit","quit_"),b(typeof e.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),b(typeof e.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),b(typeof e.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),b(typeof e.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),b(typeof e.read>"u","Module.read option was removed (modify read_ in JS)"),b(typeof e.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),b(typeof e.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),b(typeof e.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),b(typeof e.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),H("asm","wasmExports"),H("read","read_"),H("readAsync","readAsync"),H("readBinary","readBinary"),H("setWindowTitle","setWindowTitle"),b(!p,"worker environment detected but not enabled at build time.  Add `worker` to `-sENVIRONMENT` to enable."),b(!h,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),b(!u,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var I;e.wasmBinary&&(I=e.wasmBinary),H("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&y("no native wasm support detected");var x,N=!1;function b(s,a){s||we("Assertion failed"+(a?": "+a:""))}var M,C,A,Y,L,W,ne,ee;function Ee(){var s=x.buffer;e.HEAP8=M=new Int8Array(s),e.HEAP16=A=new Int16Array(s),e.HEAPU8=C=new Uint8Array(s),e.HEAPU16=Y=new Uint16Array(s),e.HEAP32=L=new Int32Array(s),e.HEAPU32=W=new Uint32Array(s),e.HEAPF32=ne=new Float32Array(s),e.HEAPF64=ee=new Float64Array(s)}b(!e.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),b(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),b(!e.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),b(!e.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function ye(){var s=ir();b((s&3)==0),s==0&&(s+=4),W[s>>2]=34821223,W[s+4>>2]=2310721022,W[0]=1668509029}function be(){if(!N){var s=ir();s==0&&(s+=4);var a=W[s>>2],_=W[s+4>>2];(a!=34821223||_!=2310721022)&&we(`Stack overflow! Stack cookie has been overwritten at ${Tt(s)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Tt(_)} ${Tt(a)}`),W[0]!=1668509029&&we("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var s=new Int16Array(1),a=new Int8Array(s.buffer);if(s[0]=25459,a[0]!==115||a[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var he=[],fe=[],G=[],Ce=!1;function Pe(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)K(e.preRun.shift());ze(he)}function ge(){b(!Ce),Ce=!0,be(),ze(fe)}function dt(){if(be(),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)qe(e.postRun.shift());ze(G)}function K(s){he.unshift(s)}function Ne(s){fe.unshift(s)}function qe(s){G.unshift(s)}b(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),b(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),b(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),b(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Oe=0,tt=null,nt=null,Xe={};function zt(s){var a;Oe++,(a=e.monitorRunDependencies)==null||a.call(e,Oe),s?(b(!Xe[s]),Xe[s]=1,tt===null&&typeof setInterval<"u"&&(tt=setInterval(()=>{if(N){clearInterval(tt),tt=null;return}var _=!1;for(var m in Xe)_||(_=!0,y("still waiting on run dependencies:")),y(`dependency: ${m}`);_&&y("(end of list)")},1e4))):y("warning: run dependency added without ID")}function Et(s){var _;if(Oe--,(_=e.monitorRunDependencies)==null||_.call(e,Oe),s?(b(Xe[s]),delete Xe[s]):y("warning: run dependency removed without ID"),Oe==0&&(tt!==null&&(clearInterval(tt),tt=null),nt)){var a=nt;nt=null,a()}}function we(s){var _;(_=e.onAbort)==null||_.call(e,s),s="Aborted("+s+")",y(s),N=!0;var a=new WebAssembly.RuntimeError(s);throw i(a),a}var B={error(){we("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){B.error()},createDataFile(){B.error()},createPreloadedFile(){B.error()},createLazyFile(){B.error()},open(){B.error()},mkdev(){B.error()},registerDevice(){B.error()},analyzePath(){B.error()},ErrnoError(){B.error()}};e.FS_createDataFile=B.createDataFile,e.FS_createPreloadedFile=B.createPreloadedFile;var rt="data:application/octet-stream;base64,",Nt=s=>s.startsWith(rt),Qe=s=>s.startsWith("file://");function se(s){return(...a)=>{b(Ce,`native function \`${s}\` called before runtime initialization`);var _=Zt[s];return b(_,`exported native function \`${s}\` not found`),_(...a)}}class Fe extends Error{}class Bt extends Fe{constructor(a){super(a),this.excPtr=a;const _=mt(a);this.name=_[0],this.message=_[1]}}var Le;e.locateFile?(Le="wasmMorph.wasm",Nt(Le)||(Le=v(Le))):Le=new URL("/escherization/assets/wasmMorph-8dEaH1kH.wasm",import.meta.url).href;function Ot(s){if(s==Le&&I)return new Uint8Array(I);throw"both async and sync fetching of the wasm failed"}function _t(s){return!I&&f&&typeof fetch=="function"?fetch(s,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw`failed to load wasm binary file at '${s}'`;return a.arrayBuffer()}).catch(()=>Ot(s)):Promise.resolve().then(()=>Ot(s))}function ft(s,a,_){return _t(s).then(m=>WebAssembly.instantiate(m,a)).then(_,m=>{y(`failed to asynchronously prepare wasm: ${m}`),Qe(Le)&&y(`warning: Loading from a file URI (${Le}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),we(m)})}function pt(s,a,_,m){return!s&&typeof WebAssembly.instantiateStreaming=="function"&&!Nt(a)&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(T=>{var S=WebAssembly.instantiateStreaming(T,_);return S.then(m,function(R){return y(`wasm streaming compile failed: ${R}`),y("falling back to ArrayBuffer instantiation"),ft(a,_,m)})}):ft(a,_,m)}function He(){var s={env:jr,wasi_snapshot_preview1:jr};function a(T,S){return Zt=T.exports,x=Zt.memory,b(x,"memory not found in wasm exports"),Ee(),Wn=Zt.__indirect_function_table,b(Wn,"table not found in wasm exports"),Ne(Zt.__wasm_call_ctors),Et("wasm-instantiate"),Zt}zt("wasm-instantiate");var _=e;function m(T){b(e===_,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),_=null,a(T.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(s,a)}catch(T){y(`Module.instantiateWasm callback failed with error: ${T}`),i(T)}return pt(I,Le,s,m).catch(i),{}}function H(s,a,_=!0){Object.getOwnPropertyDescriptor(e,s)||Object.defineProperty(e,s,{configurable:!0,get(){let m=_?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";we(`\`Module.${s}\` has been replaced by \`${a}\``+m)}})}function te(s){Object.getOwnPropertyDescriptor(e,s)&&we(`\`Module.${s}\` was supplied but \`${s}\` not included in INCOMING_MODULE_JS_API`)}function U(s){return s==="FS_createPath"||s==="FS_createDataFile"||s==="FS_createPreloadedFile"||s==="FS_unlink"||s==="addRunDependency"||s==="FS_createLazyFile"||s==="FS_createDevice"||s==="removeRunDependency"}function ue(s,a){typeof globalThis<"u"&&Object.defineProperty(globalThis,s,{configurable:!0,get(){it(`\`${s}\` is not longer defined by emscripten. ${a}`)}})}ue("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),ue("asm","Please use wasmExports instead");function Se(s){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,s)&&Object.defineProperty(globalThis,s,{configurable:!0,get(){var a=`\`${s}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,_=s;_.startsWith("_")||(_="$"+s),a+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${_}')`,U(s)&&(a+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),it(a)}}),ce(s)}function ce(s){Object.getOwnPropertyDescriptor(e,s)||Object.defineProperty(e,s,{configurable:!0,get(){var a=`'${s}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;U(s)&&(a+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),we(a)}})}var ze=s=>{for(;s.length>0;)s.shift()(e)},It=s=>{var a=Be(),_=s();return Ye(a),_},Ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,xe=(s,a,_)=>{for(var m=a+_,T=a;s[T]&&!(T>=m);)++T;if(T-a>16&&s.buffer&&Ae)return Ae.decode(s.subarray(a,T));for(var S="";a<T;){var R=s[a++];if(!(R&128)){S+=String.fromCharCode(R);continue}var D=s[a++]&63;if((R&224)==192){S+=String.fromCharCode((R&31)<<6|D);continue}var V=s[a++]&63;if((R&240)==224?R=(R&15)<<12|D<<6|V:((R&248)!=240&&it("Invalid UTF-8 leading byte "+Tt(R)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),R=(R&7)<<18|D<<12|V<<6|s[a++]&63),R<65536)S+=String.fromCharCode(R);else{var X=R-65536;S+=String.fromCharCode(55296|X>>10,56320|X&1023)}}return S},Re=(s,a)=>(b(typeof s=="number",`UTF8ToString expects a number (got ${typeof s})`),s?xe(C,s,a):""),Ze=s=>It(()=>{var a=kn(4),_=kn(4);Gi(s,a,_);var m=W[a>>2],T=W[_>>2],S=Re(m);Ut(m);var R;return T&&(R=Re(T),Ut(T)),[S,R]}),mt=s=>Ze(s);e.getExceptionMessage=mt,e.noExitRuntime;var Tt=s=>(b(typeof s=="number"),s>>>=0,"0x"+s.toString(16).padStart(8,"0")),it=s=>{it.shown||(it.shown={}),it.shown[s]||(it.shown[s]=1,y(s))},nn=(s,a,_,m)=>{we(`Assertion failed: ${Re(s)}, at: `+[a?Re(a):"unknown filename",_,m?Re(m):"unknown function"])},In=s=>{var a=new rn(s);return a.get_caught()||a.set_caught(!0),a.set_rethrown(!1),ni(a.excPtr),a.get_exception_ptr()},At=0;class rn{constructor(a){this.excPtr=a,this.ptr=a-24}set_type(a){W[this.ptr+4>>2]=a}get_type(){return W[this.ptr+4>>2]}set_destructor(a){W[this.ptr+8>>2]=a}get_destructor(){return W[this.ptr+8>>2]}set_caught(a){a=a?1:0,M[this.ptr+12]=a}get_caught(){return M[this.ptr+12]!=0}set_rethrown(a){a=a?1:0,M[this.ptr+13]=a}get_rethrown(){return M[this.ptr+13]!=0}init(a,_){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(_)}set_adjusted_ptr(a){W[this.ptr+16>>2]=a}get_adjusted_ptr(){return W[this.ptr+16>>2]}get_exception_ptr(){var a=qi(this.get_type());if(a)return W[this.excPtr>>2];var _=this.get_adjusted_ptr();return _!==0?_:this.excPtr}}var vn=s=>{throw At||(At=new Bt(s)),At},sn=s=>{var a=At==null?void 0:At.excPtr;if(!a)return zn(0),0;var _=new rn(a);_.set_adjusted_ptr(a);var m=_.get_type();if(!m)return zn(0),a;for(var T in s){var S=s[T];if(S===0||S===m)break;var R=_.ptr+16;if(Ji(S,m,R))return zn(S),a}return zn(m),a},Xn=()=>sn([]),Gn=s=>sn([s]),An=(s,a,_)=>{var m=new rn(s);throw m.init(a,_),At=new Bt(s),At},Xt={},en=s=>{for(;s.length;){var a=s.pop(),_=s.pop();_(a)}};function Jt(s){return this.fromWireType(W[s>>2])}var Gt={},xt={},qt={},an,Kt=s=>{throw new an(s)},Wt=(s,a,_)=>{s.forEach(function(D){qt[D]=a});function m(D){var V=_(D);V.length!==s.length&&Kt("Mismatched type converter count");for(var X=0;X<s.length;++X)$(s[X],V[X])}var T=new Array(a.length),S=[],R=0;a.forEach((D,V)=>{xt.hasOwnProperty(D)?T[V]=xt[D]:(S.push(D),Gt.hasOwnProperty(D)||(Gt[D]=[]),Gt[D].push(()=>{T[V]=xt[D],++R,R===S.length&&m(T)}))}),S.length===0&&m(T)},pn=s=>{var a=Xt[s];delete Xt[s];var _=a.rawConstructor,m=a.rawDestructor,T=a.fields,S=T.map(R=>R.getterReturnType).concat(T.map(R=>R.setterArgumentType));Wt([s],S,R=>{var D={};return T.forEach((V,X)=>{var z=V.fieldName,ae=R[X],Ie=V.getter,gt=V.getterContext,je=R[X+T.length],vt=V.setter,Tn=V.setterContext;D[z]={read:Sn=>ae.fromWireType(Ie(gt,Sn)),write:(Sn,Kn)=>{var Qt=[];vt(Tn,Sn,je.toWireType(Qt,Kn)),en(Qt)}}}),[{name:a.name,fromWireType:V=>{var X={};for(var z in D)X[z]=D[z].read(V);return m(V),X},toWireType:(V,X)=>{for(var z in D)if(!(z in X))throw new TypeError(`Missing field: "${z}"`);var ae=_();for(z in D)D[z].write(ae,X[z]);return V!==null&&V.push(m,ae),ae},argPackAdvance:oe,readValueFromPointer:Jt,destructorFunction:m}]})},on=(s,a,_,m,T)=>{},bn=()=>{for(var s=new Array(256),a=0;a<256;++a)s[a]=String.fromCharCode(a);fn=s},fn,Ge=s=>{for(var a="",_=s;C[_];)a+=fn[C[_++]];return a},bt,P=s=>{throw new bt(s)};function re(s,a,_={}){var m=a.name;if(s||P(`type "${m}" must have a positive integer typeid pointer`),xt.hasOwnProperty(s)){if(_.ignoreDuplicateRegistrations)return;P(`Cannot register type '${m}' twice`)}if(xt[s]=a,delete qt[s],Gt.hasOwnProperty(s)){var T=Gt[s];delete Gt[s],T.forEach(S=>S())}}function $(s,a,_={}){if(!("argPackAdvance"in a))throw new TypeError("registerType registeredInstance requires argPackAdvance");return re(s,a,_)}var oe=8,me=(s,a,_,m)=>{a=Ge(a),$(s,{name:a,fromWireType:function(T){return!!T},toWireType:function(T,S){return S?_:m},argPackAdvance:oe,readValueFromPointer:function(T){return this.fromWireType(C[T])},destructorFunction:null})},Ke=s=>({count:s.count,deleteScheduled:s.deleteScheduled,preservePointerOnDelete:s.preservePointerOnDelete,ptr:s.ptr,ptrType:s.ptrType,smartPtr:s.smartPtr,smartPtrType:s.smartPtrType}),We=s=>{function a(_){return _.$$.ptrType.registeredClass.name}P(a(s)+" instance already deleted")},ve=!1,yt=s=>{},ht=s=>{s.smartPtr?s.smartPtrType.rawDestructor(s.smartPtr):s.ptrType.registeredClass.rawDestructor(s.ptr)},Ct=s=>{s.count.value-=1;var a=s.count.value===0;a&&ht(s)},le=(s,a,_)=>{if(a===_)return s;if(_.baseClass===void 0)return null;var m=le(s,a,_.baseClass);return m===null?null:_.downcast(m)},pe={},de=()=>Object.keys(ut).length,$e=()=>{var s=[];for(var a in ut)ut.hasOwnProperty(a)&&s.push(ut[a]);return s},ot=[],Rt=()=>{for(;ot.length;){var s=ot.pop();s.$$.deleteScheduled=!1,s.delete()}},jt,wt=s=>{jt=s,ot.length&&jt&&jt(Rt)},Cr=()=>{e.getInheritedInstanceCount=de,e.getLiveInheritedInstances=$e,e.flushPendingDeletes=Rt,e.setDelayFunction=wt},ut={},Pr=(s,a)=>{for(a===void 0&&P("ptr should not be undefined");s.baseClass;)a=s.upcast(a),s=s.baseClass;return a},_r=(s,a)=>(a=Pr(s,a),ut[a]),Je=(s,a)=>{(!a.ptrType||!a.ptr)&&Kt("makeClassHandle requires ptr and ptrType");var _=!!a.smartPtrType,m=!!a.smartPtr;return _!==m&&Kt("Both smartPtrType and smartPtr must be specified"),a.count={value:1},un(Object.create(s,{$$:{value:a,writable:!0}}))};function xn(s){var a=this.getPointee(s);if(!a)return this.destructor(s),null;var _=_r(this.registeredClass,a);if(_!==void 0){if(_.$$.count.value===0)return _.$$.ptr=a,_.$$.smartPtr=s,_.clone();var m=_.clone();return this.destructor(s),m}function T(){return this.isSmartPointer?Je(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:a,smartPtrType:this,smartPtr:s}):Je(this.registeredClass.instancePrototype,{ptrType:this,ptr:s})}var S=this.registeredClass.getActualType(a),R=pe[S];if(!R)return T.call(this);var D;this.isConst?D=R.constPointerType:D=R.pointerType;var V=le(a,this.registeredClass,D.registeredClass);return V===null?T.call(this):this.isSmartPointer?Je(D.registeredClass.instancePrototype,{ptrType:D,ptr:V,smartPtrType:this,smartPtr:s}):Je(D.registeredClass.instancePrototype,{ptrType:D,ptr:V})}var un=s=>typeof FinalizationRegistry>"u"?(un=a=>a,s):(ve=new FinalizationRegistry(a=>{console.warn(a.leakWarning.stack.replace(/^Error: /,"")),Ct(a.$$)}),un=a=>{var _=a.$$,m=!!_.smartPtr;if(m){var T={$$:_},S=_.ptrType.registeredClass;T.leakWarning=new Error(`Embind found a leaked C++ instance ${S.name} <${Tt(_.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`),"captureStackTrace"in Error&&Error.captureStackTrace(T.leakWarning,xn),ve.register(a,T,a)}return a},yt=a=>ve.unregister(a),un(s)),pr=()=>{Object.assign(yn.prototype,{isAliasOf(s){if(!(this instanceof yn)||!(s instanceof yn))return!1;var a=this.$$.ptrType.registeredClass,_=this.$$.ptr;s.$$=s.$$;for(var m=s.$$.ptrType.registeredClass,T=s.$$.ptr;a.baseClass;)_=a.upcast(_),a=a.baseClass;for(;m.baseClass;)T=m.upcast(T),m=m.baseClass;return a===m&&_===T},clone(){if(this.$$.ptr||We(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var s=un(Object.create(Object.getPrototypeOf(this),{$$:{value:Ke(this.$$)}}));return s.$$.count.value+=1,s.$$.deleteScheduled=!1,s},delete(){this.$$.ptr||We(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&P("Object already scheduled for deletion"),yt(this),Ct(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||We(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&P("Object already scheduled for deletion"),ot.push(this),ot.length===1&&jt&&jt(Rt),this.$$.deleteScheduled=!0,this}})};function yn(){}var hn=(s,a)=>Object.defineProperty(a,"name",{value:s}),Jn=(s,a,_)=>{if(s[a].overloadTable===void 0){var m=s[a];s[a]=function(...T){return s[a].overloadTable.hasOwnProperty(T.length)||P(`Function '${_}' called with an invalid number of arguments (${T.length}) - expects one of (${s[a].overloadTable})!`),s[a].overloadTable[T.length].apply(this,T)},s[a].overloadTable=[],s[a].overloadTable[m.argCount]=m}},Un=(s,a,_)=>{e.hasOwnProperty(s)?((_===void 0||e[s].overloadTable!==void 0&&e[s].overloadTable[_]!==void 0)&&P(`Cannot register public name '${s}' twice`),Jn(e,s,s),e.hasOwnProperty(_)&&P(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`),e[s].overloadTable[_]=a):(e[s]=a,_!==void 0&&(e[s].numArguments=_))},ke=48,Ue=57,wn=s=>{if(s===void 0)return"_unknown";s=s.replace(/[^a-zA-Z0-9_]/g,"$");var a=s.charCodeAt(0);return a>=ke&&a<=Ue?`_${s}`:s};function hr(s,a,_,m,T,S,R,D){this.name=s,this.constructor=a,this.instancePrototype=_,this.rawDestructor=m,this.baseClass=T,this.getActualType=S,this.upcast=R,this.downcast=D,this.pureVirtualFunctions=[]}var tn=(s,a,_)=>{for(;a!==_;)a.upcast||P(`Expected null or instance of ${_.name}, got an instance of ${a.name}`),s=a.upcast(s),a=a.baseClass;return s};function gn(s,a){if(a===null)return this.isReference&&P(`null is not a valid ${this.name}`),0;a.$$||P(`Cannot pass "${ln(a)}" as a ${this.name}`),a.$$.ptr||P(`Cannot pass deleted object as a pointer of type ${this.name}`);var _=a.$$.ptrType.registeredClass,m=tn(a.$$.ptr,_,this.registeredClass);return m}function $n(s,a){var _;if(a===null)return this.isReference&&P(`null is not a valid ${this.name}`),this.isSmartPointer?(_=this.rawConstructor(),s!==null&&s.push(this.rawDestructor,_),_):0;(!a||!a.$$)&&P(`Cannot pass "${ln(a)}" as a ${this.name}`),a.$$.ptr||P(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&a.$$.ptrType.isConst&&P(`Cannot convert argument of type ${a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name} to parameter type ${this.name}`);var m=a.$$.ptrType.registeredClass;if(_=tn(a.$$.ptr,m,this.registeredClass),this.isSmartPointer)switch(a.$$.smartPtr===void 0&&P("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:a.$$.smartPtrType===this?_=a.$$.smartPtr:P(`Cannot convert argument of type ${a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:_=a.$$.smartPtr;break;case 2:if(a.$$.smartPtrType===this)_=a.$$.smartPtr;else{var T=a.clone();_=this.rawShare(_,jn.toHandle(()=>T.delete())),s!==null&&s.push(this.rawDestructor,_)}break;default:P("Unsupporting sharing policy")}return _}function er(s,a){if(a===null)return this.isReference&&P(`null is not a valid ${this.name}`),0;a.$$||P(`Cannot pass "${ln(a)}" as a ${this.name}`),a.$$.ptr||P(`Cannot pass deleted object as a pointer of type ${this.name}`),a.$$.ptrType.isConst&&P(`Cannot convert argument of type ${a.$$.ptrType.name} to parameter type ${this.name}`);var _=a.$$.ptrType.registeredClass,m=tn(a.$$.ptr,_,this.registeredClass);return m}var gr=()=>{Object.assign(mn.prototype,{getPointee(s){return this.rawGetPointee&&(s=this.rawGetPointee(s)),s},destructor(s){var a;(a=this.rawDestructor)==null||a.call(this,s)},argPackAdvance:oe,readValueFromPointer:Jt,fromWireType:xn})};function mn(s,a,_,m,T,S,R,D,V,X,z){this.name=s,this.registeredClass=a,this.isReference=_,this.isConst=m,this.isSmartPointer=T,this.pointeeType=S,this.sharingPolicy=R,this.rawGetPointee=D,this.rawConstructor=V,this.rawShare=X,this.rawDestructor=z,!T&&a.baseClass===void 0?m?(this.toWireType=gn,this.destructorFunction=null):(this.toWireType=er,this.destructorFunction=null):this.toWireType=$n}var Lt=(s,a,_)=>{e.hasOwnProperty(s)||Kt("Replacing nonexistent public symbol"),e[s].overloadTable!==void 0&&_!==void 0?e[s].overloadTable[_]=a:(e[s]=a,e[s].argCount=_)},mr=(s,a,_)=>{b("dynCall_"+s in e,`bad function pointer type - dynCall function not found for sig '${s}'`),_!=null&&_.length?b(_.length===s.substring(1).replace(/j/g,"--").length):b(s.length==1);var m=e["dynCall_"+s];return m(a,..._)},Vn=[],Wn,Me=s=>{var a=Vn[s];return a||(s>=Vn.length&&(Vn.length=s+1),Vn[s]=a=Wn.get(s)),b(Wn.get(s)==a,"JavaScript-side Wasm function table mirror is out of date!"),a},Fr=(s,a,_=[])=>{if(s.includes("j"))return mr(s,a,_);b(Me(a),`missing table entry in dynCall: ${a}`);var m=Me(a)(..._);return m},qr=(s,a)=>(b(s.includes("j")||s.includes("p"),"getDynCaller should only be called with i64 sigs"),(..._)=>Fr(s,a,_)),Pt=(s,a)=>{s=Ge(s);function _(){return s.includes("j")?qr(s,a):Me(a)}var m=_();return typeof m!="function"&&P(`unknown function pointer with signature ${s}: ${a}`),m},mi=(s,a)=>{var _=hn(a,function(m){this.name=a,this.message=m;var T=new Error(m).stack;T!==void 0&&(this.stack=this.toString()+`
`+T.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(s.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},Ir,Ar=s=>{var a=Xi(s),_=Ge(a);return Ut(a),_},Yn=(s,a)=>{var _=[],m={};function T(S){if(!m[S]&&!xt[S]){if(qt[S]){qt[S].forEach(T);return}_.push(S),m[S]=!0}}throw a.forEach(T),new Ir(`${s}: `+_.map(Ar).join([", "]))},vi=(s,a,_,m,T,S,R,D,V,X,z,ae,Ie)=>{z=Ge(z),S=Pt(T,S),D&&(D=Pt(R,D)),X&&(X=Pt(V,X)),Ie=Pt(ae,Ie);var gt=wn(z);Un(gt,function(){Yn(`Cannot construct ${z} due to unbound types`,[m])}),Wt([s,a,_],m?[m]:[],je=>{var ys;je=je[0];var vt,Tn;m?(vt=je.registeredClass,Tn=vt.instancePrototype):Tn=yn.prototype;var Sn=hn(z,function(...ls){if(Object.getPrototypeOf(this)!==Kn)throw new bt("Use 'new' to construct "+z);if(Qt.constructor_body===void 0)throw new bt(z+" has no accessible constructor");var ws=Qt.constructor_body[ls.length];if(ws===void 0)throw new bt(`Tried to invoke ctor of ${z} with invalid number of parameters (${ls.length}) - expected (${Object.keys(Qt.constructor_body).toString()}) parameters instead!`);return ws.apply(this,ls)}),Kn=Object.create(Tn,{constructor:{value:Sn}});Sn.prototype=Kn;var Qt=new hr(z,Sn,Kn,Ie,vt,S,D,X);Qt.baseClass&&((ys=Qt.baseClass).__derivedClasses??(ys.__derivedClasses=[]),Qt.baseClass.__derivedClasses.push(Qt));var Br=new mn(z,Qt,!0,!1,!1),Xr=new mn(z+"*",Qt,!1,!1,!1),bs=new mn(z+" const*",Qt,!1,!0,!1);return pe[s]={pointerType:Xr,constPointerType:bs},Lt(gt,Sn),[Br,Xr,bs]})},tr=(s,a)=>{for(var _=[],m=0;m<s;m++)_.push(W[a+m*4>>2]);return _};function xr(s){for(var a=1;a<s.length;++a)if(s[a]!==null&&s[a].destructorFunction===void 0)return!0;return!1}function vr(s,a){if(!(s instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof s} which is not a function`);var _=hn(s.name||"unknownFunctionName",function(){});_.prototype=s.prototype;var m=new _,T=s.apply(m,a);return T instanceof Object?T:m}function Zr(s,a,_,m){for(var T=xr(s),S=s.length,R="",D="",V=0;V<S-2;++V)R+=(V!==0?", ":"")+"arg"+V,D+=(V!==0?", ":"")+"arg"+V+"Wired";var X=`
        return function (${R}) {
        if (arguments.length !== ${S-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${S-2}');
        }`;T&&(X+=`var destructors = [];
`);var z=T?"destructors":"null",ae=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];a&&(X+="var thisWired = classParam['toWireType']("+z+`, this);
`);for(var V=0;V<S-2;++V)X+="var arg"+V+"Wired = argType"+V+"['toWireType']("+z+", arg"+V+`);
`,ae.push("argType"+V);if(a&&(D="thisWired"+(D.length>0?", ":"")+D),X+=(_||m?"var rv = ":"")+"invoker(fn"+(D.length>0?", ":"")+D+`);
`,T)X+=`runDestructors(destructors);
`;else for(var V=a?1:2;V<s.length;++V){var Ie=V===1?"thisWired":"arg"+(V-2)+"Wired";s[V].destructorFunction!==null&&(X+=`${Ie}_dtor(${Ie});
`,ae.push(`${Ie}_dtor`))}return _&&(X+=`var ret = retType['fromWireType'](rv);
return ret;
`),X+=`}
`,X=`if (arguments.length !== ${ae.length}){ throw new Error(humanName + "Expected ${ae.length} closure arguments " + arguments.length + " given."); }
${X}`,[ae,X]}function nr(s,a,_,m,T,S){var R=a.length;R<2&&P("argTypes array size mismatch! Must at least get return value and 'this' types!"),b(!S,"Async bindings are only supported with JSPI.");for(var D=a[1]!==null&&_!==null,V=xr(a),X=a[0].name!=="void",z=[s,P,m,T,en,a[0],a[1]],ae=0;ae<R-2;++ae)z.push(a[ae+2]);if(!V)for(var ae=D?1:2;ae<a.length;++ae)a[ae].destructorFunction!==null&&z.push(a[ae].destructorFunction);let[Ie,gt]=Zr(a,D,X,S);Ie.push(gt);var je=vr(Function,Ie)(...z);return hn(s,je)}var bi=(s,a,_,m,T,S)=>{b(a>0);var R=tr(a,_);T=Pt(m,T),Wt([],[s],D=>{D=D[0];var V=`constructor ${D.name}`;if(D.registeredClass.constructor_body===void 0&&(D.registeredClass.constructor_body=[]),D.registeredClass.constructor_body[a-1]!==void 0)throw new bt(`Cannot register multiple constructors with identical number of parameters (${a-1}) for class '${D.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return D.registeredClass.constructor_body[a-1]=()=>{Yn(`Cannot construct ${D.name} due to unbound types`,R)},Wt([],R,X=>(X.splice(1,0,null),D.registeredClass.constructor_body[a-1]=nr(V,X,null,T,S),[])),[]})},Rr=s=>{s=s.trim();const a=s.indexOf("(");return a!==-1?(b(s[s.length-1]==")","Parentheses for argument names should match."),s.substr(0,a)):s},yi=(s,a,_,m,T,S,R,D,V)=>{var X=tr(_,m);a=Ge(a),a=Rr(a),S=Pt(T,S),Wt([],[s],z=>{z=z[0];var ae=`${z.name}.${a}`;a.startsWith("@@")&&(a=Symbol[a.substring(2)]),D&&z.registeredClass.pureVirtualFunctions.push(a);function Ie(){Yn(`Cannot call ${ae} due to unbound types`,X)}var gt=z.registeredClass.instancePrototype,je=gt[a];return je===void 0||je.overloadTable===void 0&&je.className!==z.name&&je.argCount===_-2?(Ie.argCount=_-2,Ie.className=z.name,gt[a]=Ie):(Jn(gt,a,ae),gt[a].overloadTable[_-2]=Ie),Wt([],X,vt=>{var Tn=nr(ae,vt,z,S,R,V);return gt[a].overloadTable===void 0?(Tn.argCount=_-2,gt[a]=Tn):gt[a].overloadTable[_-2]=Tn,[]}),[]})},rr=[],Ft=[],Mr=s=>{s>9&&--Ft[s+1]===0&&(b(Ft[s]!==void 0,"Decref for unallocated handle."),Ft[s]=void 0,rr.push(s))},wi=()=>Ft.length/2-5-rr.length,ki=()=>{Ft.push(0,1,void 0,1,null,1,!0,1,!1,1),b(Ft.length===5*2),e.count_emval_handles=wi},jn={toValue:s=>(s||P("Cannot use deleted val. handle = "+s),b(s===2||Ft[s]!==void 0&&s%2===0,`invalid handle: ${s}`),Ft[s]),toHandle:s=>{switch(s){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const a=rr.pop()||Ft.length;return Ft[a]=s,Ft[a+1]=1,a}}}},Ti={name:"emscripten::val",fromWireType:s=>{var a=jn.toValue(s);return Mr(s),a},toWireType:(s,a)=>jn.toHandle(a),argPackAdvance:oe,readValueFromPointer:Jt,destructorFunction:null},Dr=s=>$(s,Ti),ln=s=>{if(s===null)return"null";var a=typeof s;return a==="object"||a==="array"||a==="function"?s.toString():""+s},br=(s,a)=>{switch(a){case 4:return function(_){return this.fromWireType(ne[_>>2])};case 8:return function(_){return this.fromWireType(ee[_>>3])};default:throw new TypeError(`invalid float width (${a}): ${s}`)}},Nr=(s,a,_)=>{a=Ge(a),$(s,{name:a,fromWireType:m=>m,toWireType:(m,T)=>{if(typeof T!="number"&&typeof T!="boolean")throw new TypeError(`Cannot convert ${ln(T)} to ${this.name}`);return T},argPackAdvance:oe,readValueFromPointer:br(a,_),destructorFunction:null})},Hn=(s,a,_,m,T,S,R)=>{var D=tr(a,_);s=Ge(s),s=Rr(s),T=Pt(m,T),Un(s,function(){Yn(`Cannot call ${s} due to unbound types`,D)},a-1),Wt([],D,V=>{var X=[V[0],null].concat(V.slice(1));return Lt(s,nr(s,X,null,T,S,R),a-1),[]})},Kr=(s,a,_)=>{switch(a){case 1:return _?m=>M[m]:m=>C[m];case 2:return _?m=>A[m>>1]:m=>Y[m>>1];case 4:return _?m=>L[m>>2]:m=>W[m>>2];default:throw new TypeError(`invalid integer width (${a}): ${s}`)}},Qr=(s,a,_,m,T)=>{a=Ge(a),T===-1&&(T=4294967295);var S=z=>z;if(m===0){var R=32-8*_;S=z=>z<<R>>>R}var D=a.includes("unsigned"),V=(z,ae)=>{if(typeof z!="number"&&typeof z!="boolean")throw new TypeError(`Cannot convert "${ln(z)}" to ${ae}`);if(z<m||z>T)throw new TypeError(`Passing a number "${ln(z)}" from JS side to C/C++ side to an argument of type "${a}", which is outside the valid range [${m}, ${T}]!`)},X;D?X=function(z,ae){return V(ae,this.name),ae>>>0}:X=function(z,ae){return V(ae,this.name),ae},$(s,{name:a,fromWireType:S,toWireType:X,argPackAdvance:oe,readValueFromPointer:Kr(a,_,m!==0),destructorFunction:null})},Si=(s,a,_)=>{var m=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],T=m[a];function S(R){var D=W[R>>2],V=W[R+4>>2];return new T(M.buffer,V,D)}_=Ge(_),$(s,{name:_,fromWireType:S,argPackAdvance:oe,readValueFromPointer:S},{ignoreDuplicateRegistrations:!0})},Ei=(s,a)=>{Dr(s)},Ci=(s,a,_,m)=>{if(b(typeof s=="string",`stringToUTF8Array expects a string (got ${typeof s})`),!(m>0))return 0;for(var T=_,S=_+m-1,R=0;R<s.length;++R){var D=s.charCodeAt(R);if(D>=55296&&D<=57343){var V=s.charCodeAt(++R);D=65536+((D&1023)<<10)|V&1023}if(D<=127){if(_>=S)break;a[_++]=D}else if(D<=2047){if(_+1>=S)break;a[_++]=192|D>>6,a[_++]=128|D&63}else if(D<=65535){if(_+2>=S)break;a[_++]=224|D>>12,a[_++]=128|D>>6&63,a[_++]=128|D&63}else{if(_+3>=S)break;D>1114111&&it("Invalid Unicode code point "+Tt(D)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),a[_++]=240|D>>18,a[_++]=128|D>>12&63,a[_++]=128|D>>6&63,a[_++]=128|D&63}}return a[_]=0,_-T},qn=(s,a,_)=>(b(typeof _=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Ci(s,C,a,_)),Or=s=>{for(var a=0,_=0;_<s.length;++_){var m=s.charCodeAt(_);m<=127?a++:m<=2047?a+=2:m>=55296&&m<=57343?(a+=4,++_):a+=3}return a},Pi=(s,a)=>{a=Ge(a);var _=a==="std::string";$(s,{name:a,fromWireType(m){var T=W[m>>2],S=m+4,R;if(_)for(var D=S,V=0;V<=T;++V){var X=S+V;if(V==T||C[X]==0){var z=X-D,ae=Re(D,z);R===void 0?R=ae:(R+="\0",R+=ae),D=X+1}}else{for(var Ie=new Array(T),V=0;V<T;++V)Ie[V]=String.fromCharCode(C[S+V]);R=Ie.join("")}return Ut(m),R},toWireType(m,T){T instanceof ArrayBuffer&&(T=new Uint8Array(T));var S,R=typeof T=="string";R||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int8Array||P("Cannot pass non-string to std::string"),_&&R?S=Or(T):S=T.length;var D=Hr(4+S+1),V=D+4;if(W[D>>2]=S,_&&R)qn(T,V,S+1);else if(R)for(var X=0;X<S;++X){var z=T.charCodeAt(X);z>255&&(Ut(V),P("String has UTF-16 code units that do not fit in 8 bits")),C[V+X]=z}else for(var X=0;X<S;++X)C[V+X]=T[X];return m!==null&&m.push(Ut,D),D},argPackAdvance:oe,readValueFromPointer:Jt,destructorFunction(m){Ut(m)}})},Rn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Fi=(s,a)=>{b(s%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var _=s,m=_>>1,T=m+a/2;!(m>=T)&&Y[m];)++m;if(_=m<<1,_-s>32&&Rn)return Rn.decode(C.subarray(s,_));for(var S="",R=0;!(R>=a/2);++R){var D=A[s+R*2>>1];if(D==0)break;S+=String.fromCharCode(D)}return S},Lr=(s,a,_)=>{if(b(a%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),b(typeof _=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),_??(_=2147483647),_<2)return 0;_-=2;for(var m=a,T=_<s.length*2?_/2:s.length,S=0;S<T;++S){var R=s.charCodeAt(S);A[a>>1]=R,a+=2}return A[a>>1]=0,a-m},Ii=s=>s.length*2,Ai=(s,a)=>{b(s%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var _=0,m="";!(_>=a/4);){var T=L[s+_*4>>2];if(T==0)break;if(++_,T>=65536){var S=T-65536;m+=String.fromCharCode(55296|S>>10,56320|S&1023)}else m+=String.fromCharCode(T)}return m},Ur=(s,a,_)=>{if(b(a%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),b(typeof _=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),_??(_=2147483647),_<4)return 0;for(var m=a,T=m+_-4,S=0;S<s.length;++S){var R=s.charCodeAt(S);if(R>=55296&&R<=57343){var D=s.charCodeAt(++S);R=65536+((R&1023)<<10)|D&1023}if(L[a>>2]=R,a+=4,a+4>T)break}return L[a>>2]=0,a-m},Vr=s=>{for(var a=0,_=0;_<s.length;++_){var m=s.charCodeAt(_);m>=55296&&m<=57343&&++_,a+=4}return a},$r=(s,a,_)=>{_=Ge(_);var m,T,S,R;a===2?(m=Fi,T=Lr,R=Ii,S=D=>Y[D>>1]):a===4&&(m=Ai,T=Ur,R=Vr,S=D=>W[D>>2]),$(s,{name:_,fromWireType:D=>{for(var V=W[D>>2],X,z=D+4,ae=0;ae<=V;++ae){var Ie=D+4+ae*a;if(ae==V||S(Ie)==0){var gt=Ie-z,je=m(z,gt);X===void 0?X=je:(X+="\0",X+=je),z=Ie+a}}return Ut(D),X},toWireType:(D,V)=>{typeof V!="string"&&P(`Cannot pass non-string to C++ string type ${_}`);var X=R(V),z=Hr(4+X+a);return W[z>>2]=X/a,T(V,z+4,X+a),D!==null&&D.push(Ut,z),z},argPackAdvance:oe,readValueFromPointer:Jt,destructorFunction(D){Ut(D)}})},Wr=(s,a,_,m,T,S)=>{Xt[s]={name:Ge(a),rawConstructor:Pt(_,m),rawDestructor:Pt(T,S),fields:[]}},ei=(s,a,_,m,T,S,R,D,V,X)=>{Xt[s].fields.push({fieldName:Ge(a),getterReturnType:_,getter:Pt(m,T),getterContext:S,setterArgumentType:R,setter:Pt(D,V),setterContext:X})},xi=(s,a)=>{a=Ge(a),$(s,{isVoid:!0,name:a,argPackAdvance:0,fromWireType:()=>{},toWireType:(_,m)=>{}})},Ri=(s,a)=>{var _=xt[s];return _===void 0&&P(`${a} has unknown type ${Ar(s)}`),_},Mi=(s,a)=>{s=Ri(s,"_emval_take_value");var _=s.readValueFromPointer(a);return jn.toHandle(_)},Di=()=>{we("native code called abort()")},Ni=(s,a,_)=>C.copyWithin(s,a,a+_),Oi=s=>{we(`Cannot enlarge memory arrays to size ${s} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${M.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)},Li=s=>{C.length,s>>>=0,Oi(s)},yr=s=>{we("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},Zn=(s,a)=>(b(s==s>>>0||s==(s|0)),b(a===(a|0)),a+2097152>>>0<4194305-!!s?(s>>>0)+a*4294967296:NaN);function ti(s,a,_,m,T){return Zn(a,_),70}var Ui=[null,[],[]],Vi=(s,a)=>{var _=Ui[s];b(_),a===0||a===10?((s===1?w:y)(xe(_,0)),_.length=0):_.push(a)},Wi=(s,a,_,m)=>{for(var T=0,S=0;S<_;S++){var R=W[a>>2],D=W[a+4>>2];a+=8;for(var V=0;V<D;V++)Vi(s,C[R+V]);T+=D}return W[m>>2]=T,0},Yi=s=>{var a=e["_"+s];return b(a,"Cannot call unknown function "+s+", make sure it is exported"),a},ji=(s,a)=>{b(s.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),M.set(s,a)},Hi=s=>{var a=Or(s)+1,_=kn(a);return qn(s,_,a),_},Yr=(s,a,_,m,T)=>{var S={string:je=>{var vt=0;return je!=null&&je!==0&&(vt=Hi(je)),vt},array:je=>{var vt=kn(je.length);return ji(je,vt),vt}};function R(je){return a==="string"?Re(je):a==="boolean"?!!je:je}var D=Yi(s),V=[],X=0;if(b(a!=="array",'Return type should not be "array".'),m)for(var z=0;z<m.length;z++){var ae=S[_[z]];ae?(X===0&&(X=Be()),V[z]=ae(m[z])):V[z]=m[z]}var Ie=D(...V);function gt(je){return X!==0&&Ye(X),R(je)}return Ie=gt(Ie),Ie},zi=(s,a,_,m)=>(...T)=>Yr(s,a,_,T);an=e.InternalError=class extends Error{constructor(a){super(a),this.name="InternalError"}},bn(),bt=e.BindingError=class extends Error{constructor(a){super(a),this.name="BindingError"}},pr(),Cr(),gr(),Ir=e.UnboundTypeError=mi(Error,"UnboundTypeError"),ki();function Bi(){te("fetchSettings")}var jr={__assert_fail:nn,__cxa_begin_catch:In,__cxa_find_matching_catch_2:Xn,__cxa_find_matching_catch_3:Gn,__cxa_throw:An,__resumeException:vn,_embind_finalize_value_object:pn,_embind_register_bigint:on,_embind_register_bool:me,_embind_register_class:vi,_embind_register_class_constructor:bi,_embind_register_class_function:yi,_embind_register_emval:Dr,_embind_register_float:Nr,_embind_register_function:Hn,_embind_register_integer:Qr,_embind_register_memory_view:Si,_embind_register_optional:Ei,_embind_register_std_string:Pi,_embind_register_std_wstring:$r,_embind_register_value_object:Wr,_embind_register_value_object_field:ei,_embind_register_void:xi,_emval_decref:Mr,_emval_take_value:Mi,abort:Di,emscripten_memcpy_js:Ni,emscripten_resize_heap:Li,fd_close:yr,fd_seek:ti,fd_write:Wi,invoke_i:ss,invoke_ii:ts,invoke_iidd:es,invoke_iii:Qi,invoke_iiii:Ki,invoke_iiiii:si,invoke_v:os,invoke_vi:oi,invoke_vii:Zi,invoke_viii:$i,invoke_viiif:ii,invoke_viiiffffiiiii:as,invoke_viiifffi:ai,invoke_viiifiiii:wr,invoke_viiii:is,invoke_viiiiii:rs,invoke_viiiiiiii:ns,invoke_viiiiiiiiii:ri},Zt=He();e.__Z15getMorphOutlineiifNSt3__26vectorIhNS_9allocatorIhEEEENS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE=se("_Z15getMorphOutlineiifNSt3__26vectorIhNS_9allocatorIhEEEENS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE"),e.__Z7getBBoxNSt3__26vectorI11FeatureLineNS_9allocatorIS1_EEEENS0_IdNS2_IdEEEE=se("_Z7getBBoxNSt3__26vectorI11FeatureLineNS_9allocatorIS1_EEEENS0_IdNS2_IdEEEE"),e.__Z7doMorphiiffffNSt3__26vectorIhNS_9allocatorIhEEEES3_NS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE=se("_Z7doMorphiiffffNSt3__26vectorIhNS_9allocatorIhEEEES3_NS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE");var Xi=se("__getTypeName"),Hr=se("malloc"),Ut=se("free"),et=se("setThrew"),zn=se("setTempRet0"),zr=()=>(zr=Zt.emscripten_stack_init)(),ir=()=>(ir=Zt.emscripten_stack_get_end)(),Be=se("stackSave"),Ye=se("stackRestore"),kn=se("stackAlloc"),ni=se("__cxa_increment_exception_refcount"),Gi=se("__get_exception_message"),Ji=se("__cxa_can_catch"),qi=se("__cxa_is_pointer_type");e.dynCall_jiji=se("dynCall_jiji");function Zi(s,a,_){var m=Be();try{Me(s)(a,_)}catch(T){if(Ye(m),!(T instanceof Fe))throw T;et(1,0)}}function Ki(s,a,_,m){var T=Be();try{return Me(s)(a,_,m)}catch(S){if(Ye(T),!(S instanceof Fe))throw S;et(1,0)}}function Qi(s,a,_){var m=Be();try{return Me(s)(a,_)}catch(T){if(Ye(m),!(T instanceof Fe))throw T;et(1,0)}}function $i(s,a,_,m){var T=Be();try{Me(s)(a,_,m)}catch(S){if(Ye(T),!(S instanceof Fe))throw S;et(1,0)}}function es(s,a,_,m){var T=Be();try{return Me(s)(a,_,m)}catch(S){if(Ye(T),!(S instanceof Fe))throw S;et(1,0)}}function ts(s,a){var _=Be();try{return Me(s)(a)}catch(m){if(Ye(_),!(m instanceof Fe))throw m;et(1,0)}}function ri(s,a,_,m,T,S,R,D,V,X,z){var ae=Be();try{Me(s)(a,_,m,T,S,R,D,V,X,z)}catch(Ie){if(Ye(ae),!(Ie instanceof Fe))throw Ie;et(1,0)}}function ns(s,a,_,m,T,S,R,D,V){var X=Be();try{Me(s)(a,_,m,T,S,R,D,V)}catch(z){if(Ye(X),!(z instanceof Fe))throw z;et(1,0)}}function rs(s,a,_,m,T,S,R){var D=Be();try{Me(s)(a,_,m,T,S,R)}catch(V){if(Ye(D),!(V instanceof Fe))throw V;et(1,0)}}function ii(s,a,_,m,T){var S=Be();try{Me(s)(a,_,m,T)}catch(R){if(Ye(S),!(R instanceof Fe))throw R;et(1,0)}}function si(s,a,_,m,T){var S=Be();try{return Me(s)(a,_,m,T)}catch(R){if(Ye(S),!(R instanceof Fe))throw R;et(1,0)}}function ai(s,a,_,m,T,S,R,D){var V=Be();try{Me(s)(a,_,m,T,S,R,D)}catch(X){if(Ye(V),!(X instanceof Fe))throw X;et(1,0)}}function is(s,a,_,m,T){var S=Be();try{Me(s)(a,_,m,T)}catch(R){if(Ye(S),!(R instanceof Fe))throw R;et(1,0)}}function ss(s){var a=Be();try{return Me(s)()}catch(_){if(Ye(a),!(_ instanceof Fe))throw _;et(1,0)}}function oi(s,a){var _=Be();try{Me(s)(a)}catch(m){if(Ye(_),!(m instanceof Fe))throw m;et(1,0)}}function as(s,a,_,m,T,S,R,D,V,X,z,ae,Ie){var gt=Be();try{Me(s)(a,_,m,T,S,R,D,V,X,z,ae,Ie)}catch(je){if(Ye(gt),!(je instanceof Fe))throw je;et(1,0)}}function wr(s,a,_,m,T,S,R,D,V){var X=Be();try{Me(s)(a,_,m,T,S,R,D,V)}catch(z){if(Ye(X),!(z instanceof Fe))throw z;et(1,0)}}function os(s){var a=Be();try{Me(s)()}catch(_){if(Ye(a),!(_ instanceof Fe))throw _;et(1,0)}}e.ccall=Yr,e.cwrap=zi;var li=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","growMemory","isLeapYear","ydayFromDate","arraySum","addDays","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","Browser_asyncPrepareDataCounter","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_createDataFile","FS_unlink","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","getFunctionArgsName","createJsInvokerSignature","registerInheritedInstance","unregisterInheritedInstance","enumReadValueFromPointer","validateThis","getStringOrSymbol","emval_get_global","emval_returnValue","emval_lookupTypes","emval_addMethodCaller"];li.forEach(Se);var l=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","abortOnCannotGrowMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","jstoi_s","dynCallLegacy","getDynCaller","dynCall","wasmTable","noExitRuntime","getCFunc","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","getPreloadedImageData__data","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","createJsInvoker","UnboundTypeError","PureVirtualError","GenericWireTypeSize","EmValType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","registeredPointers","registerType","integerReadValueFromPointer","floatReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_methodCallers","reflectConstruct"];l.forEach(ce);var c;nt=function s(){c||F(),c||(nt=s)};function k(){zr(),ye()}function F(){if(Oe>0||(k(),Pe(),Oe>0))return;function s(){c||(c=!0,e.calledRun=!0,!N&&(ge(),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),b(!e._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),dt()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),s()},1)):s(),be()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return F(),t.ready}})();const J={J:10001,U:10002,S:10003,I:10004};function js(n,t){return[n[0]*t[0]+n[1]*t[3],n[0]*t[1]+n[1]*t[4],n[0]*t[2]+n[1]*t[5]+n[2],n[3]*t[0]+n[4]*t[3],n[3]*t[1]+n[4]*t[4],n[3]*t[2]+n[4]*t[5]+n[5]]}function Ml(n,t){return[t.x-n.x,n.y-t.y,n.x,t.y-n.y,t.x-n.x,n.y]}const Dl=function(){const n=[J.J,J.J,J.J],t=[J.S,J.J,J.S,J.S,J.S],e=[J.S,J.J,J.J,J.S],r=[J.S,J.J,J.S,J.J],i=[J.S,J.S,J.S],o=[J.S,J.J],f=[J.J],p=[J.S],h=[J.U,J.J],u=[J.U,J.S,J.S],g=[J.J,J.I],v=[J.S,J.I,J.S],w=[J.I,J.J],y=[J.I,J.S],I=[J.U],x=[J.I],N=[J.S,J.J,J.J],b=[J.J,J.J,J.I],M=[J.S,J.S,J.J,J.S],C=[J.S,J.S,J.J,J.I],A=[J.J,J.J,J.S],Y=[J.S,J.I,J.I],L=[J.J,J.I,J.I],W=[J.J,J.J],ne=[J.I,J.I],ee=[J.J,J.S],Ee=[J.S,J.S,J.S,J.S],ye=[J.J,J.S,J.S],be=[J.I,J.S,J.I,J.S],he=[J.J,J.I,J.S],fe=[J.I,J.I,J.I,J.S],G=[J.S,J.S],Ce=[J.S,J.I],Pe=[J.U,J.I],ge=[J.U,J.S],dt=[J.I,J.I,J.I],K=[J.I,J.S,J.I],Ne=[J.I,J.S,J.S],qe=[0,1,2,0,1,2],Oe=[0,0,1,2,2,1],tt=[0,1,0,2,1,2],nt=[0,1,2,3,1,4],Xe=[0,1,2,2,1,3],zt=[0,1,2,3,1,3],Et=[0,0,1,1,2,2],we=[0,1,1,0,1,1],B=[0,0,0,0,0,0],rt=[0,1,2,0,2,1],Nt=[0,1,0,0,1,0],Qe=[0,1,2,2,1,0],se=[0,1,1,1,1,0],Fe=[0,1,1,2,2],Bt=[0,0,1,2,1],Le=[0,1,2,3,2],Ot=[0,1,2,1,2],_t=[0,1,1,1,1],ft=[0,1,2,0],pt=[0,1,1,0],He=[0,0,0,0],H=[0,1,0],te=[0,1,0,1],U=[0,1,0,2],ue=[0,0,1,1],Se=[0,1,2,3],ce=[0,0,1,2],ze=[0,1,2],It=[0,0,1],Ae=[0,0,0],xe=[!1,!1,!1,!1,!1,!1,!1,!0,!1,!0,!1,!0],Re=[!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1,!0],Ze=[!1,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!0],mt=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1],Tt=[!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!1],it=[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0],nn=[!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0],In=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],At=[!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0],rn=[!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!0,!1],vn=[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1],sn=[!1,!1,!1,!1,!0,!0,!1,!0,!0,!1,!0,!1],Xn=[!1,!1,!1,!1,!1,!1,!0,!1,!0,!1,!0,!1],Gn=[!1,!1,!1,!1,!1,!0,!0,!0,!0,!1,!0,!1],An=[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!0,!1],Xt=[!1,!1,!1,!1,!1,!0,!1,!1,!1,!0],en=[!1,!1,!0,!0,!1,!1,!1,!1,!1,!0],Jt=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0],Gt=[!1,!1,!0,!1,!1,!1,!1,!1,!0,!1],xt=[!1,!1,!1,!1,!1,!1,!0,!0,!0,!0],qt=[!1,!1,!1,!1,!1,!0,!0,!0,!0,!1],an=[!1,!1,!1,!1,!1,!1,!1,!0],Kt=[!1,!1,!1,!1,!1,!0,!1,!0],Wt=[!1,!1,!1,!1,!0,!1,!0,!1],pn=[!1,!1,!1,!0,!1,!1,!1,!0],on=[!1,!1,!0,!1,!0,!0,!1,!0],bn=[!1,!1,!0,!1,!1,!1,!0,!1],fn=[!1,!1,!1,!1,!1,!0],Ge=[!1,!1,!1,!1,!0,!1],bt=[!1,!1,!1,!1,!1,!0,!1,!1],P=[!1,!1,!1,!1,!1,!0,!0,!0],re=[!1,!1,!0,!0,!1,!1,!0,!0],$=[!1,!1,!1,!1,!0,!0,!1,!1],oe=[!1,!1,!1,!1,!1,!1,!1,!1],me=[!1,!1,!1,!1,!0,!0,!0,!0],Ke=[!1,!1,!0,!0,!1,!1,!1,!1],We=[!1,!1,!1,!0,!1,!1,!1,!1],ve=[!1,!1,!1,!1,!1,!0,!0,!1],yt=[!1,!1,!1,!1,!0,!1,!1,!1],ht=[!1,!1,!0,!0,!1,!0,!0,!1],Ct=[!1,!1,!1,!0,!0,!0,!0,!1],le=[!1,!1,!1,!1,!1,!1],pe=[!1,!1,!0,!0,!1,!1],de=[!1,!1,!1,!0,!1,!1],$e=[!1,!1,!0,!1,!1,!1],ot=[.12239750492,.5,.143395479017,.625],Rt=[.12239750492,.5,.225335752741,.225335752741],jt=[.12239750492,.5,.225335752741,.625],wt=[.12239750492,.5,.315470053838,.5,.315470053838,.5],Cr=[.12239750492,.5,.225335752741,.225335752741,.5],ut=[.12239750492,.5,.225335752741,.625,.5],Pr=[.6,.196416770201],_r=[.12239750492,.5,.225335752741],Je=[],xn=[.12239750492,.225335752741],un=[.12239750492,.225335752741,.5],pr=[.12239750492,.225335752741,.225335752741],yn=[.216506350946],hn=[.104512294489,.65],Jn=[.230769230769,.5,.225335752741],Un=[.230769230769,.5,.225335752741,.5],ke=[.230769230769,.225335752741],Ue=[.141304,.465108,.534891],wn=[.452827026611,.5],hr=[.366873818946],tn=[.230769230769],gn=[.230769230769,.5],$n=[.5,.102564102564],er=[.230769230769,.869565217391],gr=[.5,.230769230769,.5,.5],mn=[.230769230769,.5,.230769230769],Lt=[.5,.5,.6],mr=[.5,.102564102564,.102564102564],Vn=[.230769230769,.230769230769],Wn=[.5],Me=[.105263157895],Fr=[.196416770201],qr=[.5,.196416770201],Pt=[0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,5.5,0,-.4,0,5,0,-4,.5,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1,0,0,-5.5,0,.5,0,0,0,4,-2],mi=[3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,0,3.5,-.4,0,5,0,0,-2,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1,0,0,-3.5,0,.5,0,0,0,0,.5,0,0,0,0,0,0,0,0,0,0],Ir=[0,0,-3.5,0,.5,0,0,0,4,-2,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,3.5,0,-.4,0,5,0,4,-4.5,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1],Ar=[0,0,-2.5,0,0,0,.5,0,0,0,3,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,0,0,.1,0,5,0,0,0,0,-2.5,3.9,0,0,0,2.5,0,-.4,0,5,0,0,0,3,-3.5,3.9,0,0,0,0,0,.1,0,5,0,0,0,0,-1.5,0,0,0,0,0,0,0,0,0,0,0,0,0,1],Yn=[3.9,0,0,3.5,0,-.4,0,5,0,0,5,-4.5,3.9,0,0,0,0,.1,0,5,0,0,0,-1.5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,-3.5,0,0,.5,0,0,0,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,0,.1,0,5,0,0,0,-2.5],vi=[3.9,0,3.5,0,0,-.4,0,-5,0,4,0,.5,3.9,0,0,0,5,-2.4,0,5,0,0,0,-1.5,0,0,0,0,5,-2.5,0,0,0,0,0,1,0,0,-3.5,0,0,.5,0,0,0,4,0,-2,0,0,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,0,.1,0,-5,0,0,0,2.5],tr=[0,0,0,0,0,0,0,0,.5,0,0,-.288675134595,0,0,1,0,0,0,2.5,1.12583302492,-.721132486541,-1.44337567297,1.95,1.06036297108,5,0,-2.5,0,3.9,.1,2.5,-1.12583302492,-1.27886751346,1.44337567297,1.95,-.671687836487],xr=[0,0,0,0,0,0,0,0,3.9,0,0,.1,0,5,0,-2.5,3.9,0,3.5,-.4,0,5,0,-2,3.9,0,0,.1,0,5,0,-1.5,0,0,0,0,0,0,0,1,0,0,-3.5,.5,0,0,0,.5],vr=[1,0,.5,.866025403784,-.5,.866025403784,-1,0,-.5,-.866025403784,.5,-.866025403784],Zr=[0,0,0,0,0,0,3.9,0,.1,0,0,0,3.9,3.5,-.4,0,0,.5,3.9,0,.1,0,0,1,0,0,0,0,0,1,0,-3.5,.5,0,0,.5],nr=[0,0,0,0,0,0,0,0,3.9,0,0,.1,0,0,0,0,3.9,3.5,0,-.4,0,0,5,-2,3.9,0,0,.1,0,0,0,1,0,0,0,0,0,0,0,1,0,-3.5,0,.5,0,0,5,-2],bi=[3.9,3.5,-.4,0,0,.5,3.9,0,.1,0,0,1,0,0,0,0,0,1,0,-3.5,.5,0,0,.5,0,0,0,0,0,0,3.9,0,.1,0,0,0],Rr=[0,-3.5,0,.5,0,0,0,.5,0,0,0,0,0,0,0,0,3.9,0,0,.1,0,0,0,0,3.9,0,3.5,-.4,0,0,0,.5,3.9,0,0,.1,0,0,0,1,0,0,0,0,0,0,0,1],yi=[0,.5,0,-.288675134595,0,1,0,0,1.15470053838,.75,2,.144337567297,0,.5,4,0,-1.15470053838,.25,2,.144337567297,0,0,0,0],rr=[0,0,1,0,0,0,0,5,-2.5,5.1,0,-.1,-1.47224318643,2.5,-1.22113248654,2.55,1.44337567297,-.771687836487,0,0,0,0,0,0,0,0,.5,0,0,-.866025403784],Ft=[3.9,0,0,.1,0,5,0,-2.5,3.9,0,3.5,-.4,0,5,0,-2,3.9,0,0,.1,0,5,0,-1.5,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],Mr=[3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,3.5,0,-.4,0,5,0,4,-4,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],wi=[3.9,0,.1,0,0,0,3.9,3.5,-.4,0,0,.5,3.9,0,.1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0],ki=[0,0,5,-2.5,0,0,0,1,0,0,-5,2.5,0,10,0,-4,0,0,0,0,0,0,0,0,3.9,0,0,.1,0,-5,0,2.5,3.9,0,5,-2.4,0,5,0,-1.5],jn=[0,0,0,0,0,1,0,0,0,0,0,0,1.95,2.5,-.95,-1.95,2.5,-1.05,3.9,0,.1,0,5,-2,1.95,-2.5,1.55,1.95,2.5,-.45],Ti=[0,-1,0,0,0,1,0,0,4.95,.55,4.95,.55,0,0,9.9,.1,-4.95,-.55,4.95,.55],Dr=[0,1,0,0,2.925,.075,1.68874953738,.0433012701892,0,0,0,0,-2.925,1.425,1.68874953738,-.822724133595],ln=[1,0,.75,.433012701892,0,0,.75,-.433012701892],br=[.5,0,0,.866025403784,-.5,0,0,-.866025403784],Nr=[0,.57735026919,-1,0,1,0],Hn=[0,0,0,0,0,0,3.9,0,.1,0,5,-2.5,3.9,0,.1,0,5,-1.5,0,0,0,0,0,1],Kr=[5,0,-2,0,-3.9,-.1,0,0,1,0,0,0,5,0,-2,0,3.9,.1,0,0,0,0,0,0],Qr=[0,0,1,0,0,0,0,-3.45,4,3.9,0,.1,0,3.45,-3,3.9,0,.1,0,0,0,0,0,0],Si=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,5,0,0,0,-1.5,0,3.9,0,0,.1,0,0,5,0,-2.5,0,0,0,5,-1.5],Ei=[0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-5,3.9,2.6,3.9,0,0,.1,0,-5,0,2.5,3.9,0,0,.1],Ci=[0,0,0,0,0,0,0,0,0,0,0,1,-10,0,0,5,0,10,0,-4,10,0,10,-10,0,10,0,-5,0,0,10,-5],qn=[0,0,0,0,0,1,0,0,0,1,3.9,.1,0,0,3.9,.1],Or=[0,0,0,1,0,0,0,0,0,0,0,.5,0,0,3.9,.1,0,0,0,0,0,0,0,0,5,0,0,-2,0,-3.9,0,-.1],Pi=[0,0,0,0,0,1,0,0,0,0,0,0,3.9,0,.1,0,0,0,3.9,0,.1,0,3.9,.1],Rn=[1,0,1,1,0,1,0,0],Fi=[1.8,.1,0,0,0,1,0,1,0,0,-1.8,1.9,0,0,0,0],Lr=[3.8,.1,0,0,0,0,-3.8,.9,-3.8,-.1,0,0,0,0,3.8,-.9],Ii=[0,0,.57735026919,0,0,1],Ai=[0,0,0,0,0,1,0,0,0,0,3.9,.1],Ur=[.5,.5,0,0,1,0],Vr=[0,1,0,0,0,.5,3.9,.1,0,0,0,0],$r=[0,0,0,0,0,0,0,0,1,0,0,0,5,0,-2,0,3.9,.1],Wr=[1,0,-.5,.866025403784,-.5,-.866025403784],ei=[0,0,0,0,0,0,0,0,0,-1,3.9,0,5.5,0,-.4,0,5,0,-4,-.5],xi=[0,0,0,0,0,0,0,0,0,1,7.8,0,3.5,3.5,-.8,0,0,0,0,0],Ri=[0,0,0,0,0,0,0,0,0,-1,-7.8,0,-7,0,.8,0,0,0,0,-1],Mi=[0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-7.8,0,-2.5,0,-2.5,0,.8,0,-10,0,3,0,-3,4],Di=[0,0,0,0,0,0,0,0,0,0,0,1,-15.6,0,-7,-7,0,1.6,0,0,0,0,0,-2],Ni=[0,0,0,0,0,0,0,10,0,0,0,-3,7.8,0,7,0,0,-.8,0,0,0,0,0,0],Oi=[-2.5,-3.37749907476,.663397459622,4.33012701892,-1.95,-3.08108891325,-2.5,3.37749907476,2.33660254038,-4.33012701892,-1.95,2.11506350946],Li=[0,0,0,0,0,0,0,-1,7.8,0,7,-.8,0,0,0,0],yr=[1.5,.866025403784,1.5,-.866025403784],Zn=[1.5,.866025403784,0,1.73205080757],ti=[0,0,0,0,0,-1,3.9,3.5,-.4,0,0,-.5],Ui=[0,0,0,0,0,0,0,-1,7.8,7,0,-.8,0,0,0,0],Vi=[3.9,3.5,-.4,0,0,.5,3.9,3.5,-.4,0,0,-.5],Wi=[0,0,0,0,0,0,0,-1,-7.8,-3.5,-3.5,.8,0,0,0,0],Yi=[0,0,-4,-.866025403784,3.46410161514,.75,-2,-.433012701892],ji=[4.4167295593,-2.5,2.66339745962,-2.55,-4.33012701892,1.34903810568,0,-5,2.5,-5.1,0,-1.63205080757],Hi=[-7.8,0,-3.5,.3,0,0,0,-.5,-7.8,0,-3.5,.3,0,0,0,.5],Yr=[0,0,0,0,0,0,0,0,0,1,7.8,0,3.5,0,-.3,0,10,0,4,-7.5],zi=[0,0,0,0,0,0,0,0,0,-1,15.6,0,7,0,-.6,0,0,0,0,0],Bi=[0,0,0,0,0,0,0,1,-15.6,0,-7,.6,0,0,0,0],jr=[0,0,0,0,0,1,-7.8,-3.5,.3,0,0,.5],Zt=[0,0,0,0,0,10,0,-3,-7.8,0,-10,4.8,0,0,0,0],Xi=[-3.9,5,-3.1,-3.9,-5,1.9,-3.9,-5,1.9,3.9,-5,3.1],Hr=[9.9,1.1,-9.9,-1.1,-9.9,-1.1,-9.9,-1.1],Ut=[0,0,0,1.73205080757,0,1.5,0,-.866025403784],et=[-1.5,.866025403784,-1.5,-.866025403784],zn=[0,1.73205080757,1.5,-.866025403784],zr=[-1,1.73205080757,1,1.73205080757],ir=[1,1.73205080757,-1,1.73205080757],Be=[1,1.73205080757,2,0],Ye=[0,0,0,0,0,-1,3.9,0,.1,0,5,-2.5],kn=[0,0,0,0,0,-1,7.8,0,.2,0,0,0],ni=[0,0,0,0,-7.8,-.2,0,0,1,0,0,0],Gi=[0,-6.9,8,0,0,0,0,-3.45,4,-3.9,0,-.1],Ji=[-5,0,-5,0,5,0,-3.9,0,-5,1.4,-5,0,0,0,1.5,0,-3.9,0,0,-.1],qi=[0,0,0,0,0,-1,7.8,0,.2,0,10,-5],Zi=[0,0,0,0,-7.8,0,0,-.2,0,0,3.9,1.1,0,0,0,0],Ki=[-15.6,0,-.4,0,0,0,0,0,0,0,0,-1],Qi=[0,0,0,0,-20,0,-20,20,0,0,0,-2,0,0,0,0],$i=[0,2,0,0,0,0,-7.8,-.2],es=[0,0,0,-1,0,0,0,0,0,0,0,0,0,-7.8,-7.8,-.4],ts=[-7.8,0,-.2,0,0,0,-3.9,0,-.1,0,3.9,1.1],ri=[0,2,2,0],ns=[0,0,0,4,0,-2,0,2],rs=[0,0,-7.6,1.8,7.6,.2,-7.6,1.8],ii=[1,1,1,-1],si=[1,0,0,1],ai=[0,0,-3.9,-.1,0,1,0,0],is=[0,0,-3.9,-.1,0,2,0,0],ss=[0,-3.45,4,-3.9,0,-.1,0,-3.45,4,3.9,0,.1],oi=[3.8,.1,-3.8,.9,-3.8,-.1,-3.8,.9],as=[0,2,-1.73205080757,1],wr=[0,2,0,0,0,1,3.9,.1],os=[0,1,-1,0],li=[-1,1,-2,0],l=[0,1,1,0],c=[0,.5,-3.9,-.1,0,-.5,-3.9,-.1],k=[-5,0,2,0,-3.9,-.1,-5,0,3,0,-3.9,-.1],F=[0,0,1,0,0,0,0,0,0,0,7.8,.2],s=[0,1,0,0,0,0,7.8,.2],a=[-1.5,2.59807621135,-3,0],_=[0,-.5,-3.9,-.1,0,.5,-3.9,-.1],m=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],T=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,7.8,0,0,3.5,-.3,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-.5],S=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-3.9,0,-3.5,0,.4,0,0,0,0,0,0,0,0,0,-1,0,5,0,4,-4.5],R=[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,-2.5,0,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,3,0,0,-1],D=[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,7.8,0,0,3.5,0,-.3,0,0,0,0,0,0,0,0,0,0,0,-1,0,10,0,0,5,-6,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,-3.5,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-.5,0,0,0,0,0,1,0,0,0,0,0,0,-7.8,0,-3.5,-3.5,0,.8,0,0,0,0,0,0,0,0,0,0,0,-1,0,10,0,0,5,-7.5],V=[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,7.8,0,3.5,0,5,-2.8,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,4,0,-1,0,0,0,0,0,-1,0,0,0,0,0,0,3.9,0,0,0,5,-2.4,0,0,0,0,0,0,0,0,0,0,0,1,0,5,0,0,0,-1.5,0,0,0,0,0,1,0,0,0,0,0,0,3.9,0,3.5,0,0,-.4,0,0,0,0,0,0,0,0,0,0,0,-1,0,-5,0,4,0,.5],X=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-.5,0,0,-.866025403784,0,0,.5,0,0,.866025403784,0,0,-.5,0,0,-.866025403784,0,0,-.5,0,0,.866025403784,0,0,1,0,0,-.866025403784,0,0,-.5,0,0,0],z=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,7.8,0,3.5,-.3,0,0,0,0,0,0,0,1,0,0,0,-.5],ae=[1,0,0,0,1,0],Ie=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],gt=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,7.8,3.5,0,-.3,0,0,0,0,0,0,0,-1,0,0,5,-2],je=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-3.5,0,.5,0,0,0,0,0,0,0,-1,0,0,0,.5],vt=[0,1,0,0,0,0,0,0,0,1,0,0,0,.5,0,.866025403784,0,.5,0,.866025403784,0,-.5,0,-.866025403784,0,-.5,0,-.866025403784,0,.5,0,.866025403784,0,-.5,0,-.866025403784],Tn=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,.5,0,0,.866025403784,0,0,1,0,0,-.866025403784,0,0,.5,0,0,0,0,0,-.5,0,0,.866025403784,0,0,1.5,0,0,-.866025403784,0,0,-.5,0,0,-.866025403784,0,0,-1,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,-1.73205080757,0,0,-.5,0,0,-.866025403784,0,0,0,0,0,.866025403784,0,0,-.5,0,0,-1.73205080757,0,0,.5,0,0,-.866025403784,0,0,-.5,0,0,.866025403784,0,0,.5,0,0,-.866025403784],Sn=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],Kn=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,7.8,0,3.5,0,-.3,0,0,0,0,0,0,0,0,0,-1,0,10,0,4,-6.5],Qt=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,7.8,0,3.5,0,-.3,0,0,0,0,0,0,0,0,0,-1,0,10,0,4,-6.5,0,0,0,0,-1,0,0,0,0,0,15.6,0,7,0,-.6,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,7.8,0,3.5,0,-.3,0,0,0,0,0,0,0,0,0,-1,0,10,0,4,-6.5],Br=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,1,0,0,0,-1,0,0,0,0,-7.8,0,-3.5,.3,0,0,0,0,0,0,0,1,0,0,0,-.5,0,0,0,1,0,0,0,0,-7.8,0,-3.5,.3,0,0,0,0,0,0,0,-1,0,0,0,.5],Xr=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,1],bs=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,10,0,-3,0,0,0,1,0,0,0,0,-3.9,0,-5,2.4,0,0,0,0,0,0,0,-1,0,5,0,-1.5,0,0,0,-1,0,0,0,0,3.9,0,5,-2.4,0,0,0,0,0,0,0,1,0,5,0,-1.5],ys=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,1,0,0,0,0,0,-1,-3.9,0,-.1,0,0,1,0,0,0,0,-5,3,0,0,0,0,0,1,-3.9,0,-1.1,0,0,-1,0,0,0,0,-5,3],ls=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-1,9.9,1.1,0,1,0,0,0,0,0,0,0,1,-9.9,-1.1,0,1,0,0,0,0],ws=[0,1,0,0,0,0,0,0,0,1,0,0,0,-.5,0,.866025403784,0,1.5,0,-.866025403784,0,-.5,0,.866025403784,0,-.5,0,-.866025403784,0,1.5,0,.866025403784,0,-.5,0,-.866025403784,0,.5,0,.866025403784,0,0,0,.866025403784,0,-.5,0,0,0,-1,0,0,0,1.5,0,0,0,1,0,.866025403784,0,.5,0,-.866025403784,0,0,0,-.866025403784,0,-.5,0,1.73205080757],Uo=[1,0,0,0,1,0,.5,-.866025403784,0,.866025403784,.5,0,-.5,-.866025403784,0,.866025403784,-.5,0,-1,0,0,0,-1,0,-.5,.866025403784,0,-.866025403784,-.5,0,.5,.866025403784,0,-.866025403784,.5,0],Vo=[1,0,0,0,1,0,-.5,-.866025403784,1.5,.866025403784,-.5,-.866025403784,-.5,.866025403784,1.5,-.866025403784,-.5,.866025403784,.5,.866025403784,0,.866025403784,-.5,0,.5,-.866025403784,0,-.866025403784,-.5,1.73205080757,-1,0,1.5,0,1,.866025403784],Wo=[1,0,0,0,1,0,-.5,.866025403784,.75,-.866025403784,-.5,.433012701892,-.5,-.866025403784,.75,.866025403784,-.5,-.433012701892],Yo=[1,0,0,0,1,0,.5,-.866025403784,.75,.866025403784,.5,.433012701892,-.5,-.866025403784,.75,.866025403784,-.5,1.29903810568],jo=[1,0,0,0,1,0,.5,.866025403784,.75,.866025403784,-.5,.433012701892,-.5,-.866025403784,.75,.866025403784,-.5,-.433012701892],Ho=[1,0,0,0,1,0,-.5,-.866025403784,.75,-.866025403784,.5,.433012701892,-.5,.866025403784,.75,.866025403784,.5,-.433012701892],zo=[1,0,0,0,1,0,-.5,.866025403784,-.5,-.866025403784,-.5,.866025403784,-.5,-.866025403784,.5,.866025403784,-.5,.866025403784,-.5,.866025403784,-1.5,.866025403784,.5,.866025403784,-.5,-.866025403784,-.5,-.866025403784,.5,.866025403784,1,0,-1,0,-1,1.73205080757],Bo=[1,0,0,0,1,0,-.5,.866025403784,-.5,-.866025403784,-.5,.866025403784,-.5,-.866025403784,.5,.866025403784,-.5,.866025403784,.5,-.866025403784,-.5,.866025403784,.5,.866025403784,.5,.866025403784,-1.5,-.866025403784,.5,.866025403784,-1,0,-1,0,-1,1.73205080757],Xo=[1,0,0,0,1,0,-.5,-.866025403784,.5,.866025403784,-.5,.866025403784,-.5,.866025403784,-.5,-.866025403784,-.5,.866025403784,.5,.866025403784,.5,-.866025403784,.5,.866025403784,.5,-.866025403784,1.5,.866025403784,.5,.866025403784,-1,0,1,0,-1,1.73205080757],ia=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,7.8,0,.2,0,0,0,0,0,1,0,0,0],Go=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,3.9,0,.1,0,0,0,0,0,-1,0,5,-1.5],Jo=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,5,0,-1,0,0,0,0,0,1,0,-3.9,-.1],qo=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,-3.45,4,0,0,0,0,0,-1,3.9,0,.1],Zo=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0],Ko=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,7.8,0,.2,0,0,0,0,0,-1,0,10,-4],Qo=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-5,3.9,3.6,0,0,0,0,0,0,0,-1,3.9,0,0,.1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-5,3.9,3.6,0,0,0,0,0,0,0,1,3.9,0,0,.1],$o=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,1,0,0,-1,0,0,0,7.8,0,.2,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,-7.8,0,-.2,0,0,0,0,0,-1,0,0,1],e0=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,10,0,-5,0,0,0,0,0,0,0,-1,0,0,10,-5,0,0,0,-1,0,0,0,0,0,10,0,-4,0,0,0,0,0,0,0,1,-10,0,-10,10,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,-1,-10,0,0,5],t0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,2,0,0,0,-1,0,0,0,-1,0,0,0,1,0,0,0,1,-3.9,-.1,0,1,0,0,0,1,0,0,0,-1,3.9,.1],n0=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,5,0,0,-2,0,0,0,0,0,0,0,-1,0,-3.9,0,-.1,0,0,0,1,0,0,0,0,0,0,0,.5,0,0,0,0,0,0,0,-1,0,0,3.9,.1,0,0,0,-1,0,0,0,0,5,0,0,-2.5,0,0,0,0,0,0,0,1,0,-3.9,-3.9,-.2],r0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,3.9,0,.1,0,0,0,0,0,-1,0,3.9,1.1,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,-3.9,0,-.1,0,0,0,0,0,-1,0,3.9,1.1],i0=[1,0,0,0,1,0,0,1,0,-1,0,2,-1,0,2,0,-1,2,0,-1,2,1,0,0],s0=[0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,-1,0,0,0,2,0,-1,0,0,0,2,0,0,0,-1,0,2,0,0,0,-1,0,2,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,4,0,0,0,1,0,0,0,1,0,0,0,2,0,-1,0,0,0,2,0,0,0,1,0,2,0,0,0,-1,0,2,0,-1,0,0,0,4],a0=[0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,3.8,.1,0,0,0,-1,-3.8,.9],sa=[1,0,0,0,1,0,0,-1,2,1,0,0],ks=[0,1,0,0,0,0,0,0,0,1,0,0],o0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,2,0,0,0,-1,3.9,.1],l0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,-3.45,5,0,0,0,0,0,-1,3.9,0,.1],c0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,5,0,-1,0,0,0,0,0,-1,0,-3.9,-.1],f0=[1,0,0,0,1,0,0,-1,2,1,0,0,-1,0,2,0,-1,2,0,1,0,-1,0,2],u0=[1,0,0,0,1,0,.5,.866025403784,-.866025403784,-.866025403784,.5,.5,-.5,.866025403784,-.866025403784,-.866025403784,-.5,1.5,-1,0,0,0,-1,2,-.5,-.866025403784,.866025403784,.866025403784,-.5,1.5,.5,-.866025403784,.866025403784,.866025403784,.5,.5,-1,0,0,0,1,0,-.5,.866025403784,-.866025403784,.866025403784,.5,.5,.5,.866025403784,-.866025403784,.866025403784,-.5,1.5,1,0,0,0,-1,2,.5,-.866025403784,.866025403784,-.866025403784,-.5,1.5,-.5,-.866025403784,.866025403784,-.866025403784,.5,.5],d0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,1,0,0,0,-1,3.9,.1,0,-1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,3.9,.1],_0=[1,0,0,0,1,0,0,1,0,-1,0,1,-1,0,1,0,-1,1,0,-1,1,1,0,0],p0=[1,0,0,0,1,0,0,1,0,-1,0,1,-1,0,1,0,-1,1,0,-1,1,1,0,0,-1,0,0,0,1,0,0,-1,0,-1,0,1,1,0,-1,0,-1,1,0,1,-1,1,0,0],h0=[1,0,0,0,1,0,0,-1,1,1,0,0,-1,0,1,0,-1,1,0,1,0,-1,0,1],g0=[0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,-1,0,0],m0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0],v0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,5,0,-1,0,0,0,0,0,-1,0,3.9,.1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-1,0,7.8,.2,0,0,-1,0,0,0,5,0,-1,0,0,0,0,0,1,0,3.9,.1],b0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,1,0,0,0,-1,7.8,.2,0,1,0,0,0,.5,0,0,0,-1,3.9,.1,0,-1,0,0,0,1.5,0,0,0,1,3.9,.1],y0=[1,0,0,0,1,0,.5,-.866025403784,.5,.866025403784,.5,.866025403784,-.5,-.866025403784,0,.866025403784,-.5,1.73205080757,-1,0,-1,0,-1,1.73205080757,-.5,.866025403784,-1.5,-.866025403784,-.5,.866025403784,.5,.866025403784,-1,-.866025403784,.5,0],aa=[1,0,0,0,1,0,-1,0,.5,0,-1,.866025403784],w0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,1,0,0,0,-1,0,0],sr=[0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,2,0,1,3],oa=[0,1,0,0,0,0,0,0,0,0,0,0,1,2,0,0,1,2,3],la=[0,1,0,0,0,0,0,0,0,0,0,0,2,0,1,2,0,1,3],k0=[0,1,2,1,0,0,0,0,0,0,0,0,2,0,1,2,0,1,3],ca=[0,1,2,2,0,0,0,0,0,0,0,0,1,2,0,0,1,2,3],ci=[0,1,2,0,0,0,0,0,0,0,0,0,0,1,2,0,1,2,3],Ts=[0,1,0,0,0,0,0,0,0,0,0,0,2,0,1,0,1,2,3],T0=[0,1,0,1,0,1,0,0,0,0,0,0,1,2,0,2,0,1,3],S0=[0,1,0,0,0,0,0,0,0,0,0,0,1,2,0,2,0,1,3],E0=[0,1,2,0,0,0,0,0,0,0,0,0,2,0,1,1,2,0,3],C0=[0,1,2,0,0,0,0,0,0,0,0,0,2,0,1,0,1,2,3],P0=[0,1,2,2,0,0,0,0,0,0,0,0,0,1,2,1,2,0,3],F0=[0,1,2,0,0,0,0,0,0,0,0,0,1,2,0,0,1,2,3],I0=[0,1,2,1,2,0,0,0,0,0,0,0,1,2,0,2,0,1,3],A0=[0,1,2,0,1,2,0,0,0,0,0,0,0,1,2,0,1,2,3],fa=[0,2,1,1,0,2,0,0,0,0,0,0,1,2,0,2,0,1,3],x0=[0,2,1,0,1,2,0,0,0,0,0,0,2,0,1,1,2,0,3],R0=[1,0,2,2,0,1,0,0,0,0,0,0,1,2,0,2,0,1,3],kr=[0,0,0,0,0,0,0,0,0,0,0,0,1,0,2,1,0,2,2],cs=[0,1,0,0,0,0,0,0,0,0,0,0,1,0,2,0,1,2,2],En=[0,1,0,0,0,0,0,0,0,0,0,0,0,1,2,0,1,2,2],fs=[0,1,1,0,0,0,0,0,0,0,0,0,0,1,2,0,1,2,2],Us=[0,1,1,0,0,0,0,0,0,0,0,0,0,1,2,1,0,2,2],M0=[0,0,1,1,0,0,0,0,0,0,0,0,0,1,2,0,1,2,2],ua=[0,1,0,1,0,0,0,0,0,0,0,0,0,1,2,0,1,2,2],da=[0,1,0,1,1,0,1,0,0,0,0,0,0,1,2,0,1,2,2],D0=[0,0,0,0,0,0,1,1,1,1,1,1,0,1,2,0,1,2,2],_a=[0,1,0,1,0,0,0,0,0,0,0,0,1,0,2,1,0,2,2];return[null,{num_params:4,num_aspects:1,num_vertices:6,num_edge_shapes:3,edge_shapes:n,edge_orientations:xe,edge_shape_ids:qe,default_params:ot,vertex_coeffs:Pt,translation_coeffs:ei,aspect_coeffs:m,colouring:sr},{num_params:4,num_aspects:2,num_vertices:6,num_edge_shapes:3,edge_shapes:n,edge_orientations:Re,edge_shape_ids:Oe,default_params:Rt,vertex_coeffs:mi,translation_coeffs:xi,aspect_coeffs:T,colouring:oa},{num_params:4,num_aspects:2,num_vertices:6,num_edge_shapes:3,edge_shapes:n,edge_orientations:Ze,edge_shape_ids:tt,default_params:jt,vertex_coeffs:Ir,translation_coeffs:Ri,aspect_coeffs:S,colouring:la},{num_params:6,num_aspects:2,num_vertices:6,num_edge_shapes:5,edge_shapes:t,edge_orientations:mt,edge_shape_ids:nt,default_params:wt,vertex_coeffs:Ar,translation_coeffs:Mi,aspect_coeffs:R,colouring:la},{num_params:5,num_aspects:4,num_vertices:6,num_edge_shapes:4,edge_shapes:e,edge_orientations:Tt,edge_shape_ids:Xe,default_params:Cr,vertex_coeffs:Yn,translation_coeffs:Di,aspect_coeffs:D,colouring:k0},{num_params:5,num_aspects:4,num_vertices:6,num_edge_shapes:4,edge_shapes:r,edge_orientations:it,edge_shape_ids:zt,default_params:ut,vertex_coeffs:vi,translation_coeffs:Ni,aspect_coeffs:V,colouring:ca},{num_params:2,num_aspects:3,num_vertices:6,num_edge_shapes:3,edge_shapes:n,edge_orientations:nn,edge_shape_ids:Et,default_params:Pr,vertex_coeffs:tr,translation_coeffs:Oi,aspect_coeffs:X,colouring:ci},{num_params:4,num_aspects:1,num_vertices:6,num_edge_shapes:3,edge_shapes:i,edge_orientations:In,edge_shape_ids:qe,default_params:ot,vertex_coeffs:Pt,translation_coeffs:ei,aspect_coeffs:m,colouring:sr},{num_params:3,num_aspects:2,num_vertices:6,num_edge_shapes:2,edge_shapes:o,edge_orientations:At,edge_shape_ids:we,default_params:_r,vertex_coeffs:xr,translation_coeffs:Li,aspect_coeffs:z,colouring:Ts},{num_params:0,num_aspects:1,num_vertices:6,num_edge_shapes:1,edge_shapes:f,edge_orientations:nn,edge_shape_ids:B,default_params:Je,vertex_coeffs:vr,translation_coeffs:yr,aspect_coeffs:ae,colouring:sr},{num_params:0,num_aspects:1,num_vertices:6,num_edge_shapes:1,edge_shapes:p,edge_orientations:In,edge_shape_ids:B,default_params:Je,vertex_coeffs:vr,translation_coeffs:Zn,aspect_coeffs:ae,colouring:sr},{num_params:2,num_aspects:1,num_vertices:6,num_edge_shapes:2,edge_shapes:h,edge_orientations:rn,edge_shape_ids:we,default_params:xn,vertex_coeffs:Zr,translation_coeffs:ti,aspect_coeffs:Ie,colouring:sr},{num_params:3,num_aspects:2,num_vertices:6,num_edge_shapes:3,edge_shapes:u,edge_orientations:vn,edge_shape_ids:rt,default_params:un,vertex_coeffs:nr,translation_coeffs:Ui,aspect_coeffs:gt,colouring:Ts},{num_params:2,num_aspects:1,num_vertices:6,num_edge_shapes:2,edge_shapes:g,edge_orientations:sn,edge_shape_ids:Nt,default_params:xn,vertex_coeffs:bi,translation_coeffs:Vi,aspect_coeffs:Ie,colouring:sr},{num_params:3,num_aspects:2,num_vertices:6,num_edge_shapes:3,edge_shapes:v,edge_orientations:Xn,edge_shape_ids:Qe,default_params:pr,vertex_coeffs:Rr,translation_coeffs:Wi,aspect_coeffs:je,colouring:Ts},{num_params:1,num_aspects:3,num_vertices:6,num_edge_shapes:2,edge_shapes:w,edge_orientations:Gn,edge_shape_ids:se,default_params:yn,vertex_coeffs:yi,translation_coeffs:Yi,aspect_coeffs:vt,colouring:ci},{num_params:2,num_aspects:1,num_vertices:6,num_edge_shapes:2,edge_shapes:y,edge_orientations:An,edge_shape_ids:we,default_params:xn,vertex_coeffs:Zr,translation_coeffs:ti,aspect_coeffs:Ie,colouring:sr},{num_params:0,num_aspects:1,num_vertices:6,num_edge_shapes:1,edge_shapes:I,edge_orientations:nn,edge_shape_ids:B,default_params:Je,vertex_coeffs:vr,translation_coeffs:Zn,aspect_coeffs:ae,colouring:sr},null,{num_params:0,num_aspects:1,num_vertices:6,num_edge_shapes:1,edge_shapes:x,edge_orientations:In,edge_shape_ids:B,default_params:Je,vertex_coeffs:vr,translation_coeffs:Zn,aspect_coeffs:ae,colouring:sr},{num_params:2,num_aspects:6,num_vertices:5,num_edge_shapes:3,edge_shapes:N,edge_orientations:Xt,edge_shape_ids:Fe,default_params:hn,vertex_coeffs:rr,translation_coeffs:ji,aspect_coeffs:Tn,colouring:T0},{num_params:3,num_aspects:2,num_vertices:5,num_edge_shapes:3,edge_shapes:b,edge_orientations:en,edge_shape_ids:Bt,default_params:Jn,vertex_coeffs:Ft,translation_coeffs:Hi,aspect_coeffs:Sn,colouring:Ts},{num_params:4,num_aspects:2,num_vertices:5,num_edge_shapes:4,edge_shapes:M,edge_orientations:Jt,edge_shape_ids:Le,default_params:Un,vertex_coeffs:Mr,translation_coeffs:Yr,aspect_coeffs:Kn,colouring:S0},{num_params:4,num_aspects:4,num_vertices:5,num_edge_shapes:4,edge_shapes:C,edge_orientations:Jt,edge_shape_ids:Le,default_params:Un,vertex_coeffs:Mr,translation_coeffs:zi,aspect_coeffs:Qt,colouring:E0},{num_params:3,num_aspects:4,num_vertices:5,num_edge_shapes:3,edge_shapes:A,edge_orientations:en,edge_shape_ids:Bt,default_params:Jn,vertex_coeffs:Ft,translation_coeffs:Bi,aspect_coeffs:Br,colouring:C0},{num_params:2,num_aspects:2,num_vertices:5,num_edge_shapes:3,edge_shapes:Y,edge_orientations:Gt,edge_shape_ids:Bt,default_params:ke,vertex_coeffs:wi,translation_coeffs:jr,aspect_coeffs:Xr,colouring:oa},{num_params:3,num_aspects:4,num_vertices:5,num_edge_shapes:3,edge_shapes:N,edge_orientations:xt,edge_shape_ids:Ot,default_params:Ue,vertex_coeffs:ki,translation_coeffs:Zt,aspect_coeffs:bs,colouring:P0},{num_params:2,num_aspects:4,num_vertices:5,num_edge_shapes:3,edge_shapes:N,edge_orientations:Xt,edge_shape_ids:Fe,default_params:wn,vertex_coeffs:jn,translation_coeffs:Xi,aspect_coeffs:ys,colouring:F0},{num_params:1,num_aspects:4,num_vertices:5,num_edge_shapes:2,edge_shapes:w,edge_orientations:qt,edge_shape_ids:_t,default_params:hr,vertex_coeffs:Ti,translation_coeffs:Hr,aspect_coeffs:ls,colouring:ca},{num_params:1,num_aspects:6,num_vertices:4,num_edge_shapes:3,edge_shapes:L,edge_orientations:an,edge_shape_ids:ft,default_params:tn,vertex_coeffs:Dr,translation_coeffs:Ut,aspect_coeffs:ws,colouring:I0},{num_params:0,num_aspects:6,num_vertices:4,num_edge_shapes:2,edge_shapes:W,edge_orientations:Kt,edge_shape_ids:pt,default_params:Je,vertex_coeffs:ln,translation_coeffs:et,aspect_coeffs:Uo,colouring:A0},{num_params:0,num_aspects:6,num_vertices:4,num_edge_shapes:2,edge_shapes:ne,edge_orientations:Wt,edge_shape_ids:pt,default_params:Je,vertex_coeffs:ln,translation_coeffs:zn,aspect_coeffs:Vo,colouring:fa},{num_params:0,num_aspects:3,num_vertices:4,num_edge_shapes:2,edge_shapes:W,edge_orientations:Kt,edge_shape_ids:pt,default_params:Je,vertex_coeffs:br,translation_coeffs:yr,aspect_coeffs:Wo,colouring:ci},{num_params:0,num_aspects:3,num_vertices:4,num_edge_shapes:1,edge_shapes:f,edge_orientations:pn,edge_shape_ids:He,default_params:Je,vertex_coeffs:br,translation_coeffs:Zn,aspect_coeffs:Yo,colouring:ci},null,{num_params:0,num_aspects:3,num_vertices:4,num_edge_shapes:1,edge_shapes:f,edge_orientations:on,edge_shape_ids:He,default_params:Je,vertex_coeffs:br,translation_coeffs:yr,aspect_coeffs:jo,colouring:ci},{num_params:0,num_aspects:3,num_vertices:4,num_edge_shapes:1,edge_shapes:x,edge_orientations:bn,edge_shape_ids:He,default_params:Je,vertex_coeffs:br,translation_coeffs:yr,aspect_coeffs:Ho,colouring:ci},{num_params:0,num_aspects:6,num_vertices:3,num_edge_shapes:2,edge_shapes:g,edge_orientations:fn,edge_shape_ids:H,default_params:Je,vertex_coeffs:Nr,translation_coeffs:zr,aspect_coeffs:zo,colouring:fa},{num_params:0,num_aspects:6,num_vertices:3,num_edge_shapes:2,edge_shapes:ee,edge_orientations:fn,edge_shape_ids:H,default_params:Je,vertex_coeffs:Nr,translation_coeffs:ir,aspect_coeffs:Bo,colouring:x0},{num_params:0,num_aspects:6,num_vertices:3,num_edge_shapes:2,edge_shapes:ne,edge_orientations:Ge,edge_shape_ids:H,default_params:Je,vertex_coeffs:Nr,translation_coeffs:Be,aspect_coeffs:Xo,colouring:R0},{num_params:2,num_aspects:1,num_vertices:4,num_edge_shapes:2,edge_shapes:W,edge_orientations:Kt,edge_shape_ids:te,default_params:gn,vertex_coeffs:Hn,translation_coeffs:Ye,aspect_coeffs:Ie,colouring:kr},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:3,edge_shapes:L,edge_orientations:bt,edge_shape_ids:U,default_params:gn,vertex_coeffs:Hn,translation_coeffs:kn,aspect_coeffs:ia,colouring:cs},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:W,edge_orientations:P,edge_shape_ids:te,default_params:gn,vertex_coeffs:Hn,translation_coeffs:kn,aspect_coeffs:Go,colouring:cs},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:W,edge_orientations:re,edge_shape_ids:ue,default_params:$n,vertex_coeffs:Kr,translation_coeffs:ni,aspect_coeffs:Jo,colouring:En},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:3,edge_shapes:L,edge_orientations:$,edge_shape_ids:U,default_params:er,vertex_coeffs:Qr,translation_coeffs:Gi,aspect_coeffs:qo,colouring:En},{num_params:4,num_aspects:2,num_vertices:4,num_edge_shapes:4,edge_shapes:Ee,edge_orientations:oe,edge_shape_ids:Se,default_params:gr,vertex_coeffs:Si,translation_coeffs:Ji,aspect_coeffs:Zo,colouring:En},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:3,edge_shapes:ye,edge_orientations:bt,edge_shape_ids:U,default_params:gn,vertex_coeffs:Hn,translation_coeffs:qi,aspect_coeffs:Ko,colouring:cs},null,{num_params:3,num_aspects:4,num_vertices:4,num_edge_shapes:4,edge_shapes:be,edge_orientations:oe,edge_shape_ids:Se,default_params:mn,vertex_coeffs:Ei,translation_coeffs:Zi,aspect_coeffs:Qo,colouring:fs},{num_params:2,num_aspects:4,num_vertices:4,num_edge_shapes:3,edge_shapes:he,edge_orientations:bt,edge_shape_ids:U,default_params:gn,vertex_coeffs:Hn,translation_coeffs:Ki,aspect_coeffs:$o,colouring:Us},{num_params:3,num_aspects:4,num_vertices:4,num_edge_shapes:3,edge_shapes:ye,edge_orientations:$,edge_shape_ids:U,default_params:Lt,vertex_coeffs:Ci,translation_coeffs:Qi,aspect_coeffs:e0,colouring:fs},{num_params:1,num_aspects:4,num_vertices:4,num_edge_shapes:2,edge_shapes:W,edge_orientations:me,edge_shape_ids:te,default_params:tn,vertex_coeffs:qn,translation_coeffs:$i,aspect_coeffs:t0,colouring:M0},{num_params:3,num_aspects:4,num_vertices:4,num_edge_shapes:3,edge_shapes:ye,edge_orientations:Ke,edge_shape_ids:ce,default_params:mr,vertex_coeffs:Or,translation_coeffs:es,aspect_coeffs:n0,colouring:fs},{num_params:2,num_aspects:4,num_vertices:4,num_edge_shapes:4,edge_shapes:fe,edge_orientations:oe,edge_shape_ids:Se,default_params:Vn,vertex_coeffs:Pi,translation_coeffs:ts,aspect_coeffs:r0,colouring:Us},{num_params:0,num_aspects:4,num_vertices:4,num_edge_shapes:2,edge_shapes:W,edge_orientations:pn,edge_shape_ids:ue,default_params:Je,vertex_coeffs:Rn,translation_coeffs:ri,aspect_coeffs:i0,colouring:ua},{num_params:1,num_aspects:8,num_vertices:4,num_edge_shapes:3,edge_shapes:L,edge_orientations:We,edge_shape_ids:ce,default_params:Wn,vertex_coeffs:Fi,translation_coeffs:ns,aspect_coeffs:s0,colouring:da},{num_params:2,num_aspects:1,num_vertices:4,num_edge_shapes:2,edge_shapes:G,edge_orientations:oe,edge_shape_ids:te,default_params:gn,vertex_coeffs:Hn,translation_coeffs:Ye,aspect_coeffs:Ie,colouring:kr},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:Ce,edge_orientations:oe,edge_shape_ids:te,default_params:gn,vertex_coeffs:Hn,translation_coeffs:kn,aspect_coeffs:ia,colouring:cs},{num_params:1,num_aspects:2,num_vertices:4,num_edge_shapes:1,edge_shapes:f,edge_orientations:re,edge_shape_ids:He,default_params:Me,vertex_coeffs:Lr,translation_coeffs:rs,aspect_coeffs:a0,colouring:En},null,{num_params:0,num_aspects:2,num_vertices:4,num_edge_shapes:1,edge_shapes:f,edge_orientations:pn,edge_shape_ids:He,default_params:Je,vertex_coeffs:Rn,translation_coeffs:ii,aspect_coeffs:sa,colouring:En},{num_params:0,num_aspects:1,num_vertices:4,num_edge_shapes:1,edge_shapes:p,edge_orientations:oe,edge_shape_ids:He,default_params:Je,vertex_coeffs:Rn,translation_coeffs:si,aspect_coeffs:ae,colouring:kr},null,{num_params:1,num_aspects:1,num_vertices:4,num_edge_shapes:2,edge_shapes:Pe,edge_orientations:ve,edge_shape_ids:te,default_params:tn,vertex_coeffs:qn,translation_coeffs:ai,aspect_coeffs:ks,colouring:kr},null,{num_params:1,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:ge,edge_orientations:ve,edge_shape_ids:te,default_params:tn,vertex_coeffs:qn,translation_coeffs:is,aspect_coeffs:o0,colouring:cs},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:3,edge_shapes:Y,edge_orientations:yt,edge_shape_ids:U,default_params:er,vertex_coeffs:Qr,translation_coeffs:ss,aspect_coeffs:l0,colouring:En},{num_params:1,num_aspects:1,num_vertices:4,num_edge_shapes:1,edge_shapes:f,edge_orientations:ht,edge_shape_ids:He,default_params:Me,vertex_coeffs:Lr,translation_coeffs:oi,aspect_coeffs:ks,colouring:kr},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:G,edge_orientations:bn,edge_shape_ids:ue,default_params:$n,vertex_coeffs:Kr,translation_coeffs:ni,aspect_coeffs:c0,colouring:En},null,{num_params:0,num_aspects:4,num_vertices:4,num_edge_shapes:1,edge_shapes:f,edge_orientations:Ct,edge_shape_ids:He,default_params:Je,vertex_coeffs:Rn,translation_coeffs:ri,aspect_coeffs:f0,colouring:ua},{num_params:1,num_aspects:1,num_vertices:4,num_edge_shapes:2,edge_shapes:ne,edge_orientations:oe,edge_shape_ids:te,default_params:tn,vertex_coeffs:qn,translation_coeffs:ai,aspect_coeffs:ks,colouring:kr},{num_params:0,num_aspects:2,num_vertices:4,num_edge_shapes:1,edge_shapes:I,edge_orientations:pn,edge_shape_ids:He,default_params:Je,vertex_coeffs:Rn,translation_coeffs:ii,aspect_coeffs:sa,colouring:En},{num_params:1,num_aspects:1,num_vertices:4,num_edge_shapes:1,edge_shapes:p,edge_orientations:bn,edge_shape_ids:He,default_params:Me,vertex_coeffs:Lr,translation_coeffs:oi,aspect_coeffs:ks,colouring:kr},null,{num_params:0,num_aspects:1,num_vertices:4,num_edge_shapes:1,edge_shapes:x,edge_orientations:oe,edge_shape_ids:He,default_params:Je,vertex_coeffs:Rn,translation_coeffs:si,aspect_coeffs:ae,colouring:kr},{num_params:0,num_aspects:12,num_vertices:3,num_edge_shapes:3,edge_shapes:dt,edge_orientations:le,edge_shape_ids:ze,default_params:Je,vertex_coeffs:Ii,translation_coeffs:as,aspect_coeffs:u0,colouring:D0},{num_params:1,num_aspects:4,num_vertices:3,num_edge_shapes:3,edge_shapes:K,edge_orientations:le,edge_shape_ids:ze,default_params:tn,vertex_coeffs:Ai,translation_coeffs:wr,aspect_coeffs:d0,colouring:Us},{num_params:0,num_aspects:4,num_vertices:3,num_edge_shapes:2,edge_shapes:ee,edge_orientations:fn,edge_shape_ids:H,default_params:Je,vertex_coeffs:Ur,translation_coeffs:os,aspect_coeffs:_0,colouring:_a},null,{num_params:0,num_aspects:8,num_vertices:3,num_edge_shapes:2,edge_shapes:g,edge_orientations:fn,edge_shape_ids:H,default_params:Je,vertex_coeffs:Ur,translation_coeffs:li,aspect_coeffs:p0,colouring:da},{num_params:0,num_aspects:4,num_vertices:3,num_edge_shapes:2,edge_shapes:ne,edge_orientations:Ge,edge_shape_ids:H,default_params:Je,vertex_coeffs:Ur,translation_coeffs:l,aspect_coeffs:h0,colouring:_a},{num_params:1,num_aspects:2,num_vertices:3,num_edge_shapes:2,edge_shapes:g,edge_orientations:pe,edge_shape_ids:It,default_params:Fr,vertex_coeffs:Vr,translation_coeffs:c,aspect_coeffs:g0,colouring:En},{num_params:2,num_aspects:2,num_vertices:3,num_edge_shapes:3,edge_shapes:i,edge_orientations:le,edge_shape_ids:ze,default_params:qr,vertex_coeffs:$r,translation_coeffs:k,aspect_coeffs:m0,colouring:En},{num_params:2,num_aspects:4,num_vertices:3,num_edge_shapes:3,edge_shapes:Ne,edge_orientations:le,edge_shape_ids:ze,default_params:qr,vertex_coeffs:$r,translation_coeffs:F,aspect_coeffs:v0,colouring:fs},{num_params:1,num_aspects:4,num_vertices:3,num_edge_shapes:2,edge_shapes:ee,edge_orientations:pe,edge_shape_ids:It,default_params:Fr,vertex_coeffs:Vr,translation_coeffs:s,aspect_coeffs:b0,colouring:fs},null,{num_params:0,num_aspects:6,num_vertices:3,num_edge_shapes:2,edge_shapes:ee,edge_orientations:de,edge_shape_ids:It,default_params:Je,vertex_coeffs:Wr,translation_coeffs:a,aspect_coeffs:y0,colouring:[0,1,0,1,0,1,0,0,0,0,0,0,0,1,2,0,1,2,2]},null,{num_params:0,num_aspects:2,num_vertices:3,num_edge_shapes:1,edge_shapes:p,edge_orientations:le,edge_shape_ids:Ae,default_params:Je,vertex_coeffs:Wr,translation_coeffs:Zn,aspect_coeffs:aa,colouring:En},{num_params:1,num_aspects:2,num_vertices:3,num_edge_shapes:2,edge_shapes:Ce,edge_orientations:$e,edge_shape_ids:It,default_params:Fr,vertex_coeffs:Vr,translation_coeffs:_,aspect_coeffs:w0,colouring:En},null,{num_params:0,num_aspects:2,num_vertices:3,num_edge_shapes:1,edge_shapes:x,edge_orientations:le,edge_shape_ids:Ae,default_params:Je,vertex_coeffs:Wr,translation_coeffs:Zn,aspect_coeffs:aa,colouring:En}]}();function Hs(n,t,e){let r=new Ve(0,0);for(let i=0;i<e.length;++i)r.x+=n[t+i]*e[i],r.y+=n[t+e.length+i]*e[i];return r}function Nl(n,t,e){let r=[];for(let i=0;i<2;++i)for(let o=0;o<3;++o){let f=0;for(let p=0;p<e.length;++p)f+=n[t+p]*e[p];r.push(f),t+=e.length}return r}const Ol=[[1,0,0,0,1,0],[-1,0,1,0,-1,0],[-1,0,1,0,1,0],[1,0,0,0,-1,0]],Ll=[[.5,0,0,0,.5,0],[-.5,0,1,0,.5,0]],Ul=[[.5,0,0,0,.5,0],[-.5,0,1,0,-.5,0]];class xa{constructor(t){De(this,"tiling_type");De(this,"ttd");De(this,"parameters");De(this,"verts");De(this,"reversals");De(this,"edges");De(this,"aspects");De(this,"t1");De(this,"t2");this.reset(t)}reset(t){this.tiling_type=t,this.ttd=Dl[t],this.parameters=this.ttd.default_params.slice(0),this.parameters.push(1),this.recompute()}recompute(){const t=this.numVertices(),e=this.numParameters(),r=this.numAspects();this.verts=[];for(let i=0;i<t;++i)this.verts.push(Hs(this.ttd.vertex_coeffs,i*(2*(e+1)),this.parameters));this.reversals=[],this.edges=[];for(let i=0;i<t;++i){const o=this.ttd.edge_orientations[2*i],f=this.ttd.edge_orientations[2*i+1];this.reversals.push(o!=f),this.edges.push(js(Ml(this.verts[i],this.verts[(i+1)%t]),Ol[2*(o?1:0)+(f?1:0)]))}this.aspects=[];for(let i=0;i<r;++i)this.aspects.push(Nl(this.ttd.aspect_coeffs,6*(e+1)*i,this.parameters));this.t1=Hs(this.ttd.translation_coeffs,0,this.parameters),this.t2=Hs(this.ttd.translation_coeffs,2*(e+1),this.parameters)}getTilingType(){return this.tiling_type}numParameters(){return this.ttd.num_params}setParameters(t){t.length==this.parameters.length-1&&(this.parameters=t.slice(0),this.parameters.push(1),this.recompute())}getParameters(){return this.parameters.slice(0,-1)}numEdgeShapes(){return this.ttd.num_edge_shapes}getEdgeShape(t){return this.ttd.edge_shapes[t]}*shape(){for(let t=0;t<this.numVertices();++t){const e=this.ttd.edge_shape_ids[t];yield{T:this.edges[t],id:e,shape:this.ttd.edge_shapes[e],rev:this.reversals[t]}}}*parts(){for(let t=0;t<this.numVertices();++t){const e=this.ttd.edge_shape_ids[t],r=this.ttd.edge_shapes[e];if(r==J.J||r==J.I)yield{T:this.edges[t],id:e,shape:r,rev:this.reversals[t],second:!1};else{const i=this.reversals[t]?[1,0]:[0,1],o=r==J.U?Ll:Ul;yield{T:js(this.edges[t],o[i[0]]),id:e,shape:r,rev:!1,second:!1},yield{T:js(this.edges[t],o[i[1]]),id:e,shape:r,rev:!0,second:!0}}}}numVertices(){return this.ttd.num_vertices}getVertex(t){return{...this.verts[t]}}vertices(){return this.verts.map(t=>({...t}))}numAspects(){return this.ttd.num_aspects}getAspectTransform(t){return[...this.aspects[t]]}getT1(){return{...this.t1}}getT2(){return{...this.t2}}*fillRegionBounds(t,e,r,i){yield*this.fillRegionQuad(new Ve(t,e),new Ve(r,e),new Ve(r,i),new Ve(t,i))}*fillRegionQuad(t,e,r,i){const o=this.getT1(),f=this.getT2(),p=this.ttd,h=this.aspects;let u;function g(M,C){return new Ve(M[0]*C.x+M[1]*C.y,M[2]*C.x+M[3]*C.y)}function v(M,C,A){const Y=(A-M.y)/(C.y-M.y);return new Ve((1-Y)*M.x+Y*C.x,A)}function*w(M,C,A,Y,L){let W=M.x;const ne=(Y.x-M.x)/(Y.y-M.y);let ee=C.x;const Ee=(A.x-C.x)/(A.y-C.y),ye=M.y;let be=A.y;L&&(be=be+1);let he=Math.floor(ye);for(u&&(he=Math.max(u,he));he<be;){const fe=Math.trunc(he);let G=Math.floor(W);for(;G<ee+1e-7;){const Ce=Math.trunc(G);for(let Pe=0;Pe<p.num_aspects;++Pe){let ge=h[Pe].slice(0);ge[2]+=Ce*o.x+fe*f.x,ge[5]+=Ce*o.y+fe*f.y,yield{T:ge,t1:Ce,t2:fe,aspect:Pe}}G+=1}W+=ne,ee+=Ee,he+=1}u=he}function*y(M,C,A,Y,L){M.x>C.x?yield*w(C,M,Y,A,L):yield*w(M,C,A,Y,L)}function*I(M,C,A,Y,L){M.y>A.y?yield*w(A,Y,M,C,L):yield*w(M,C,A,Y,L)}const x=1/(o.x*f.y-f.x*o.y),N=[f.y*x,-f.x*x,-o.y*x,o.x*x];let b=[g(N,t),g(N,e),g(N,r),g(N,i)];if(x<0){let M=b[1];b[1]=b[3],b[3]=M}if(Math.abs(b[0].y-b[1].y)<1e-7)yield*I(b[0],b[1],b[2],b[3],!0);else if(Math.abs(b[1].y-b[2].y)<1e-7)yield*I(b[1],b[2],b[3],b[0],!0);else{let M=0;for(let W=1;W<4;++W)b[W].y<b[M].y&&(M=W);let C=b[M],A=b[(M+1)%4],Y=b[(M+2)%4],L=b[(M+3)%4];if(A.x>L.x){let W=A;A=L,L=W}if(A.y<L.y){const W=v(C,L,A.y),ne=v(A,Y,L.y);yield*y(C,C,W,A,!1),yield*y(A,W,L,ne,!1),yield*y(ne,L,Y,Y,!0)}else{const W=v(C,A,L.y),ne=v(L,Y,A.y);yield*y(C,C,L,W,!1),yield*y(W,L,ne,A,!1),yield*y(A,ne,Y,Y,!0)}}}getColour(t,e,r){const i=this.ttd.colouring,o=i[18];let f=t%o;f<0&&(f+=o);let p=e%o;p<0&&(p+=o);let h=i[r];for(let u=0;u<f;++u)h=i[12+h];for(let u=0;u<p;++u)h=i[15+h];return h}}var Vl={grad:.9,turn:360,rad:360/(2*Math.PI)},ar=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},$t=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*n)/e+0},Dn=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),n>e?e:n>t?n:t},Do=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Ra=function(n){return{r:Dn(n.r,0,255),g:Dn(n.g,0,255),b:Dn(n.b,0,255),a:Dn(n.a)}},zs=function(n){return{r:$t(n.r),g:$t(n.g),b:$t(n.b),a:$t(n.a,3)}},Wl=/^#([0-9a-f]{3,8})$/i,Es=function(n){var t=n.toString(16);return t.length<2?"0"+t:t},No=function(n){var t=n.r,e=n.g,r=n.b,i=n.a,o=Math.max(t,e,r),f=o-Math.min(t,e,r),p=f?o===t?(e-r)/f:o===e?2+(r-t)/f:4+(t-e)/f:0;return{h:60*(p<0?p+6:p),s:o?f/o*100:0,v:o/255*100,a:i}},Oo=function(n){var t=n.h,e=n.s,r=n.v,i=n.a;t=t/360*6,e/=100,r/=100;var o=Math.floor(t),f=r*(1-e),p=r*(1-(t-o)*e),h=r*(1-(1-t+o)*e),u=o%6;return{r:255*[r,p,f,f,h,r][u],g:255*[h,r,r,p,f,f][u],b:255*[f,f,h,r,r,p][u],a:i}},Ma=function(n){return{h:Do(n.h),s:Dn(n.s,0,100),l:Dn(n.l,0,100),a:Dn(n.a)}},Da=function(n){return{h:$t(n.h),s:$t(n.s),l:$t(n.l),a:$t(n.a,3)}},Na=function(n){return Oo((e=(t=n).s,{h:t.h,s:(e*=((r=t.l)<50?r:100-r)/100)>0?2*e/(r+e)*100:0,v:r+e,a:t.a}));var t,e,r},hs=function(n){return{h:(t=No(n)).h,s:(i=(200-(e=t.s))*(r=t.v)/100)>0&&i<200?e*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,e,r,i},Yl=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jl=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hl=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zl=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Oa={string:[[function(n){var t=Wl.exec(n);return t?(n=t[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?$t(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?$t(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var t=Hl.exec(n)||zl.exec(n);return t?t[2]!==t[4]||t[4]!==t[6]?null:Ra({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(n){var t=Yl.exec(n)||jl.exec(n);if(!t)return null;var e,r,i=Ma({h:(e=t[1],r=t[2],r===void 0&&(r="deg"),Number(e)*(Vl[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Na(i)},"hsl"]],object:[[function(n){var t=n.r,e=n.g,r=n.b,i=n.a,o=i===void 0?1:i;return ar(t)&&ar(e)&&ar(r)?Ra({r:Number(t),g:Number(e),b:Number(r),a:Number(o)}):null},"rgb"],[function(n){var t=n.h,e=n.s,r=n.l,i=n.a,o=i===void 0?1:i;if(!ar(t)||!ar(e)||!ar(r))return null;var f=Ma({h:Number(t),s:Number(e),l:Number(r),a:Number(o)});return Na(f)},"hsl"],[function(n){var t=n.h,e=n.s,r=n.v,i=n.a,o=i===void 0?1:i;if(!ar(t)||!ar(e)||!ar(r))return null;var f=function(p){return{h:Do(p.h),s:Dn(p.s,0,100),v:Dn(p.v,0,100),a:Dn(p.a)}}({h:Number(t),s:Number(e),v:Number(r),a:Number(o)});return Oo(f)},"hsv"]]},La=function(n,t){for(var e=0;e<t.length;e++){var r=t[e][0](n);if(r)return[r,t[e][1]]}return[null,void 0]},Bl=function(n){return typeof n=="string"?La(n.trim(),Oa.string):typeof n=="object"&&n!==null?La(n,Oa.object):[null,void 0]},Bs=function(n,t){var e=hs(n);return{h:e.h,s:Dn(e.s+100*t,0,100),l:e.l,a:e.a}},Xs=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},Ua=function(n,t){var e=hs(n);return{h:e.h,s:e.s,l:Dn(e.l+100*t,0,100),a:e.a}},Va=function(){function n(t){this.parsed=Bl(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return $t(Xs(this.rgba),2)},n.prototype.isDark=function(){return Xs(this.rgba)<.5},n.prototype.isLight=function(){return Xs(this.rgba)>=.5},n.prototype.toHex=function(){return t=zs(this.rgba),e=t.r,r=t.g,i=t.b,f=(o=t.a)<1?Es($t(255*o)):"","#"+Es(e)+Es(r)+Es(i)+f;var t,e,r,i,o,f},n.prototype.toRgb=function(){return zs(this.rgba)},n.prototype.toRgbString=function(){return t=zs(this.rgba),e=t.r,r=t.g,i=t.b,(o=t.a)<1?"rgba("+e+", "+r+", "+i+", "+o+")":"rgb("+e+", "+r+", "+i+")";var t,e,r,i,o},n.prototype.toHsl=function(){return Da(hs(this.rgba))},n.prototype.toHslString=function(){return t=Da(hs(this.rgba)),e=t.h,r=t.s,i=t.l,(o=t.a)<1?"hsla("+e+", "+r+"%, "+i+"%, "+o+")":"hsl("+e+", "+r+"%, "+i+"%)";var t,e,r,i,o},n.prototype.toHsv=function(){return t=No(this.rgba),{h:$t(t.h),s:$t(t.s),v:$t(t.v),a:$t(t.a,3)};var t},n.prototype.invert=function(){return Cn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},n.prototype.saturate=function(t){return t===void 0&&(t=.1),Cn(Bs(this.rgba,t))},n.prototype.desaturate=function(t){return t===void 0&&(t=.1),Cn(Bs(this.rgba,-t))},n.prototype.grayscale=function(){return Cn(Bs(this.rgba,-1))},n.prototype.lighten=function(t){return t===void 0&&(t=.1),Cn(Ua(this.rgba,t))},n.prototype.darken=function(t){return t===void 0&&(t=.1),Cn(Ua(this.rgba,-t))},n.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},n.prototype.alpha=function(t){return typeof t=="number"?Cn({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):$t(this.rgba.a,3);var e},n.prototype.hue=function(t){var e=hs(this.rgba);return typeof t=="number"?Cn({h:t,s:e.s,l:e.l,a:e.a}):$t(e.h)},n.prototype.isEqual=function(t){return this.toHex()===Cn(t).toHex()},n}(),Cn=function(n){return n instanceof Va?n:new Va(n)};function Wa(n){let t;return{c(){t=O("input"),d(t,"type","hidden"),d(t,"name",n[3]),t.value=n[0]},m(e,r){Z(e,t,r)},p(e,r){r&8&&d(t,"name",e[3]),r&1&&(t.value=e[0])},d(e){e&&q(t)}}}function Xl(n){let t,e,r,i,o,f,p,h,u,g=n[3]&&Wa(n);return{c(){t=O("div"),e=O("div"),r=Q(),i=O("div"),f=Q(),g&&g.c(),p=Dt(),d(e,"class","track svelte-x7oaj0"),d(i,"class","thumb svelte-x7oaj0"),d(t,"class","slider svelte-x7oaj0"),d(t,"role","slider"),d(t,"aria-orientation",n[4]),d(t,"aria-valuemax",n[11]),d(t,"aria-valuemin",n[10]),d(t,"aria-valuenow",n[0]),d(t,"aria-valuetext",o=n[2](n[0])),d(t,"aria-label",n[7]),d(t,"aria-labelledby",n[8]),d(t,"aria-controls",n[9]),d(t,"tabindex","0"),dr(t,"reverse",n[5]),Ht(t,"--position",n[12])},m(v,w){Z(v,t,w),E(t,e),E(t,r),E(t,i),n[22](t),Z(v,f,w),g&&g.m(v,w),Z(v,p,w),h||(u=[ie(window,"mousemove",n[15]),ie(window,"mouseup",n[16]),ie(t,"keydown",n[13]),ie(t,"mousedown",G0(function(){lr(n[6]?void 0:n[14])&&(n[6]?void 0:n[14]).apply(this,arguments)})),ie(t,"touchstart",cr(function(){lr(n[6]?void 0:n[17])&&(n[6]?void 0:n[17]).apply(this,arguments)}),{passive:!1}),ie(t,"touchmove",cr(function(){lr(n[6]?void 0:n[17])&&(n[6]?void 0:n[17]).apply(this,arguments)}),{passive:!1}),ie(t,"touchend",cr(function(){lr(n[6]?void 0:n[17])&&(n[6]?void 0:n[17]).apply(this,arguments)}),{passive:!1})],h=!0)},p(v,[w]){n=v,w&16&&d(t,"aria-orientation",n[4]),w&2048&&d(t,"aria-valuemax",n[11]),w&1024&&d(t,"aria-valuemin",n[10]),w&1&&d(t,"aria-valuenow",n[0]),w&5&&o!==(o=n[2](n[0]))&&d(t,"aria-valuetext",o),w&128&&d(t,"aria-label",n[7]),w&256&&d(t,"aria-labelledby",n[8]),w&512&&d(t,"aria-controls",n[9]),w&32&&dr(t,"reverse",n[5]),w&4096&&Ht(t,"--position",n[12]),n[3]?g?g.p(n,w):(g=Wa(n),g.c(),g.m(p.parentNode,p)):g&&(g.d(1),g=null)},i:kt,o:kt,d(v){v&&(q(t),q(f),q(p)),n[22](null),g&&g.d(v),h=!1,cn(u)}}}function Gl(n,t,e){let r,i,o,f,{min:p=0}=t,{max:h=100}=t,{step:u=1}=t,{value:g=50}=t,{ariaValueText:v=G=>G.toString()}=t,{name:w=void 0}=t,{direction:y="horizontal"}=t,{reverse:I=!1}=t,{keyboardOnly:x=!1}=t,{slider:N=void 0}=t,{ariaLabel:b=void 0}=t,{ariaLabelledBy:M=void 0}=t,{ariaControls:C=void 0}=t,{isDragging:A=!1}=t;const Y=vs();function L(G){const Ce=1/o,Pe=Math.round(G*Ce)/Ce;return Math.max(r,Math.min(i,Pe))}function W(G){const Ce=G.shiftKey?o*10:o;G.key==="ArrowUp"||G.key==="ArrowRight"?(e(0,g+=Ce),G.preventDefault()):G.key==="ArrowDown"||G.key==="ArrowLeft"?(e(0,g-=Ce),G.preventDefault()):G.key==="Home"?(e(0,g=r),G.preventDefault()):G.key==="End"?(e(0,g=i),G.preventDefault()):G.key==="PageUp"?(e(0,g+=o*10),G.preventDefault()):G.key==="PageDown"&&(e(0,g-=o*10),G.preventDefault()),e(0,g=L(g)),Y("input",g)}const ne={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function ee(G){const Ce=(N==null?void 0:N[ne[y].clientSize])||120,Pe=(N==null?void 0:N.getBoundingClientRect()[ne[y].offset])||0;let ge=G[ne[y].client]-Pe;y==="vertical"&&(ge=-1*ge+Ce),I?e(0,g=i-ge/Ce*(i-r)):e(0,g=ge/Ce*(i-r)+r),e(0,g=L(g)),Y("input",g)}function Ee(G){ee(G),e(18,A=!0)}function ye(G){A&&ee(G)}function be(){e(18,A=!1)}function he(G){ee({clientX:G.changedTouches[0].clientX,clientY:G.changedTouches[0].clientY})}function fe(G){St[G?"unshift":"push"](()=>{N=G,e(1,N)})}return n.$$set=G=>{"min"in G&&e(19,p=G.min),"max"in G&&e(20,h=G.max),"step"in G&&e(21,u=G.step),"value"in G&&e(0,g=G.value),"ariaValueText"in G&&e(2,v=G.ariaValueText),"name"in G&&e(3,w=G.name),"direction"in G&&e(4,y=G.direction),"reverse"in G&&e(5,I=G.reverse),"keyboardOnly"in G&&e(6,x=G.keyboardOnly),"slider"in G&&e(1,N=G.slider),"ariaLabel"in G&&e(7,b=G.ariaLabel),"ariaLabelledBy"in G&&e(8,M=G.ariaLabelledBy),"ariaControls"in G&&e(9,C=G.ariaControls),"isDragging"in G&&e(18,A=G.isDragging)},n.$$.update=()=>{n.$$.dirty&524288&&e(10,r=typeof p=="string"?parseFloat(p):p),n.$$.dirty&1048576&&e(11,i=typeof h=="string"?parseFloat(h):h),n.$$.dirty&2097152&&(o=typeof u=="string"?parseFloat(u):u),n.$$.dirty&3073&&e(12,f=((g-r)/(i-r)*1).toFixed(4))},[g,N,v,w,y,I,x,b,M,C,r,i,f,W,Ee,ye,be,he,A,p,h,u,fe]}class Ds extends Ln{constructor(t){super(),On(this,t,Gl,Xl,Fn,{min:19,max:20,step:21,value:0,ariaValueText:2,name:3,direction:4,reverse:5,keyboardOnly:6,slider:1,ariaLabel:7,ariaLabelledBy:8,ariaControls:9,isDragging:18})}}function Jl(n){let t,e,r,i,o,f,p,h,u,g,v,w,y;var I=n[2].pickerIndicator;function x(A,Y){return{props:{pos:A[6],isDark:A[3]}}}I&&(e=Nn(I,x(n)));function N(A){n[13](A)}let b={keyboardOnly:!0,ariaValueText:ql,ariaLabel:"saturation color"};n[0]!==void 0&&(b.value=n[0]),o=new Ds({props:b}),St.push(()=>Pn(o,"value",N));function M(A){n[14](A)}let C={keyboardOnly:!0,ariaValueText:Zl,direction:"vertical",ariaLabel:"brightness color"};return n[1]!==void 0&&(C.value=n[1]),u=new Ds({props:C}),St.push(()=>Pn(u,"value",M)),{c(){t=O("div"),e&&lt(e.$$.fragment),r=Q(),i=O("div"),lt(o.$$.fragment),p=Q(),h=O("div"),lt(u.$$.fragment),d(i,"class","s svelte-amfbfx"),Ht(i,"--pos-y",n[6].y),d(h,"class","v svelte-amfbfx"),Ht(h,"--pos-x",n[6].x),d(t,"class","picker svelte-amfbfx"),Ht(t,"--picker-color-bg",n[5])},m(A,Y){Z(A,t,Y),e&&st(e,t,null),E(t,r),E(t,i),st(o,i,null),E(t,p),E(t,h),st(u,h,null),n[15](t),v=!0,w||(y=[ie(window,"mouseup",n[8]),ie(window,"mousedown",n[10]),ie(window,"mousemove",n[9]),ie(t,"mousedown",cr(n[7])),ie(t,"touchstart",n[11],{passive:!1}),ie(t,"touchmove",cr(n[11]),{passive:!1}),ie(t,"touchend",n[11],{passive:!1})],w=!0)},p(A,[Y]){if(Y&4&&I!==(I=A[2].pickerIndicator)){if(e){dn();const ne=e;Te(ne.$$.fragment,1,0,()=>{at(ne,1)}),_n()}I?(e=Nn(I,x(A)),lt(e.$$.fragment),_e(e.$$.fragment,1),st(e,t,r)):e=null}else if(I){const ne={};Y&64&&(ne.pos=A[6]),Y&8&&(ne.isDark=A[3]),e.$set(ne)}const L={};!f&&Y&1&&(f=!0,L.value=A[0],Qn(()=>f=!1)),o.$set(L),Y&64&&Ht(i,"--pos-y",A[6].y);const W={};!g&&Y&2&&(g=!0,W.value=A[1],Qn(()=>g=!1)),u.$set(W),Y&64&&Ht(h,"--pos-x",A[6].x),Y&32&&Ht(t,"--picker-color-bg",A[5])},i(A){v||(e&&_e(e.$$.fragment,A),_e(o.$$.fragment,A),_e(u.$$.fragment,A),v=!0)},o(A){e&&Te(e.$$.fragment,A),Te(o.$$.fragment,A),Te(u.$$.fragment,A),v=!1},d(A){A&&q(t),e&&at(e),at(o),at(u),n[15](null),w=!1,cn(y)}}}function Cs(n,t,e){return Math.min(Math.max(t,n),e)}const ql=n=>`${n}%`,Zl=n=>`${n}%`;function Kl(n,t,e){const r=vs();let{components:i}=t,{h:o}=t,{s:f}=t,{v:p}=t,{isDark:h}=t,u,g=!1,v,w={x:100,y:0};function y(L){const{width:W,left:ne,height:ee,top:Ee}=u.getBoundingClientRect(),ye={x:Cs(L.clientX-ne,0,W),y:Cs(L.clientY-Ee,0,ee)};e(0,f=Cs(ye.x/W,0,1)*100),e(1,p=Cs((ee-ye.y)/ee,0,1)*100)}function I(L){L.button===0&&(g=!0,y(L))}function x(){g=!1}function N(L){g&&y(L)}function b(L){L.target.isSameNode(u)}function M(L){L.preventDefault(),y(L.changedTouches[0])}function C(L){f=L,e(0,f)}function A(L){p=L,e(1,p)}function Y(L){St[L?"unshift":"push"](()=>{u=L,e(4,u)})}return n.$$set=L=>{"components"in L&&e(2,i=L.components),"h"in L&&e(12,o=L.h),"s"in L&&e(0,f=L.s),"v"in L&&e(1,p=L.v),"isDark"in L&&e(3,h=L.isDark)},n.$$.update=()=>{n.$$.dirty&4096&&typeof o=="number"&&e(5,v=Cn({h:o,s:100,v:100,a:1}).toHex()),n.$$.dirty&19&&typeof f=="number"&&typeof p=="number"&&u&&e(6,w={x:f,y:100-p}),n.$$.dirty&3&&r("input",{s:f,v:p})},[f,p,i,h,u,v,w,I,x,N,b,M,o,C,A,Y]}class Ql extends Ln{constructor(t){super(),On(this,t,Kl,Jl,Fn,{components:2,h:12,s:0,v:1,isDark:3})}}function $l(n){let t;return{c(){t=O("div"),d(t,"class","picker-indicator svelte-i5mg2p"),dr(t,"is-dark",n[1]),Ht(t,"--pos-x",n[0].x),Ht(t,"--pos-y",n[0].y)},m(e,r){Z(e,t,r)},p(e,[r]){r&2&&dr(t,"is-dark",e[1]),r&1&&Ht(t,"--pos-x",e[0].x),r&1&&Ht(t,"--pos-y",e[0].y)},i:kt,o:kt,d(e){e&&q(t)}}}function ec(n,t,e){let{pos:r}=t,{isDark:i}=t;return n.$$set=o=>{"pos"in o&&e(0,r=o.pos),"isDark"in o&&e(1,i=o.isDark)},[r,i]}class tc extends Ln{constructor(t){super(),On(this,t,ec,$l,Fn,{pos:0,isDark:1})}}function nc(n){let t,e,r,i,o,f,p,h,u,g;return{c(){t=O("input"),r=Q(),i=O("input"),f=Q(),p=O("input"),d(t,"aria-label",e=n[4].label.h),t.value=n[9],d(t,"type","number"),d(t,"min","0"),d(t,"max","360"),d(t,"class","svelte-p68edl"),d(i,"aria-label",o=n[4].label.s),i.value=n[8],d(i,"type","number"),d(i,"min","0"),d(i,"max","100"),d(i,"class","svelte-p68edl"),d(p,"aria-label",h=n[4].label.v),p.value=n[7],d(p,"type","number"),d(p,"min","0"),d(p,"max","100"),d(p,"class","svelte-p68edl")},m(v,w){Z(v,t,w),Z(v,r,w),Z(v,i,w),Z(v,f,w),Z(v,p,w),u||(g=[ie(t,"input",n[12]("h")),ie(i,"input",n[12]("s")),ie(p,"input",n[12]("v"))],u=!0)},p(v,w){w&16&&e!==(e=v[4].label.h)&&d(t,"aria-label",e),w&512&&t.value!==v[9]&&(t.value=v[9]),w&16&&o!==(o=v[4].label.s)&&d(i,"aria-label",o),w&256&&i.value!==v[8]&&(i.value=v[8]),w&16&&h!==(h=v[4].label.v)&&d(p,"aria-label",h),w&128&&p.value!==v[7]&&(p.value=v[7])},d(v){v&&(q(t),q(r),q(i),q(f),q(p)),u=!1,cn(g)}}}function rc(n){let t,e,r,i,o,f,p,h,u,g,v,w,y;return{c(){t=O("input"),i=Q(),o=O("input"),h=Q(),u=O("input"),d(t,"aria-label",e=n[4].label.r),t.value=r=n[0].r,d(t,"type","number"),d(t,"min","0"),d(t,"max","255"),d(t,"class","svelte-p68edl"),d(o,"aria-label",f=n[4].label.g),o.value=p=n[0].g,d(o,"type","number"),d(o,"min","0"),d(o,"max","255"),d(o,"class","svelte-p68edl"),d(u,"aria-label",g=n[4].label.b),u.value=v=n[0].b,d(u,"type","number"),d(u,"min","0"),d(u,"max","255"),d(u,"class","svelte-p68edl")},m(I,x){Z(I,t,x),Z(I,i,x),Z(I,o,x),Z(I,h,x),Z(I,u,x),w||(y=[ie(t,"input",n[11]("r")),ie(o,"input",n[11]("g")),ie(u,"input",n[11]("b"))],w=!0)},p(I,x){x&16&&e!==(e=I[4].label.r)&&d(t,"aria-label",e),x&1&&r!==(r=I[0].r)&&t.value!==r&&(t.value=r),x&16&&f!==(f=I[4].label.g)&&d(o,"aria-label",f),x&1&&p!==(p=I[0].g)&&o.value!==p&&(o.value=p),x&16&&g!==(g=I[4].label.b)&&d(u,"aria-label",g),x&1&&v!==(v=I[0].b)&&u.value!==v&&(u.value=v)},d(I){I&&(q(t),q(i),q(o),q(h),q(u)),w=!1,cn(y)}}}function ic(n){let t,e,r,i;return{c(){t=O("input"),d(t,"aria-label",e=n[4].label.hex),t.value=n[1],d(t,"class","svelte-p68edl"),Ht(t,"flex",3)},m(o,f){Z(o,t,f),r||(i=ie(t,"input",n[10]),r=!0)},p(o,f){f&16&&e!==(e=o[4].label.hex)&&d(t,"aria-label",e),f&2&&t.value!==o[1]&&(t.value=o[1])},d(o){o&&q(t),r=!1,i()}}}function Ya(n){let t,e,r,i;return{c(){t=O("input"),d(t,"aria-label",e=n[4].label.a),t.value=n[6],d(t,"type","number"),d(t,"min","0"),d(t,"max","1"),d(t,"step","0.01"),d(t,"class","svelte-p68edl")},m(o,f){Z(o,t,f),r||(i=ie(t,"input",function(){lr(n[5]<=1?n[11]("a"):n[12]("a"))&&(n[5]<=1?n[11]("a"):n[12]("a")).apply(this,arguments)}),r=!0)},p(o,f){n=o,f&16&&e!==(e=n[4].label.a)&&d(t,"aria-label",e),f&64&&t.value!==n[6]&&(t.value=n[6])},d(o){o&&q(t),r=!1,i()}}}function ja(n){let t,e,r=n[4].color[n[3][n[5]]]+"",i,o,f,p=n[4].changeTo+"",h,u,g=n[4].color[n[3][(n[5]+1)%3]]+"",v,w,y;return{c(){t=O("button"),e=O("span"),i=Vt(r),o=Q(),f=O("span"),h=Vt(p),u=Q(),v=Vt(g),d(e,"class","disappear svelte-p68edl"),d(e,"aria-hidden","true"),d(f,"class","appear svelte-p68edl"),d(t,"class","svelte-p68edl")},m(I,x){Z(I,t,x),E(t,e),E(e,i),E(t,o),E(t,f),E(f,h),E(f,u),E(f,v),w||(y=ie(t,"click",n[14]),w=!0)},p(I,x){x&56&&r!==(r=I[4].color[I[3][I[5]]]+"")&&Bn(i,r),x&16&&p!==(p=I[4].changeTo+"")&&Bn(h,p),x&56&&g!==(g=I[4].color[I[3][(I[5]+1)%3]]+"")&&Bn(v,g)},d(I){I&&q(t),w=!1,y()}}}function sc(n){let t,e,r,i;function o(g,v){return g[5]===0?ic:g[5]===1?rc:nc}let f=o(n),p=f(n),h=n[2]&&Ya(n),u=n[3].length>1&&ja(n);return{c(){t=O("div"),e=O("div"),p.c(),r=Q(),h&&h.c(),i=Q(),u&&u.c(),d(e,"class","input-container svelte-p68edl"),d(t,"class","text-input svelte-p68edl")},m(g,v){Z(g,t,v),E(t,e),p.m(e,null),E(e,r),h&&h.m(e,null),E(t,i),u&&u.m(t,null)},p(g,[v]){f===(f=o(g))&&p?p.p(g,v):(p.d(1),p=f(g),p&&(p.c(),p.m(e,r))),g[2]?h?h.p(g,v):(h=Ya(g),h.c(),h.m(e,null)):h&&(h.d(1),h=null),g[3].length>1?u?u.p(g,v):(u=ja(g),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},i:kt,o:kt,d(g){g&&q(t),p.d(),h&&h.d(),u&&u.d()}}}const ac=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;function oc(n,t,e){let r,i,o,f;const p=vs();let{isAlpha:h}=t,{rgb:u}=t,{hsv:g}=t,{hex:v}=t,{textInputModes:w}=t,{texts:y}=t,I=0;function x(C){const A=C.target;ac.test(A.value)&&(e(1,v=A.value),p("input",{hex:v}))}function N(C){return function(A){e(0,u={...u,[C]:parseFloat(A.target.value)}),p("input",{rgb:u})}}function b(C){return function(A){e(13,g={...g,[C]:parseFloat(A.target.value)}),p("input",{hsv:g})}}const M=()=>e(5,I=(I+1)%3);return n.$$set=C=>{"isAlpha"in C&&e(2,h=C.isAlpha),"rgb"in C&&e(0,u=C.rgb),"hsv"in C&&e(13,g=C.hsv),"hex"in C&&e(1,v=C.hex),"textInputModes"in C&&e(3,w=C.textInputModes),"texts"in C&&e(4,y=C.texts)},n.$$.update=()=>{n.$$.dirty&8192&&e(9,r=Math.round(g.h)),n.$$.dirty&8192&&e(8,i=Math.round(g.s)),n.$$.dirty&8192&&e(7,o=Math.round(g.v)),n.$$.dirty&8192&&e(6,f=g.a===void 0?1:Math.round(g.a*100)/100)},[u,v,h,w,y,I,f,o,i,r,x,N,b,g,M]}class lc extends Ln{constructor(t){super(),On(this,t,oc,sc,Fn,{isAlpha:2,rgb:0,hsv:13,hex:1,textInputModes:3,texts:4})}}function cc(n){let t,e,r,i,o,f,p,h,u,g,v;return{c(){t=O("label"),e=O("div"),r=O("input"),i=Q(),o=O("div"),f=Q(),p=O("div"),h=Q(),u=Vt(n[2]),d(r,"type","color"),d(r,"name",n[3]),r.value=n[1],d(r,"aria-haspopup","dialog"),d(r,"class","svelte-r4tbal"),d(o,"class","alpha svelte-r4tbal"),d(p,"class","color svelte-r4tbal"),Ht(p,"background",n[1]),d(e,"class","container svelte-r4tbal"),d(t,"class","svelte-r4tbal")},m(w,y){Z(w,t,y),E(t,e),E(e,r),E(e,i),E(e,o),E(e,f),E(e,p),E(t,h),E(t,u),n[5](t),g||(v=[ie(r,"click",cr(Ps)),ie(r,"mousedown",cr(Ps)),ie(t,"click",cr(Ps)),ie(t,"mousedown",cr(Ps))],g=!0)},p(w,[y]){y&8&&d(r,"name",w[3]),y&2&&(r.value=w[1]),y&2&&Ht(p,"background",w[1]),y&4&&Bn(u,w[2])},i:kt,o:kt,d(w){w&&q(t),n[5](null),g=!1,cn(v)}}}function Ps(){}function fc(n,t,e){let{labelElement:r}=t,{hex:i}=t,{label:o}=t,{name:f=void 0}=t,{isOpen:p}=t;function h(u){St[u?"unshift":"push"](()=>{r=u,e(0,r)})}return n.$$set=u=>{"labelElement"in u&&e(0,r=u.labelElement),"hex"in u&&e(1,i=u.hex),"label"in u&&e(2,o=u.label),"name"in u&&e(3,f=u.name),"isOpen"in u&&e(4,p=u.isOpen)},[r,i,o,f,p,h]}class uc extends Ln{constructor(t){super(),On(this,t,fc,cc,Fn,{labelElement:0,hex:1,label:2,name:3,isOpen:4})}}function dc(n){let t,e,r;const i=n[4].default,o=W0(i,n,n[3],null);return{c(){t=O("div"),o&&o.c(),d(t,"class","wrapper svelte-1h4o41o"),d(t,"role",e=n[2]?"dialog":void 0),d(t,"aria-label","color picker"),dr(t,"is-open",n[1])},m(f,p){Z(f,t,p),o&&o.m(t,null),n[5](t),r=!0},p(f,[p]){o&&o.p&&(!r||p&8)&&j0(o,i,f,f[3],r?Y0(i,f[3],p,null):H0(f[3]),null),(!r||p&4&&e!==(e=f[2]?"dialog":void 0))&&d(t,"role",e),(!r||p&2)&&dr(t,"is-open",f[1])},i(f){r||(_e(o,f),r=!0)},o(f){Te(o,f),r=!1},d(f){f&&q(t),o&&o.d(f),n[5](null)}}}function _c(n,t,e){let{$$slots:r={},$$scope:i}=t,{wrapper:o}=t,{isOpen:f}=t,{isDialog:p}=t;function h(u){St[u?"unshift":"push"](()=>{o=u,e(0,o)})}return n.$$set=u=>{"wrapper"in u&&e(0,o=u.wrapper),"isOpen"in u&&e(1,f=u.isOpen),"isDialog"in u&&e(2,p=u.isDialog),"$$scope"in u&&e(3,i=u.$$scope)},[o,f,p,i,r,h]}class pc extends Ln{constructor(t){super(),On(this,t,_c,dc,Fn,{wrapper:0,isOpen:1,isDialog:2})}}const Gs={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to "},Lo="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function hc(n){return function(t){if(t.target===window)return;const e=t.target;if(!n.contains(e))return;const r=n.querySelectorAll(Lo),i=r[0],o=r[r.length-1];function f(h){return h.code==="Tab"&&!h.shiftKey}function p(h){return h.code==="Tab"&&h.shiftKey}f(t)&&t.target===o?(t.preventDefault(),i.focus()):p(t)&&t.target===i&&(t.preventDefault(),o.focus())}}const gc=n=>{const t=n.querySelector(Lo);t&&t.focus();const e=hc(n);return document.addEventListener("keydown",e),{destroy(){document.removeEventListener("keydown",e)}}};function mc(n){let t,e,r,i,o,f,p=n[1].label.withoutColor+"",h,u,g;return{c(){t=O("label"),e=O("div"),r=O("input"),i=Q(),o=O("span"),f=Q(),h=Vt(p),d(r,"type","checkbox"),d(r,"class","svelte-pt866j"),d(o,"class","svelte-pt866j"),d(e,"class","svelte-pt866j"),d(t,"class","nullability-checkbox svelte-pt866j")},m(v,w){Z(v,t,w),E(t,e),E(e,r),r.checked=n[0],E(e,i),E(e,o),E(t,f),E(t,h),u||(g=ie(r,"change",n[2]),u=!0)},p(v,[w]){w&1&&(r.checked=v[0]),w&2&&p!==(p=v[1].label.withoutColor+"")&&Bn(h,p)},i:kt,o:kt,d(v){v&&q(t),u=!1,g()}}}function vc(n,t,e){let{isUndefined:r}=t,{texts:i}=t;function o(){r=this.checked,e(0,r)}return n.$$set=f=>{"isUndefined"in f&&e(0,r=f.isUndefined),"texts"in f&&e(1,i=f.texts)},[r,i,o]}class bc extends Ln{constructor(t){super(),On(this,t,vc,mc,Fn,{isUndefined:0,texts:1})}}function yc(n){let t;return{c(){t=O("input"),d(t,"type","hidden"),t.value=n[2],d(t,"name",n[6])},m(e,r){Z(e,t,r)},p(e,r){r[0]&4&&(t.value=e[2]),r[0]&64&&d(t,"name",e[6])},i:kt,o:kt,d(e){e&&q(t)}}}function wc(n){let t,e,r,i;function o(h){n[33](h)}var f=n[23]().input;function p(h,u){let g={isOpen:!0,hex:h[2],label:h[5],name:h[6]};return h[21]!==void 0&&(g.labelElement=h[21]),{props:g}}return f&&(t=Nn(f,p(n)),St.push(()=>Pn(t,"labelElement",o))),{c(){t&&lt(t.$$.fragment),r=Dt()},m(h,u){t&&st(t,h,u),Z(h,r,u),i=!0},p(h,u){if(f!==(f=h[23]().input)){if(t){dn();const g=t;Te(g.$$.fragment,1,0,()=>{at(g,1)}),_n()}f?(t=Nn(f,p(h)),St.push(()=>Pn(t,"labelElement",o)),lt(t.$$.fragment),_e(t.$$.fragment,1),st(t,r.parentNode,r)):t=null}else if(f){const g={};u[0]&4&&(g.hex=h[2]),u[0]&32&&(g.label=h[5]),u[0]&64&&(g.name=h[6]),!e&&u[0]&2097152&&(e=!0,g.labelElement=h[21],Qn(()=>e=!1)),t.$set(g)}},i(h){i||(t&&_e(t.$$.fragment,h),i=!0)},o(h){t&&Te(t.$$.fragment,h),i=!1},d(h){h&&q(r),t&&at(t,h)}}}function Ha(n){let t,e,r,i;function o(h){n[34](h)}var f=n[23]().nullabilityCheckbox;function p(h,u){let g={texts:h[24]()};return h[16]!==void 0&&(g.isUndefined=h[16]),{props:g}}return f&&(t=Nn(f,p(n)),St.push(()=>Pn(t,"isUndefined",o))),{c(){t&&lt(t.$$.fragment),r=Dt()},m(h,u){t&&st(t,h,u),Z(h,r,u),i=!0},p(h,u){if(f!==(f=h[23]().nullabilityCheckbox)){if(t){dn();const g=t;Te(g.$$.fragment,1,0,()=>{at(g,1)}),_n()}f?(t=Nn(f,p(h)),St.push(()=>Pn(t,"isUndefined",o)),lt(t.$$.fragment),_e(t.$$.fragment,1),st(t,r.parentNode,r)):t=null}else if(f){const g={};!e&&u[0]&65536&&(e=!0,g.isUndefined=h[16],Qn(()=>e=!1)),t.$set(g)}},i(h){i||(t&&_e(t.$$.fragment,h),i=!0)},o(h){t&&Te(t.$$.fragment,h),i=!1},d(h){h&&q(r),t&&at(t,h)}}}function za(n){var i;let t,e,r;return e=new Ds({props:{min:0,max:1,step:.01,value:((i=n[1])==null?void 0:i.a)??n[18].a,direction:n[12],reverse:n[12]==="vertical",ariaLabel:n[24]().label.a}}),e.$on("input",n[27]("a")),{c(){t=O("div"),lt(e.$$.fragment),d(t,"class","a svelte-1n1d6qa"),Ht(t,"--alphaless-color",(n[2]?n[2]:n[19]).substring(0,7))},m(o,f){Z(o,t,f),st(e,t,null),r=!0},p(o,f){var h;const p={};f[0]&262146&&(p.value=((h=o[1])==null?void 0:h.a)??o[18].a),f[0]&4096&&(p.direction=o[12]),f[0]&4096&&(p.reverse=o[12]==="vertical"),e.$set(p),f[0]&524292&&Ht(t,"--alphaless-color",(o[2]?o[2]:o[19]).substring(0,7))},i(o){r||(_e(e.$$.fragment,o),r=!0)},o(o){Te(e.$$.fragment,o),r=!1},d(o){o&&q(t),at(e)}}}function Ba(n){let t,e,r;var i=n[23]().textInput;function o(f,p){return{props:{hex:f[2]??f[19],rgb:f[0]??f[17],hsv:f[1]??f[18],isAlpha:f[8],textInputModes:f[11],texts:f[24]()}}}return i&&(t=Nn(i,o(n)),t.$on("input",n[35])),{c(){t&&lt(t.$$.fragment),e=Dt()},m(f,p){t&&st(t,f,p),Z(f,e,p),r=!0},p(f,p){if(i!==(i=f[23]().textInput)){if(t){dn();const h=t;Te(h.$$.fragment,1,0,()=>{at(h,1)}),_n()}i?(t=Nn(i,o(f)),t.$on("input",f[35]),lt(t.$$.fragment),_e(t.$$.fragment,1),st(t,e.parentNode,e)):t=null}else if(i){const h={};p[0]&524292&&(h.hex=f[2]??f[19]),p[0]&131073&&(h.rgb=f[0]??f[17]),p[0]&262146&&(h.hsv=f[1]??f[18]),p[0]&256&&(h.isAlpha=f[8]),p[0]&2048&&(h.textInputModes=f[11]),t.$set(h)}},i(f){r||(t&&_e(t.$$.fragment,f),r=!0)},o(f){t&&Te(t.$$.fragment,f),r=!1},d(f){f&&q(e),t&&at(t,f)}}}function kc(n){let t,e,r;var i=n[23]().a11yNotice;function o(f,p){return{props:{components:f[23](),a11yColors:f[13],hex:f[2]||"#00000000",a11yTexts:f[15],a11yLevel:f[14]}}}return i&&(t=Nn(i,o(n))),{c(){t&&lt(t.$$.fragment),e=Dt()},m(f,p){t&&st(t,f,p),Z(f,e,p),r=!0},p(f,p){if(i!==(i=f[23]().a11yNotice)){if(t){dn();const h=t;Te(h.$$.fragment,1,0,()=>{at(h,1)}),_n()}i?(t=Nn(i,o(f)),lt(t.$$.fragment),_e(t.$$.fragment,1),st(t,e.parentNode,e)):t=null}else if(i){const h={};p[0]&8192&&(h.a11yColors=f[13]),p[0]&4&&(h.hex=f[2]||"#00000000"),p[0]&32768&&(h.a11yTexts=f[15]),p[0]&16384&&(h.a11yLevel=f[14]),t.$set(h)}},i(f){r||(t&&_e(t.$$.fragment,f),r=!0)},o(f){t&&Te(t.$$.fragment,f),r=!1},d(f){f&&q(e),t&&at(t,f)}}}function Tc(n){var N,b,M,C;let t,e,r,i,o,f,p,h,u=n[23]().a11yNotice,g,v,w=n[7]&&Ha(n);e=new Ql({props:{components:n[23](),h:((N=n[1])==null?void 0:N.h)??n[18].h,s:((b=n[1])==null?void 0:b.s)??n[18].s,v:((M=n[1])==null?void 0:M.v)??n[18].v,isDark:n[3]}}),e.$on("input",n[28](["s","v"])),o=new Ds({props:{min:0,max:360,step:1,value:((C=n[1])==null?void 0:C.h)??n[18].h,direction:n[12],reverse:n[12]==="vertical",ariaLabel:n[24]().label.h}}),o.$on("input",n[27]("h"));let y=n[8]&&za(n),I=n[10]&&Ba(n),x=u&&kc(n);return{c(){w&&w.c(),t=Q(),lt(e.$$.fragment),r=Q(),i=O("div"),lt(o.$$.fragment),f=Q(),y&&y.c(),p=Q(),I&&I.c(),h=Q(),x&&x.c(),g=Dt(),d(i,"class","h svelte-1n1d6qa")},m(A,Y){w&&w.m(A,Y),Z(A,t,Y),st(e,A,Y),Z(A,r,Y),Z(A,i,Y),st(o,i,null),Z(A,f,Y),y&&y.m(A,Y),Z(A,p,Y),I&&I.m(A,Y),Z(A,h,Y),x&&x.m(A,Y),Z(A,g,Y),v=!0},p(A,Y){var ne,ee,Ee,ye;A[7]?w?(w.p(A,Y),Y[0]&128&&_e(w,1)):(w=Ha(A),w.c(),_e(w,1),w.m(t.parentNode,t)):w&&(dn(),Te(w,1,1,()=>{w=null}),_n());const L={};Y[0]&262146&&(L.h=((ne=A[1])==null?void 0:ne.h)??A[18].h),Y[0]&262146&&(L.s=((ee=A[1])==null?void 0:ee.s)??A[18].s),Y[0]&262146&&(L.v=((Ee=A[1])==null?void 0:Ee.v)??A[18].v),Y[0]&8&&(L.isDark=A[3]),e.$set(L);const W={};Y[0]&262146&&(W.value=((ye=A[1])==null?void 0:ye.h)??A[18].h),Y[0]&4096&&(W.direction=A[12]),Y[0]&4096&&(W.reverse=A[12]==="vertical"),o.$set(W),A[8]?y?(y.p(A,Y),Y[0]&256&&_e(y,1)):(y=za(A),y.c(),_e(y,1),y.m(p.parentNode,p)):y&&(dn(),Te(y,1,1,()=>{y=null}),_n()),A[10]?I?(I.p(A,Y),Y[0]&1024&&_e(I,1)):(I=Ba(A),I.c(),_e(I,1),I.m(h.parentNode,h)):I&&(dn(),Te(I,1,1,()=>{I=null}),_n()),u&&x.p(A,Y)},i(A){v||(_e(w),_e(e.$$.fragment,A),_e(o.$$.fragment,A),_e(y),_e(I),_e(x),v=!0)},o(A){Te(w),Te(e.$$.fragment,A),Te(o.$$.fragment,A),Te(y),Te(I),Te(x),v=!1},d(A){A&&(q(t),q(r),q(i),q(f),q(p),q(h),q(g)),w&&w.d(A),at(e,A),at(o),y&&y.d(A),I&&I.d(A),x&&x.d(A)}}}function Sc(n){let t,e,r,i,o,f,p,h,u,g;const v=[wc,yc],w=[];function y(b,M){return b[9]?0:b[6]?1:-1}~(e=y(n))&&(r=w[e]=v[e](n));function I(b){n[36](b)}var x=n[23]().wrapper;function N(b,M){let C={isOpen:b[4],isDialog:b[9],$$slots:{default:[Tc]},$$scope:{ctx:b}};return b[22]!==void 0&&(C.wrapper=b[22]),{props:C}}return x&&(o=Nn(x,N(n)),St.push(()=>Pn(o,"wrapper",I))),{c(){t=O("span"),r&&r.c(),i=Q(),o&&lt(o.$$.fragment),d(t,"class",p="color-picker "+n[12]+" svelte-1n1d6qa")},m(b,M){Z(b,t,M),~e&&w[e].m(t,null),E(t,i),o&&st(o,t,null),n[37](t),h=!0,u||(g=[ie(window,"mousedown",n[25]),ie(window,"keyup",n[26])],u=!0)},p(b,M){let C=e;if(e=y(b),e===C?~e&&w[e].p(b,M):(r&&(dn(),Te(w[C],1,1,()=>{w[C]=null}),_n()),~e?(r=w[e],r?r.p(b,M):(r=w[e]=v[e](b),r.c()),_e(r,1),r.m(t,i)):r=null),x!==(x=b[23]().wrapper)){if(o){dn();const A=o;Te(A.$$.fragment,1,0,()=>{at(A,1)}),_n()}x?(o=Nn(x,N(b)),St.push(()=>Pn(o,"wrapper",I)),lt(o.$$.fragment),_e(o.$$.fragment,1),st(o,t,null)):o=null}else if(x){const A={};M[0]&16&&(A.isOpen=b[4]),M[0]&512&&(A.isDialog=b[9]),M[0]&1047951|M[1]&4096&&(A.$$scope={dirty:M,ctx:b}),!f&&M[0]&4194304&&(f=!0,A.wrapper=b[22],Qn(()=>f=!1)),o.$set(A)}(!h||M[0]&4096&&p!==(p="color-picker "+b[12]+" svelte-1n1d6qa"))&&d(t,"class",p)},i(b){h||(_e(r),o&&_e(o.$$.fragment,b),h=!0)},o(b){Te(r),o&&Te(o.$$.fragment,b),h=!1},d(b){b&&q(t),~e&&w[e].d(),o&&at(o),n[37](null),u=!1,cn(g)}}}function Ec(n,t,e){const r=vs();let{components:i={}}=t,{label:o="Choose a color"}=t,{name:f=void 0}=t,{nullable:p=!1}=t,{rgb:h=p?void 0:{r:255,g:0,b:0,a:1}}=t,{hsv:u=p?void 0:{h:0,s:100,v:100,a:1}}=t,{hex:g=p?void 0:"#ff0000"}=t,{color:v=void 0}=t,{isDark:w=!1}=t,{isAlpha:y=!0}=t,{isDialog:I=!0}=t,{isOpen:x=!I}=t,{isTextInput:N=!0}=t,{textInputModes:b=["hex","rgb","hsv"]}=t,{sliderDirection:M="vertical"}=t,{disableCloseClickOutside:C=!1}=t,{a11yColors:A=[{bgHex:"#ffffff"}]}=t,{a11yLevel:Y="AA"}=t,{texts:L=void 0}=t,{a11yTexts:W=void 0}=t,ne={r:255,g:0,b:0,a:1},ee={h:0,s:100,v:100,a:1},Ee="#ff0000",ye=!1,be=ye,he,fe,G,Ce;const Pe={pickerIndicator:tc,textInput:lc,input:uc,nullabilityCheckbox:bc,wrapper:pc};function ge(){return{...Pe,...i}}function dt(){return{label:{...Gs.label,...L==null?void 0:L.label},color:{...Gs.color,...L==null?void 0:L.color},changeTo:(L==null?void 0:L.changeTo)??Gs.changeTo}}function K({target:B}){I&&(fe.contains(B)||fe.isSameNode(B)?e(4,x=!x):x&&!G.contains(B)&&!C&&e(4,x=!1))}function Ne({key:B,target:rt}){if(I)B==="Enter"&&fe.contains(rt)?(e(4,x=!x),setTimeout(()=>{Ce=gc(G)})):B==="Escape"&&x&&(e(4,x=!1),he.contains(rt)&&(fe==null||fe.focus(),Ce==null||Ce.destroy()));else return}function qe(){if(ye&&!be){be=!0,e(1,u=e(0,h=e(2,g=void 0))),r("input",{color:v,hsv:u,rgb:h,hex:g});return}else if(be&&!ye){be=!1,e(1,u=ee),e(0,h=ne),e(2,g=Ee),r("input",{color:v,hsv:u,rgb:h,hex:g});return}if(!u&&!h&&!g){e(16,ye=!0),be=!0,r("input",{color:void 0,hsv:u,rgb:h,hex:g});return}u&&h&&u.h===ee.h&&u.s===ee.s&&u.v===ee.v&&u.a===ee.a&&h.r===ne.r&&h.g===ne.g&&h.b===ne.b&&h.a===ne.a&&g===Ee||(e(16,ye=!1),u&&u.a===void 0&&e(1,u.a=1,u),ee.a===void 0&&e(18,ee.a=1,ee),h&&h.a===void 0&&e(0,h.a=1,h),ne.a===void 0&&e(17,ne.a=1,ne),(g==null?void 0:g.substring(7))==="ff"&&e(2,g=g.substring(0,7)),(g==null?void 0:g.substring(7))==="ff"&&e(2,g=g.substring(0,7)),u&&(u.h!==ee.h||u.s!==ee.s||u.v!==ee.v||u.a!==ee.a)?(e(29,v=Cn(u)),e(0,h=v.toRgb()),e(2,g=v.toHex())):h&&(h.r!==ne.r||h.g!==ne.g||h.b!==ne.b||h.a!==ne.a)?(e(29,v=Cn(h)),e(2,g=v.toHex()),e(1,u=v.toHsv())):g&&g!==Ee&&(e(29,v=Cn(g)),e(0,h=v.toRgb()),e(1,u=v.toHsv())),v&&e(3,w=v.isDark()),g&&(e(18,ee=Object.assign({},u)),e(17,ne=Object.assign({},h)),e(19,Ee=g),be=ye,r("input",{color:v,hsv:u,rgb:h,hex:g})))}function Oe(B){return rt=>{u||e(1,u={...ee}),e(1,u[B]=rt.detail,u)}}function tt(B){return rt=>{u||e(1,u={...ee}),B.forEach(Nt=>{u&&e(1,u[Nt]=rt.detail[Nt],u)})}}function nt(B){fe=B,e(21,fe)}function Xe(B){ye=B,e(16,ye)}const zt=({detail:B})=>{B.hsv?e(1,u=B.hsv):B.rgb?e(0,h=B.rgb):B.hex&&e(2,g=B.hex)};function Et(B){G=B,e(22,G)}function we(B){St[B?"unshift":"push"](()=>{he=B,e(20,he)})}return n.$$set=B=>{"components"in B&&e(30,i=B.components),"label"in B&&e(5,o=B.label),"name"in B&&e(6,f=B.name),"nullable"in B&&e(7,p=B.nullable),"rgb"in B&&e(0,h=B.rgb),"hsv"in B&&e(1,u=B.hsv),"hex"in B&&e(2,g=B.hex),"color"in B&&e(29,v=B.color),"isDark"in B&&e(3,w=B.isDark),"isAlpha"in B&&e(8,y=B.isAlpha),"isDialog"in B&&e(9,I=B.isDialog),"isOpen"in B&&e(4,x=B.isOpen),"isTextInput"in B&&e(10,N=B.isTextInput),"textInputModes"in B&&e(11,b=B.textInputModes),"sliderDirection"in B&&e(12,M=B.sliderDirection),"disableCloseClickOutside"in B&&e(31,C=B.disableCloseClickOutside),"a11yColors"in B&&e(13,A=B.a11yColors),"a11yLevel"in B&&e(14,Y=B.a11yLevel),"texts"in B&&e(32,L=B.texts),"a11yTexts"in B&&e(15,W=B.a11yTexts)},n.$$.update=()=>{n.$$.dirty[0]&7&&(u||h||g)&&qe(),n.$$.dirty[0]&65536&&qe()},[h,u,g,w,x,o,f,p,y,I,N,b,M,A,Y,W,ye,ne,ee,Ee,he,fe,G,ge,dt,K,Ne,Oe,tt,v,i,C,L,nt,Xe,zt,Et,we]}class ds extends Ln{constructor(t){super(),On(this,t,Ec,Sc,Fn,{components:30,label:5,name:6,nullable:7,rgb:0,hsv:1,hex:2,color:29,isDark:3,isAlpha:8,isDialog:9,isOpen:4,isTextInput:10,textInputModes:11,sliderDirection:12,disableCloseClickOutside:31,a11yColors:13,a11yLevel:14,texts:32,a11yTexts:15},null,[-1,-1])}}const Cc="/escherization/assets/p4m-BGTNDhtw.png",Pc="/escherization/assets/p1-C2sy5zxe.png",Fc="/escherization/assets/p2-Cme2Az2_.png",Ic="/escherization/assets/p3-CiPtAfIQ.png",Ac="/escherization/assets/p6-CMcHCcnG.png",xc="/escherization/assets/p6m-fGbyLxQe.png",Rc="/escherization/assets/p4-2CEXdwG5.png";function Xa(n,t,e){const r=n.slice();return r[34]=t[e],r[96]=e,r}function Ga(n,t,e){const r=n.slice();return r[97]=t[e],r[96]=e,r}function Ja(n,t,e){const r=n.slice();return r[97]=t[e],r[96]=e,r}function qa(n,t,e){const r=n.slice();return r[100]=t[e],r[96]=e,r}function Za(n,t,e){const r=n.slice();return r[102]=t[e],r[96]=e,r}function Ka(n,t,e){const r=n.slice();return r[104]=t[e],r[96]=e,r}function Qa(n,t,e){const r=n.slice();return r[106]=t[e],r[96]=e,r}function $a(n,t,e){const r=n.slice();return r[108]=t[e],r}function eo(n,t,e){const r=n.slice();return r[100]=t[e],r[96]=e,r}function Mc(n){let t,e,r=n[112].message+"",i,o;return{c(){t=ct("text"),e=Vt("Error: "),i=Vt(r),o=Vt("."),d(t,"x","250"),d(t,"y","250"),d(t,"text-anchor","middle"),d(t,"class","svgText svelte-1eahhfj")},m(f,p){Z(f,t,p),E(t,e),E(t,i),E(t,o)},p(f,p){p[0]&1073741824&&r!==(r=f[112].message+"")&&Bn(i,r)},d(f){f&&q(t)}}}function Dc(n){let t,e=n[8]&&to(n);return{c(){e&&e.c(),t=Dt()},m(r,i){e&&e.m(r,i),Z(r,t,i)},p(r,i){r[8]?e?e.p(r,i):(e=to(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(r){r&&q(t),e&&e.d(r)}}}function to(n){let t,e,r,i,o,f,p=Mt(n[0]),h=[];for(let b=0;b<p.length;b+=1)h[b]=no(eo(n,p,b));let u=Mt(n[6]),g=[];for(let b=0;b<u.length;b+=1)g[b]=io($a(n,u,b));let v=n[14]&&so(n),w=Mt(n[5]),y=[];for(let b=0;b<w.length;b+=1)y[b]=lo(Za(n,w,b));let I=Mt(n[0]),x=[];for(let b=0;b<I.length;b+=1)x[b]=fo(qa(n,I,b));let N=n[18]&&uo(n);return{c(){t=ct("defs");for(let b=0;b<h.length;b+=1)h[b].c();for(let b=0;b<g.length;b+=1)g[b].c();e=Dt(),v&&v.c(),r=Dt();for(let b=0;b<y.length;b+=1)y[b].c();i=Dt();for(let b=0;b<x.length;b+=1)x[b].c();o=Dt(),N&&N.c(),f=Dt()},m(b,M){Z(b,t,M);for(let C=0;C<h.length;C+=1)h[C]&&h[C].m(t,null);for(let C=0;C<g.length;C+=1)g[C]&&g[C].m(b,M);Z(b,e,M),v&&v.m(b,M),Z(b,r,M);for(let C=0;C<y.length;C+=1)y[C]&&y[C].m(b,M);Z(b,i,M);for(let C=0;C<x.length;C+=1)x[C]&&x[C].m(b,M);Z(b,o,M),N&&N.m(b,M),Z(b,f,M)},p(b,M){if(M[0]&537919489|M[1]&32770){p=Mt(b[0]);let C;for(C=0;C<p.length;C+=1){const A=eo(b,p,C);h[C]?h[C].p(A,M):(h[C]=no(A),h[C].c(),h[C].m(t,null))}for(;C<h.length;C+=1)h[C].d(1);h.length=p.length}if(M[0]&469958720|M[1]&384){u=Mt(b[6]);let C;for(C=0;C<u.length;C+=1){const A=$a(b,u,C);g[C]?g[C].p(A,M):(g[C]=io(A),g[C].c(),g[C].m(e.parentNode,e))}for(;C<g.length;C+=1)g[C].d(1);g.length=u.length}if(b[14]?v?v.p(b,M):(v=so(b),v.c(),v.m(r.parentNode,r)):v&&(v.d(1),v=null),M[0]&16785440){w=Mt(b[5]);let C;for(C=0;C<w.length;C+=1){const A=Za(b,w,C);y[C]?y[C].p(A,M):(y[C]=lo(A),y[C].c(),y[C].m(i.parentNode,i))}for(;C<y.length;C+=1)y[C].d(1);y.length=w.length}if(M[0]&32769){I=Mt(b[0]);let C;for(C=0;C<I.length;C+=1){const A=qa(b,I,C);x[C]?x[C].p(A,M):(x[C]=fo(A),x[C].c(),x[C].m(o.parentNode,o))}for(;C<x.length;C+=1)x[C].d(1);x.length=I.length}b[18]?N?N.p(b,M):(N=uo(b),N.c(),N.m(f.parentNode,f)):N&&(N.d(1),N=null)},d(b){b&&(q(t),q(e),q(r),q(i),q(o),q(f)),Mn(h,b),Mn(g,b),v&&v.d(b),Mn(y,b),Mn(x,b),N&&N.d(b)}}}function no(n){let t,e,r,i,o,f,p,h,u;return{c(){var g;t=ct("pattern"),e=ct("image"),d(e,"href",r=(g=n[29])==null?void 0:g.src),d(e,"x",0),d(e,"y",0),d(e,"width",i=n[32][2]-n[32][0]),d(e,"height",o=n[32][3]-n[32][1]),d(t,"id",f="pattern_"+n[100].tileIdx),d(t,"patternContentUnits","userSpaceOnUse"),d(t,"patternUnits","userSpaceOnUse"),d(t,"patternTransform",p=ms(n[46](n[100].M,n[100].origin,n[20],!0))),d(t,"width",h=n[32][2]-n[32][0]),d(t,"height",u=n[32][3]-n[32][1])},m(g,v){Z(g,t,v),E(t,e)},p(g,v){var w;v[0]&536870912&&r!==(r=(w=g[29])==null?void 0:w.src)&&d(e,"href",r),v[1]&2&&i!==(i=g[32][2]-g[32][0])&&d(e,"width",i),v[1]&2&&o!==(o=g[32][3]-g[32][1])&&d(e,"height",o),v[0]&1&&f!==(f="pattern_"+g[100].tileIdx)&&d(t,"id",f),v[0]&1048577&&p!==(p=ms(g[46](g[100].M,g[100].origin,g[20],!0)))&&d(t,"patternTransform",p),v[1]&2&&h!==(h=g[32][2]-g[32][0])&&d(t,"width",h),v[1]&2&&u!==(u=g[32][3]-g[32][1])&&d(t,"height",u)},d(g){g&&q(t)}}}function ro(n){let t;function e(o,f){return o[17]?Oc:Nc}let r=e(n),i=r(n);return{c(){i.c(),t=Dt()},m(o,f){i.m(o,f),Z(o,t,f)},p(o,f){r===(r=e(o))&&i?i.p(o,f):(i.d(1),i=r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&q(t),i.d(o)}}}function Nc(n){let t,e,r,i;return{c(){t=ct("path"),d(t,"id",e="cell "+n[108].sourceIndex),d(t,"d",r=n[39](n[108])),d(t,"stroke","black"),d(t,"stroke-width","0"),d(t,"fill",i=n[108].color==0?n[26]:n[108].color==1?n[27]:n[28])},m(o,f){Z(o,t,f)},p(o,f){f[0]&64&&e!==(e="cell "+o[108].sourceIndex)&&d(t,"id",e),f[0]&64&&r!==(r=o[39](o[108]))&&d(t,"d",r),f[0]&469762112&&i!==(i=o[108].color==0?o[26]:o[108].color==1?o[27]:o[28])&&d(t,"fill",i)},d(o){o&&q(t)}}}function Oc(n){let t,e,r,i;return{c(){t=ct("path"),d(t,"id",e="cell "+n[108].sourceIndex),d(t,"d",r=n[39](n[108])),d(t,"stroke","black"),d(t,"stroke-width","0"),d(t,"fill",i=bo(n[108]))},m(o,f){Z(o,t,f)},p(o,f){f[0]&64&&e!==(e="cell "+o[108].sourceIndex)&&d(t,"id",e),f[0]&64&&r!==(r=o[39](o[108]))&&d(t,"d",r),f[0]&64&&i!==(i=bo(o[108]))&&d(t,"fill",i)},d(o){o&&q(t)}}}function io(n){let t=n[16]&&n[38](n[108]),e,r=t&&ro(n);return{c(){r&&r.c(),e=Dt()},m(i,o){r&&r.m(i,o),Z(i,e,o)},p(i,o){o[0]&65600&&(t=i[16]&&i[38](i[108])),t?r?r.p(i,o):(r=ro(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(i){i&&q(e),r&&r.d(i)}}}function so(n){let t,e,r=Mt(n[3]),i=[];for(let p=0;p<r.length;p+=1)i[p]=ao(Qa(n,r,p));let o=Mt(n[4]),f=[];for(let p=0;p<o.length;p+=1)f[p]=oo(Ka(n,o,p));return{c(){for(let p=0;p<i.length;p+=1)i[p].c();t=Dt();for(let p=0;p<f.length;p+=1)f[p].c();e=Dt()},m(p,h){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(p,h);Z(p,t,h);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(p,h);Z(p,e,h)},p(p,h){if(h[0]&33554440){r=Mt(p[3]);let u;for(u=0;u<r.length;u+=1){const g=Qa(p,r,u);i[u]?i[u].p(g,h):(i[u]=ao(g),i[u].c(),i[u].m(t.parentNode,t))}for(;u<i.length;u+=1)i[u].d(1);i.length=r.length}if(h[0]&33554456){o=Mt(p[4]);let u;for(u=0;u<o.length;u+=1){const g=Ka(p,o,u);f[u]?f[u].p(g,h):(f[u]=oo(g),f[u].c(),f[u].m(e.parentNode,e))}for(;u<f.length;u+=1)f[u].d(1);f.length=o.length}},d(p){p&&(q(t),q(e)),Mn(i,p),Mn(f,p)}}}function ao(n){let t,e,r;return{c(){t=ct("circle"),d(t,"id","point "+n[96]),d(t,"cx",e=n[106].x),d(t,"cy",r=n[106].y),d(t,"r","2"),d(t,"fill",n[25])},m(i,o){Z(i,t,o)},p(i,o){o[0]&8&&e!==(e=i[106].x)&&d(t,"cx",e),o[0]&8&&r!==(r=i[106].y)&&d(t,"cy",r),o[0]&33554432&&d(t,"fill",i[25])},d(i){i&&q(t)}}}function oo(n){let t,e,r,i,o,f,p,h,u,g,v;return{c(){t=ct("path"),i=ct("circle"),h=ct("circle"),d(t,"id",e="segment "+(n[96]+n[3].length)),d(t,"d",r="M "+n[104].x1+" "+n[104].y1+" L "+n[104].x2+" "+n[104].y2),d(t,"stroke",n[25]),d(t,"stroke-width","0.66"),d(t,"fill","none"),d(i,"id",o="segment "+(n[96]+n[3].length)),d(i,"cx",f=n[104].x1),d(i,"cy",p=n[104].y1),d(i,"r","1"),d(i,"fill",n[25]),d(h,"id",u="segment "+(n[96]+n[3].length)),d(h,"cx",g=n[104].x2),d(h,"cy",v=n[104].y2),d(h,"r","1"),d(h,"fill",n[25])},m(w,y){Z(w,t,y),Z(w,i,y),Z(w,h,y)},p(w,y){y[0]&8&&e!==(e="segment "+(w[96]+w[3].length))&&d(t,"id",e),y[0]&16&&r!==(r="M "+w[104].x1+" "+w[104].y1+" L "+w[104].x2+" "+w[104].y2)&&d(t,"d",r),y[0]&33554432&&d(t,"stroke",w[25]),y[0]&8&&o!==(o="segment "+(w[96]+w[3].length))&&d(i,"id",o),y[0]&16&&f!==(f=w[104].x1)&&d(i,"cx",f),y[0]&16&&p!==(p=w[104].y1)&&d(i,"cy",p),y[0]&33554432&&d(i,"fill",w[25]),y[0]&8&&u!==(u="segment "+(w[96]+w[3].length))&&d(h,"id",u),y[0]&16&&g!==(g=w[104].x2)&&d(h,"cx",g),y[0]&16&&v!==(v=w[104].y2)&&d(h,"cy",v),y[0]&33554432&&d(h,"fill",w[25])},d(w){w&&(q(t),q(i),q(h))}}}function Lc(n){let t,e;return{c(){t=ct("path"),d(t,"id","edge_"+n[96]),d(t,"d",e="M "+n[102].va.x+" "+n[102].va.y+" L "+n[102].vb.x+" "+n[102].vb.y),d(t,"stroke","red"),d(t,"stroke-width","0.66"),d(t,"fill","none")},m(r,i){Z(r,t,i)},p(r,i){i[0]&32&&e!==(e="M "+r[102].va.x+" "+r[102].va.y+" L "+r[102].vb.x+" "+r[102].vb.y)&&d(t,"d",e)},d(r){r&&q(t)}}}function Uc(n){let t;function e(o,f){if(o[102].isCurved&&o[102].controlPoints.length==3)return Wc;if(o[102].isPrimary)return Vc}let r=e(n),i=r&&r(n);return{c(){i&&i.c(),t=Dt()},m(o,f){i&&i.m(o,f),Z(o,t,f)},p(o,f){r===(r=e(o))&&i?i.p(o,f):(i&&i.d(1),i=r&&r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&q(t),i&&i.d(o)}}}function Vc(n){let t,e;return{c(){t=ct("path"),d(t,"id","edge_"+n[96]),d(t,"d",e="M "+n[102].va.x+" "+n[102].va.y+" L "+n[102].vb.x+" "+n[102].vb.y),d(t,"stroke",n[24]),d(t,"stroke-width","0.66"),d(t,"fill","none")},m(r,i){Z(r,t,i)},p(r,i){i[0]&32&&e!==(e="M "+r[102].va.x+" "+r[102].va.y+" L "+r[102].vb.x+" "+r[102].vb.y)&&d(t,"d",e),i[0]&16777216&&d(t,"stroke",r[24])},d(r){r&&q(t)}}}function Wc(n){let t,e;return{c(){t=ct("path"),d(t,"id","edge_"+n[96]),d(t,"d",e="M "+n[102].controlPoints[0].x+" "+n[102].controlPoints[0].y+" Q "+n[102].controlPoints[1].x+" "+n[102].controlPoints[1].y+" "+n[102].controlPoints[2].x+" "+n[102].controlPoints[2].y),d(t,"stroke",n[24]),d(t,"stroke-width","0.66"),d(t,"fill","none")},m(r,i){Z(r,t,i)},p(r,i){i[0]&32&&e!==(e="M "+r[102].controlPoints[0].x+" "+r[102].controlPoints[0].y+" Q "+r[102].controlPoints[1].x+" "+r[102].controlPoints[1].y+" "+r[102].controlPoints[2].x+" "+r[102].controlPoints[2].y)&&d(t,"d",e),i[0]&16777216&&d(t,"stroke",r[24])},d(r){r&&q(t)}}}function lo(n){let t;function e(o,f){if(o[102].isValid&&!o[102].isWithinCell&&o[13])return Uc;if(!o[102].isValid)return Lc}let r=e(n),i=r&&r(n);return{c(){i&&i.c(),t=Dt()},m(o,f){i&&i.m(o,f),Z(o,t,f)},p(o,f){r===(r=e(o))&&i?i.p(o,f):(i&&i.d(1),i=r&&r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&q(t),i&&i.d(o)}}}function co(n){let t,e,r;return{c(){t=ct("circle"),d(t,"id","origin "+n[96]),d(t,"cx",e=n[100].origin.x),d(t,"cy",r=n[100].origin.y),d(t,"r","2"),d(t,"fill","pink")},m(i,o){Z(i,t,o)},p(i,o){o[0]&1&&e!==(e=i[100].origin.x)&&d(t,"cx",e),o[0]&1&&r!==(r=i[100].origin.y)&&d(t,"cy",r)},d(i){i&&q(t)}}}function fo(n){let t,e=n[15]&&co(n);return{c(){e&&e.c(),t=Dt()},m(r,i){e&&e.m(r,i),Z(r,t,i)},p(r,i){r[15]?e?e.p(r,i):(e=co(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(r){r&&q(t),e&&e.d(r)}}}function uo(n){let t,e,r,i,o,f,p=Mt(n[1]),h=[];for(let v=0;v<p.length;v+=1)h[v]=_o(Ja(n,p,v));let u=Mt(n[31]),g=[];for(let v=0;v<u.length;v+=1)g[v]=po(Ga(n,u,v));return{c(){for(let v=0;v<h.length;v+=1)h[v].c();t=Dt();for(let v=0;v<g.length;v+=1)g[v].c();e=ct("rect"),d(e,"x",r=n[33].xl),d(e,"y",i=n[33].yl),d(e,"width",o=n[33].xh-n[33].xl),d(e,"height",f=n[33].yh-n[33].yl),d(e,"stroke","green"),Ht(e,"fill","none")},m(v,w){for(let y=0;y<h.length;y+=1)h[y]&&h[y].m(v,w);Z(v,t,w);for(let y=0;y<g.length;y+=1)g[y]&&g[y].m(v,w);Z(v,e,w)},p(v,w){if(w[0]&2){p=Mt(v[1]);let y;for(y=0;y<p.length;y+=1){const I=Ja(v,p,y);h[y]?h[y].p(I,w):(h[y]=_o(I),h[y].c(),h[y].m(t.parentNode,t))}for(;y<h.length;y+=1)h[y].d(1);h.length=p.length}if(w[0]&4|w[1]&32769){u=Mt(v[31]);let y;for(y=0;y<u.length;y+=1){const I=Ga(v,u,y);g[y]?g[y].p(I,w):(g[y]=po(I),g[y].c(),g[y].m(e.parentNode,e))}for(;y<g.length;y+=1)g[y].d(1);g.length=u.length}w[1]&4&&r!==(r=v[33].xl)&&d(e,"x",r),w[1]&4&&i!==(i=v[33].yl)&&d(e,"y",i),w[1]&4&&o!==(o=v[33].xh-v[33].xl)&&d(e,"width",o),w[1]&4&&f!==(f=v[33].yh-v[33].yl)&&d(e,"height",f)},d(v){v&&(q(t),q(e)),Mn(h,v),Mn(g,v)}}}function _o(n){let t,e;return{c(){t=ct("path"),d(t,"id","outline_"+n[96]),d(t,"d",e="M "+n[97].startPoint.x+" "+n[97].startPoint.y+" L "+n[97].endPoint.x+" "+n[97].endPoint.y),d(t,"stroke","yellow"),d(t,"stroke-width","0.66"),d(t,"fill","none")},m(r,i){Z(r,t,i)},p(r,i){i[0]&2&&e!==(e="M "+r[97].startPoint.x+" "+r[97].startPoint.y+" L "+r[97].endPoint.x+" "+r[97].endPoint.y)&&d(t,"d",e)},d(r){r&&q(t)}}}function po(n){let t,e,r,i;return{c(){t=ct("g"),e=ct("path"),d(e,"id","outlineMorphed_"+n[96]),d(e,"d",r="M "+n[97].x1+" "+n[97].y1+" L "+n[97].x2+" "+n[97].y2),d(e,"stroke","#c300ff"),d(e,"stroke-width","2"),d(e,"fill","none"),d(t,"transform",i=ms(n[46](n[2].M,n[2].origin,!1,!0)))},m(o,f){Z(o,t,f),E(t,e)},p(o,f){f[1]&1&&r!==(r="M "+o[97].x1+" "+o[97].y1+" L "+o[97].x2+" "+o[97].y2)&&d(e,"d",r),f[0]&4&&i!==(i=ms(o[46](o[2].M,o[2].origin,!1,!0)))&&d(t,"transform",i)},d(o){o&&q(t)}}}function Yc(n){let t,e;return{c(){t=ct("text"),e=Vt("Loading..."),d(t,"x","250"),d(t,"y","220"),d(t,"text-anchor","middle"),d(t,"class","svgText svelte-1eahhfj")},m(r,i){Z(r,t,i),E(t,e)},p:kt,d(r){r&&q(t)}}}function ho(n){let t,e,r=n[36][n[9]].parameterNames[n[96]].name+"",i,o,f,p,h,u;function g(...v){return n[54](n[96],...v)}return p=new ur({props:{id:n[96],min:n[36][n[9]].parameterNames[n[96]].min*100,max:n[36][n[9]].parameterNames[n[96]].max*100,stepSize:n[36][n[9]].parameterNames[n[96]].stepSize,initialValue:n[36][n[9]].parameterNames[n[96]].initialValue??n[34],decimalPlaces:2}}),p.$on("change",g),{c(){t=O("div"),e=O("p"),i=Vt(r),o=Q(),f=O("div"),lt(p.$$.fragment),h=Q(),d(e,"class","basis-1/3"),d(f,"class","min-w-72"),d(t,"class","tilingParam flex flex-row gap-4")},m(v,w){Z(v,t,w),E(t,e),E(e,i),E(t,o),E(t,f),st(p,f,null),E(t,h),u=!0},p(v,w){n=v,(!u||w[0]&512)&&r!==(r=n[36][n[9]].parameterNames[n[96]].name+"")&&Bn(i,r);const y={};w[0]&512&&(y.min=n[36][n[9]].parameterNames[n[96]].min*100),w[0]&512&&(y.max=n[36][n[9]].parameterNames[n[96]].max*100),w[0]&512&&(y.stepSize=n[36][n[9]].parameterNames[n[96]].stepSize),w[0]&524800&&(y.initialValue=n[36][n[9]].parameterNames[n[96]].initialValue??n[34]),p.$set(y)},i(v){u||(_e(p.$$.fragment,v),u=!0)},o(v){Te(p.$$.fragment,v),u=!1},d(v){v&&q(t),at(p)}}}function go(n){let t,e,r=n[36][n[9]].parameterNames[n[96]]&&ho(n);return{c(){r&&r.c(),t=Dt()},m(i,o){r&&r.m(i,o),Z(i,t,o),e=!0},p(i,o){i[36][i[9]].parameterNames[i[96]]?r?(r.p(i,o),o[0]&512&&_e(r,1)):(r=ho(i),r.c(),_e(r,1),r.m(t.parentNode,t)):r&&(dn(),Te(r,1,1,()=>{r=null}),_n())},i(i){e||(_e(r),e=!0)},o(i){Te(r),e=!1},d(i){i&&q(t),r&&r.d(i)}}}function mo(n){let t,e,r,i,o,f,p,h,u,g,v,w,y,I,x,N,b,M,C,A,Y,L,W,ne,ee,Ee,ye,be,he,fe,G,Ce,Pe;return f=new ur({props:{min:0,max:100,stepSize:.01,initialValue:n[23],decimalPlaces:2}}),f.$on("change",n[56]),I=new ur({props:{min:0,max:100,stepSize:.01,initialValue:n[34],decimalPlaces:2}}),I.$on("change",n[57]),L=new ur({props:{min:1,max:300,stepSize:.01,initialValue:n[21],decimalPlaces:2}}),L.$on("change",n[58]),fe=new ur({props:{min:50,max:200,stepSize:.01,initialValue:n[22],decimalPlaces:2}}),fe.$on("change",n[59]),{c(){t=O("div"),e=O("div"),r=O("p"),r.textContent="no morph",i=Q(),o=O("div"),lt(f.$$.fragment),p=Q(),h=O("p"),h.textContent="full morph",u=Q(),g=O("div"),v=O("p"),v.textContent="all lines same",w=Q(),y=O("div"),lt(I.$$.fragment),x=Q(),N=O("p"),N.textContent="long lines stronger",b=Q(),M=O("div"),C=O("p"),C.textContent="precision",A=Q(),Y=O("div"),lt(L.$$.fragment),W=Q(),ne=O("p"),ne.textContent="smoothness",ee=Q(),Ee=O("div"),ye=O("p"),ye.textContent="all lines same",be=Q(),he=O("div"),lt(fe.$$.fragment),G=Q(),Ce=O("p"),Ce.textContent="close lines stronger",d(r,"class","pr-5 text-right basis-1/4 min-w-40"),d(o,"class","min-w-72 basis-1/2"),d(h,"class","pl-5 basis-1/4 min-w-40"),d(e,"class","flex flex-row"),d(v,"class","pr-5 text-right basis-1/4 min-w-40"),d(y,"class","min-w-72"),d(N,"class","pl-5 basis-1/4 min-w-40"),d(g,"class","flex flex-row"),d(C,"class","pr-5 text-right basis-1/4 min-w-40"),d(Y,"class","min-w-72"),d(ne,"class","pl-5 basis-1/4"),d(M,"class","flex flex-row"),d(ye,"class","pr-5 text-right basis-1/4 min-w-40"),d(he,"class","min-w-72"),d(Ce,"class","pl-5 basis-1/4 min-w-40"),d(Ee,"class","flex flex-row"),d(t,"class","flex flex-col")},m(ge,dt){Z(ge,t,dt),E(t,e),E(e,r),E(e,i),E(e,o),st(f,o,null),E(e,p),E(e,h),E(t,u),E(t,g),E(g,v),E(g,w),E(g,y),st(I,y,null),E(g,x),E(g,N),E(t,b),E(t,M),E(M,C),E(M,A),E(M,Y),st(L,Y,null),E(M,W),E(M,ne),E(t,ee),E(t,Ee),E(Ee,ye),E(Ee,be),E(Ee,he),st(fe,he,null),E(Ee,G),E(Ee,Ce),Pe=!0},p(ge,dt){const K={};dt[0]&8388608&&(K.initialValue=ge[23]),f.$set(K);const Ne={};dt[1]&8&&(Ne.initialValue=ge[34]),I.$set(Ne);const qe={};dt[0]&2097152&&(qe.initialValue=ge[21]),L.$set(qe);const Oe={};dt[0]&4194304&&(Oe.initialValue=ge[22]),fe.$set(Oe)},i(ge){Pe||(_e(f.$$.fragment,ge),_e(I.$$.fragment,ge),_e(L.$$.fragment,ge),_e(fe.$$.fragment,ge),Pe=!0)},o(ge){Te(f.$$.fragment,ge),Te(I.$$.fragment,ge),Te(L.$$.fragment,ge),Te(fe.$$.fragment,ge),Pe=!1},d(ge){ge&&q(t),at(f),at(I),at(L),at(fe)}}}function jc(n){let t,e,r,i,o,f,p,h,u,g,v,w,y,I,x,N,b,M,C,A,Y,L,W,ne,ee,Ee,ye,be,he,fe,G,Ce,Pe,ge,dt,K,Ne,qe,Oe,tt,nt=n[36][n[9]].name+"",Xe,zt,Et,we,B,rt,Nt,Qe,se,Fe,Bt,Le,Ot,_t,ft,pt,He,H,te,U,ue,Se,ce,ze,It,Ae,xe,Re,Ze,mt,Tt,it,nn,In,At,rn,vn,sn,Xn,Gn,An,Xt,en,Jt,Gt,xt,qt,an,Kt,Wt,pn,on,bn,fn,Ge,bt,P,re,$,oe,me,Ke,We,ve,yt,ht,Ct,le,pe,de,$e,ot,Rt={ctx:n,current:null,token:null,hasCatch:!0,pending:Yc,then:Dc,catch:Mc,error:112};ma(o=n[30],Rt),L=new ur({props:{min:50,max:300,stepSize:1,initialValue:n[11]*100,decimalPlaces:0}}),L.$on("change",n[49]),be=new ur({props:{min:0,max:360,stepSize:1,initialValue:n[12],decimalPlaces:0}}),be.$on("change",n[50]),ge=new ur({props:{min:50,max:250,stepSize:1,initialValue:n[10],decimalPlaces:0}}),ge.$on("change",n[51]);let jt=Mt(n[19]),wt=[];for(let ke=0;ke<jt.length;ke+=1)wt[ke]=go(Xa(n,jt,ke));const Cr=ke=>Te(wt[ke],1,1,()=>{wt[ke]=null});let ut=n[20]&&mo(n);function Pr(ke){n[66](ke)}let _r={label:"Border"};n[24]!==void 0&&(_r.hex=n[24]),on=new ds({props:_r}),St.push(()=>Pn(on,"hex",Pr));function Je(ke){n[67](ke)}let xn={label:"Skelleton"};n[25]!==void 0&&(xn.hex=n[25]),bt=new ds({props:xn}),St.push(()=>Pn(bt,"hex",Je));function un(ke){n[68](ke)}let pr={label:"Background 1"};n[26]!==void 0&&(pr.hex=n[26]),oe=new ds({props:pr}),St.push(()=>Pn(oe,"hex",un));function yn(ke){n[69](ke)}let hn={label:"Background 2"};n[27]!==void 0&&(hn.hex=n[27]),ve=new ds({props:hn}),St.push(()=>Pn(ve,"hex",yn));function Jn(ke){n[70](ke)}let Un={label:"Background 3"};return n[28]!==void 0&&(Un.hex=n[28]),le=new ds({props:Un}),St.push(()=>Pn(le,"hex",Jn)),{c(){t=O("div"),e=O("div"),r=ct("svg"),i=ct("rect"),Rt.block.c(),f=Q(),p=O("button"),p.innerHTML=`<span class="material-symbols-outlined me-2">refresh</span>
      Update`,h=Q(),u=O("button"),u.innerHTML=`<span class="material-symbols-outlined me-2">download</span>
      Download SVG`,g=Q(),v=O("div"),w=O("p"),y=Vt(n[7]),I=Q(),x=O("div"),N=O("p"),N.textContent="Tiling Settings",b=Q(),M=O("div"),C=O("p"),C.textContent="Tile Size [%]",A=Q(),Y=O("div"),lt(L.$$.fragment),W=Q(),ne=O("div"),ee=O("p"),ee.textContent="Tile Rotation [°]",Ee=Q(),ye=O("div"),lt(be.$$.fragment),he=Q(),fe=O("div"),G=O("p"),G.textContent="Tiling Size [%]",Ce=Q(),Pe=O("div"),lt(ge.$$.fragment),dt=Q(),K=O("div"),Ne=O("button"),Ne.textContent="<",qe=Q(),Oe=O("div"),tt=O("p"),Xe=Vt(nt),zt=Q(),Et=O("img"),B=Q(),rt=O("button"),rt.textContent=">",Nt=Q(),Qe=O("div");for(let ke=0;ke<wt.length;ke+=1)wt[ke].c();se=Q(),Fe=O("p"),Fe.textContent="Morph Settings",Bt=Q(),Le=O("div"),Ot=O("label"),_t=O("input"),ft=Vt(`\r
        Morph`),pt=Q(),ut&&ut.c(),He=Q(),H=O("p"),H.textContent="Display Settings",te=Q(),U=O("div"),ue=O("div"),Se=O("label"),ce=O("input"),ze=Vt(`\r
          Border`),It=Q(),Ae=O("div"),xe=O("label"),Re=O("input"),Ze=Vt(`\r
          Skeleton`),mt=Q(),Tt=O("div"),it=O("label"),nn=O("input"),In=Vt(`\r
          Origins`),At=Q(),rn=O("div"),vn=O("label"),sn=O("input"),Xn=Vt(`\r
          Background`),Gn=Q(),An=O("div"),Xt=O("label"),en=O("input"),Jt=Vt(`\r
          Background Image`),Gt=Q(),xt=O("div"),qt=O("label"),an=O("input"),Kt=Vt(`\r
          Debug Morph Lines`),Wt=Q(),pn=O("div"),lt(on.$$.fragment),fn=Q(),Ge=O("div"),lt(bt.$$.fragment),re=Q(),$=O("div"),lt(oe.$$.fragment),Ke=Q(),We=O("div"),lt(ve.$$.fragment),ht=Q(),Ct=O("div"),lt(le.$$.fragment),d(i,"x",n[35].xl+100),d(i,"y",n[35].yl+100),d(i,"width",n[35].xh-200),d(i,"height",n[35].yh-200),d(i,"stroke","rgb(2 132 199)"),d(i,"stroke-width","0.66"),d(i,"fill","white"),d(r,"id","voronoiSvg"),d(r,"width",n[35].xh),d(r,"height",n[35].yh),d(r,"viewBox",n[35].xl+100+" "+(n[35].yl+100)+" "+(n[35].xh-200)+" "+(n[35].yh-200)),d(r,"xmlns","http://www.w3.org/2000/svg"),d(p,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(u,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(w,"class","text-red-700 text-sm break-words"),d(v,"class","lastErrorContainer max-w-96 max-h-24"),d(e,"class","flex-1 min-w-fit grid grid-cols-1 justify-items-center content-start gap-4 pl-10"),d(N,"class","text-xl font-sans text-center text-sky-400 p-2"),d(C,"class",""),d(Y,"class","col-span-3 min-w-72"),d(M,"class","grid grid-cols-4"),d(ee,"class",""),d(ye,"class","col-span-3 min-w-72"),d(ne,"class","grid grid-cols-4"),d(G,"class",""),d(Pe,"class","col-span-3 min-w-72"),d(fe,"class","grid grid-cols-4"),d(Ne,"class","bg-sky-300 hover:bg-sky-500 text-black font-bold rounded h-10 w-10"),d(tt,"class","text-center"),d(Oe,"class","bg-slate-100 flex items-center justify-center p-4 h-10 min-w-52"),d(Et,"class","max-w-20"),ha(Et.src,we=n[36][n[9]].image)||d(Et,"src",we),d(Et,"alt","Preview..."),d(rt,"class","bg-sky-300 hover:bg-sky-500 text-black font-bold rounded w-10 h-10"),d(K,"class","tilingCtrl flex items-center gap-4"),d(Qe,"class","tilingParams"),d(Fe,"class","text-xl font-sans text-center text-sky-400 p-2"),d(_t,"type","checkbox"),d(Ot,"class","p-4"),d(Le,"class","bg-slate-100 flex items-center justify-center h-10 rounded"),d(H,"class","text-xl font-sans text-center text-sky-400 p-2"),d(ce,"type","checkbox"),d(Se,"class","p-4"),d(ue,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(Re,"type","checkbox"),d(xe,"class","p-4"),d(Ae,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(nn,"type","checkbox"),d(it,"class","p-4"),d(Tt,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(sn,"type","checkbox"),d(vn,"class","p-4"),d(rn,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(en,"type","checkbox"),d(Xt,"class","p-4"),d(An,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(an,"type","checkbox"),d(qt,"class","p-4"),d(xt,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d($,"class","col-start-1"),d(U,"class","displaySettings grid grid-cols-3 gap-4 mr-4 ml-4"),d(x,"class","flex-1 min-w-fit grid grid-cols-1 justify-items-center gap-2 content-start"),d(t,"class","flex flex-row flex-wrap flex-grow")},m(ke,Ue){Z(ke,t,Ue),E(t,e),E(e,r),E(r,i),Rt.block.m(r,Rt.anchor=null),Rt.mount=()=>r,Rt.anchor=null,E(e,f),E(e,p),E(e,h),E(e,u),E(e,g),E(e,v),E(v,w),E(w,y),E(t,I),E(t,x),E(x,N),E(x,b),E(x,M),E(M,C),E(M,A),E(M,Y),st(L,Y,null),E(x,W),E(x,ne),E(ne,ee),E(ne,Ee),E(ne,ye),st(be,ye,null),E(x,he),E(x,fe),E(fe,G),E(fe,Ce),E(fe,Pe),st(ge,Pe,null),E(x,dt),E(x,K),E(K,Ne),E(K,qe),E(K,Oe),E(Oe,tt),E(tt,Xe),E(K,zt),E(K,Et),E(K,B),E(K,rt),E(x,Nt),E(x,Qe);for(let wn=0;wn<wt.length;wn+=1)wt[wn]&&wt[wn].m(Qe,null);E(x,se),E(x,Fe),E(x,Bt),E(x,Le),E(Le,Ot),E(Ot,_t),_t.checked=n[20],E(Ot,ft),E(x,pt),ut&&ut.m(x,null),E(x,He),E(x,H),E(x,te),E(x,U),E(U,ue),E(ue,Se),E(Se,ce),ce.checked=n[13],E(Se,ze),E(U,It),E(U,Ae),E(Ae,xe),E(xe,Re),Re.checked=n[14],E(xe,Ze),E(U,mt),E(U,Tt),E(Tt,it),E(it,nn),nn.checked=n[15],E(it,In),E(U,At),E(U,rn),E(rn,vn),E(vn,sn),sn.checked=n[16],E(vn,Xn),E(U,Gn),E(U,An),E(An,Xt),E(Xt,en),en.checked=n[17],E(Xt,Jt),E(U,Gt),E(U,xt),E(xt,qt),E(qt,an),an.checked=n[18],E(qt,Kt),E(U,Wt),E(U,pn),st(on,pn,null),E(U,fn),E(U,Ge),st(bt,Ge,null),E(U,re),E(U,$),st(oe,$,null),E(U,Ke),E(U,We),st(ve,We,null),E(U,ht),E(U,Ct),st(le,Ct,null),de=!0,$e||(ot=[ie(p,"click",n[47]),ie(u,"click",n[48]),ie(Ne,"click",n[52]),ie(rt,"click",n[53]),ie(_t,"change",n[55]),ie(ce,"change",n[60]),ie(Re,"change",n[61]),ie(nn,"change",n[62]),ie(sn,"change",n[63]),ie(en,"change",n[64]),ie(an,"change",n[65])],$e=!0)},p(ke,Ue){n=ke,Rt.ctx=n,Ue[0]&1073741824&&o!==(o=n[30])&&ma(o,Rt)||il(Rt,n,Ue),(!de||Ue[0]&128)&&Bn(y,n[7]);const wn={};Ue[0]&2048&&(wn.initialValue=n[11]*100),L.$set(wn);const hr={};Ue[0]&4096&&(hr.initialValue=n[12]),be.$set(hr);const tn={};if(Ue[0]&1024&&(tn.initialValue=n[10]),ge.$set(tn),(!de||Ue[0]&512)&&nt!==(nt=n[36][n[9]].name+"")&&Bn(Xe,nt),(!de||Ue[0]&512&&!ha(Et.src,we=n[36][n[9]].image))&&d(Et,"src",we),Ue[0]&524800|Ue[1]&2080){jt=Mt(n[19]);let Lt;for(Lt=0;Lt<jt.length;Lt+=1){const mr=Xa(n,jt,Lt);wt[Lt]?(wt[Lt].p(mr,Ue),_e(wt[Lt],1)):(wt[Lt]=go(mr),wt[Lt].c(),_e(wt[Lt],1),wt[Lt].m(Qe,null))}for(dn(),Lt=jt.length;Lt<wt.length;Lt+=1)Cr(Lt);_n()}Ue[0]&1048576&&(_t.checked=n[20]),n[20]?ut?(ut.p(n,Ue),Ue[0]&1048576&&_e(ut,1)):(ut=mo(n),ut.c(),_e(ut,1),ut.m(x,He)):ut&&(dn(),Te(ut,1,1,()=>{ut=null}),_n()),Ue[0]&8192&&(ce.checked=n[13]),Ue[0]&16384&&(Re.checked=n[14]),Ue[0]&32768&&(nn.checked=n[15]),Ue[0]&65536&&(sn.checked=n[16]),Ue[0]&131072&&(en.checked=n[17]),Ue[0]&262144&&(an.checked=n[18]);const gn={};!bn&&Ue[0]&16777216&&(bn=!0,gn.hex=n[24],Qn(()=>bn=!1)),on.$set(gn);const $n={};!P&&Ue[0]&33554432&&(P=!0,$n.hex=n[25],Qn(()=>P=!1)),bt.$set($n);const er={};!me&&Ue[0]&67108864&&(me=!0,er.hex=n[26],Qn(()=>me=!1)),oe.$set(er);const gr={};!yt&&Ue[0]&134217728&&(yt=!0,gr.hex=n[27],Qn(()=>yt=!1)),ve.$set(gr);const mn={};!pe&&Ue[0]&268435456&&(pe=!0,mn.hex=n[28],Qn(()=>pe=!1)),le.$set(mn)},i(ke){if(!de){_e(L.$$.fragment,ke),_e(be.$$.fragment,ke),_e(ge.$$.fragment,ke);for(let Ue=0;Ue<jt.length;Ue+=1)_e(wt[Ue]);_e(ut),_e(on.$$.fragment,ke),_e(bt.$$.fragment,ke),_e(oe.$$.fragment,ke),_e(ve.$$.fragment,ke),_e(le.$$.fragment,ke),de=!0}},o(ke){Te(L.$$.fragment,ke),Te(be.$$.fragment,ke),Te(ge.$$.fragment,ke),wt=wt.filter(Boolean);for(let Ue=0;Ue<wt.length;Ue+=1)Te(wt[Ue]);Te(ut),Te(on.$$.fragment,ke),Te(bt.$$.fragment,ke),Te(oe.$$.fragment,ke),Te(ve.$$.fragment,ke),Te(le.$$.fragment,ke),de=!1},d(ke){ke&&q(t),Rt.block.d(),Rt.token=null,Rt=null,at(L),at(be),at(ge),Mn(wt,ke),ut&&ut.d(),at(on),at(bt),at(oe),at(ve),at(le),$e=!1,cn(ot)}}}function vo(n){var t=document.createElement("canvas"),e=t.getContext("2d");t.width=n.width,t.height=n.height,e.putImageData(n,0,0);var r=new Image;return r.src=t.toDataURL(),r}function Hc(){const n=document.getElementById("voronoiSvg");if(n!=null){const t=new Blob([n.outerHTML],{type:"image/svg+xml"}),e=document.createElement("a");e.href=URL.createObjectURL(t),e.download="voronoi.svg",e.click()}}function bo(n){return"url(#pattern_"+n.tileIdx+")"}function zc(n,t,e){let r,i,o=new ka(0,500,0,500),f=[],p=[],h=[],u=[],g,v=[],w=[],y=[],I=[],x="",N=!1,b=0,M=-1,C=300,A=300,Y=1,L=100,W=1,ne=0,ee=new Ve(150,150),Ee,ye=!0,be=!0,he=!1,fe=!0,G=!0,Ce=!1,Pe=[],ge=!0,dt=.6,K=1,Ne=2,qe=1,Oe="#0000ffff",tt="#ff0000ff",nt="#e06d4380",Xe="#59da5980",zt="#c3c63580",Et,we,B,rt=null,Nt=[],Qe=[],se=new ka(0,0,0,0);const ft=[{symGroup:"p1",IH:1,origin:"center",name:"Grid Shifted",image:Pc,tilingScaleFactor:.66,parameterNames:{0:{name:"Column Spacing",min:.01,max:.3,stepSize:.01,initialValue:.12239750492},1:{name:"Height Offset",min:0,max:.2,stepSize:.01,initialValue:.1}}},{symGroup:"p4m",IH:76,origin:"ul",name:"Grid",image:Cc,tilingScaleFactor:.5,parameterNames:{}},{symGroup:"p2",IH:4,origin:"ul",name:"2 Rotations",image:Fc,tilingScaleFactor:.66,parameterNames:{0:{name:"Spacing Column 1-2",min:.01,max:.6,stepSize:.01,initialValue:.2},1:{name:"Height Offset",min:.12,max:.25,stepSize:.01,initialValue:0}}},{symGroup:"p3",IH:7,origin:"center",name:"3 Rotations",image:Ic,tilingScaleFactor:.66,parameterNames:{0:{name:"Horizontal Spacing",min:.5,max:.8,stepSize:.01,initialValue:.6},1:{name:"Vertical Spacing",min:.1,max:.6,stepSize:.01,initialValue:.196416770201}}},{symGroup:"p4",IH:28,origin:"center",name:"4 Rotations",image:Rc,tilingScaleFactor:.5,parameterNames:{0:{name:"Horizontal Spacing",min:0,max:2,stepSize:.01,initialValue:.230769230769},1:{name:"Vertical Spacing",min:0,max:2,stepSize:.01,initialValue:.230769230769}}},{symGroup:"p6",IH:21,origin:"center",name:"6 Rotations",image:Ac,tilingScaleFactor:.5,parameterNames:{0:{name:"Vertical Spacing",min:0,max:.5,stepSize:.01,initialValue:.104512294489},1:{name:"Horizontal Spacing",min:0,max:1.3,stepSize:.01,initialValue:.65}}},{symGroup:"p6m",IH:37,origin:"center",name:"6 Rotations Mirrored",image:xc,tilingScaleFactor:.5,parameterNames:{}}];function pt(){e(0,f=[]),e(6,I=[]),e(5,y=[]),e(3,v=[]),e(4,w=[])}async function He(){e(8,N=!0),await new Promise((P,re)=>{setTimeout(()=>{try{let $=new Date().getTime();U(),ue(),Mo(w)?e(7,x="Collision between tiles detected, please change the paremeters (e.g. decrease Tile Size)"):(e(7,x=""),Se(),te())}catch($){throw e(7,x=$),re($),$}P()})})}function H(P){let re=new Ve((o.xh-o.xl)/2,(o.yh-o.yl)/2),$=Number.MAX_VALUE,oe=-1;for(let me=0;me<P.length;me++){let Ke=(P[me].origin.x-re.x)*(P[me].origin.x-re.x)+(P[me].origin.y-re.y)*(P[me].origin.y-re.y);Ke<$&&(oe=me,$=Ke)}return P[oe]}function te(){e(2,g=H(f)),e(1,u=[]);let P,re;for(let $=0;$<f.length;$++)f[$].tileIdx==g.tileIdx&&(P=it(f[$].M,f[$].origin,!0),re=Tt(f[$].M,f[$].origin,!1,!0),I.filter(oe=>oe.tileIdx==f[$].tileIdx).forEach(oe=>{oe.edgeIndices.forEach(me=>{if(y[me].isPrimary&&!y[me].isWithinCell){let Ke={startPoint:{x:y[me].va.x,y:y[me].va.y},endPoint:{x:y[me].vb.x,y:y[me].vb.y}};u.push(Ke)}})}));if(e(1,u),B!=null&&we!=null)if(ge){const $=new i.VectorByte;we.data.forEach(de=>$.push_back(de));const oe=new i.VectorByte;B.data.forEach(de=>oe.push_back(de));const me=new i.VectorFeatureLine;h.forEach(de=>me.push_back({startPoint:{x:de.x1+ee.x,y:de.y1+ee.y},endPoint:{x:de.x2+ee.x,y:de.y2+ee.y}}));const Ke=new i.VectorFeatureLine;u.forEach(de=>Ke.push_back({startPoint:{x:de.startPoint.x,y:de.startPoint.y},endPoint:{x:de.endPoint.x,y:de.endPoint.y}}));let We=[];for(let de=0;de<u.length;de++){let $e=Tr(P,new Ve(u[de].startPoint.x,u[de].startPoint.y)),ot=Tr(P,new Ve(u[de].endPoint.x,u[de].endPoint.y));We.push({startPoint:$e,endPoint:ot})}Ce?$s.set(We):$s.set([]);const ve=new i.VectorDouble;ve.push_back(P.a),ve.push_back(P.b),ve.push_back(P.c),ve.push_back(P.d),ve.push_back(P.e),ve.push_back(P.f);let yt=i.getBBox(Ke,ve);e(32,Qe=[]);for(let de=0;de<yt.size();de++)Qe.push(yt.get(de));e(32,Qe);let ht=Tr(re,new Ve(Qe[0],Qe[1])),Ct=Tr(re,new Ve(Qe[2],Qe[3]));if(e(33,se.yl=ht.y,se),e(33,se.yh=Ct.y,se),ht.x<Ct.x?(e(33,se.xl=ht.x,se),e(33,se.xh=Ct.x,se)):(e(33,se.xl=Ct.x,se),e(33,se.xh=ht.x,se)),ht.y<Ct.y?(e(33,se.yl=ht.y,se),e(33,se.yh=Ct.y,se)):(e(33,se.yl=Ct.y,se),e(33,se.yh=ht.y,se)),Ce){let de=i.getMorphOutline(we.width,we.height,qe,oe,me,Ke,ve);e(31,Nt=[]);for(let $e=0;$e<de.size();$e++)Nt.push(new Jr(de.get($e).startPoint.x,de.get($e).startPoint.y,de.get($e).endPoint.x,de.get($e).endPoint.y));e(31,Nt)}let le=i.doMorph(B.width,B.height,dt,K,Ne,qe,$,oe,me,Ke,ve),pe=new ImageData(Qe[2]-Qe[0],Qe[3]-Qe[1]);for(let de=0;de<le.size();de++)pe.data[de]=le.get(de);e(29,Et=vo(pe))}else e(29,Et=vo(we)),e(32,Qe=[0,0,C,A])}function U(){var re;let P=new xa(Number(ft[b].IH));if(M!=b)if(P.numParameters()>0){e(19,Pe=P.getParameters());for(let $=0;$<Pe.length;$++)e(19,Pe[$]=((re=ft[b].parameterNames[$])==null?void 0:re.initialValue)??Pe[$],Pe);P.setParameters(Pe)}else e(19,Pe=[]);M=b}function ue(){e(0,f=[]),e(3,v=[]),e(4,w=[]);let P=new xa(Number(ft[b].IH));P.setParameters(Pe);for(let re of P.fillRegionBounds(o.xl/(L*Y),o.yl/(L*Y),o.xh/(L*Y),o.yh/(L*Y))){const $=P.getColour(re.t1,re.t2,re.aspect),oe=re.T;let me={a:oe[0],b:oe[3],c:oe[1],d:oe[4],e:oe[2],f:oe[5]},Ke=ne*(Math.PI/180),We=or(_s(L*Y,L*Y),me,Ws(Ke)),ve=Tr(We,{x:0,y:0}),ht={origin:new Gr(ve.x,ve.y),M:me,tileIdx:f.length-1};f.push(ht);let Ct=or(We,_s(W/Yt.x,W/Yt.y));for(let le=0;le<p.length;le++){let pe=Tr(Ct,{x:p[le].x,y:p[le].y}),de=new Gr(pe.x,pe.y,$,ht.tileIdx);o.contains(de.x,de.y)&&v.push(de)}for(let le=0;le<h.length;le++){let pe=Tr(Ct,{x:h[le].x1,y:h[le].y1}),de=Tr(Ct,{x:h[le].x2,y:h[le].y2}),$e=new Jr(pe.x,pe.y,de.x,de.y,$,ht.tileIdx);(o.contains($e.x1,$e.y1)||o.contains($e.x2,$e.y2))&&w.push($e)}}}function Se(){try{const P=new r.VectorDouble;P.push_back(o.xl),P.push_back(o.yl),P.push_back(o.xh),P.push_back(o.yh);const re=new r.VectorInt,$=new r.VectorInt,oe=new r.VectorInt;v.forEach(le=>{re.push_back(le.x),re.push_back(le.y),$.push_back(le.color),oe.push_back(le.tileIdx)});const me=new r.VectorInt,Ke=new r.VectorInt,We=new r.VectorInt;w.forEach(le=>{me.push_back(le.x1),me.push_back(le.y1),me.push_back(le.x2),me.push_back(le.y2),Ke.push_back(le.color),We.push_back(le.tileIdx)});let ve=r.computevoronoi(P,re,me,$,Ke,oe,We),yt=[];for(let le=0;le<ve.vertices.size();le+=2){let pe=!0;(Number.isNaN(ve.vertices.get(le))||Number.isNaN(ve.vertices.get(le+1)))&&(console.log("Vertex "+le+": "+ve.vertices.get(le)+" "+ve.vertices.get(le+1)),pe=!1),yt.push({x:ve.vertices.get(le),y:ve.vertices.get(le+1),isValid:pe})}let ht=[];for(let le=0;le<ve.edges.size();le++){let pe=ve.edges.get(le),de=[],$e=!0;for(let ot=0;ot<pe.controll_points.size();ot+=2){(Number.isNaN(pe.controll_points.get(ot))||Number.isNaN(pe.controll_points.get(ot+1)))&&(console.log("CP "+le+" "+ot/2+": "+pe.controll_points.get(ot)+" "+pe.controll_points.get(ot+1)),$e=!1);const Rt={x:pe.controll_points.get(ot),y:pe.controll_points.get(ot+1),isValid:$e};de.push(Rt)}(Number.isNaN(pe.x1)||Number.isNaN(pe.y1)||Number.isNaN(pe.x2)||Number.isNaN(pe.y2))&&(console.log("Edge "+le+": "+pe.x1+" "+pe.y1+" "+pe.x2+" "+pe.y2),$e=!1),ht.push({va:{x:pe.x1,y:pe.y1,isValid:$e},vb:{x:pe.x2,y:pe.y2,isValid:$e},isCurved:pe.isCurved,controlPoints:de,isPrimary:pe.isPrimary,isValid:$e,isWithinCell:pe.isWithinCell})}let Ct=[];for(let le=0;le<ve.cells.size();le++){let pe=ve.cells.get(le),de={sourceIndex:pe.sourceIndex,sourceCategory:pe.sourceCategory,isDegenerate:pe.isDegenerate,containsPoint:pe.containsPoint,containsSegment:pe.containsSegment,edgeIndices:[],color:pe.color,tileIdx:pe.tileIdx};Ct.push(de);for(let $e=0;$e<pe.edgeIndices.size();$e++){let ot=pe.edgeIndices.get($e);ot>=ht.length?console.warn("Index too high "+ot+" for cell "+pe.sourceIndex+" isDegenerate "+pe.isDegenerate):de.edgeIndices.push(ot)}}e(5,y=ht),e(6,I=Ct)}catch(P){throw e(7,x=P),P}}function ce(P){if(P.edgeIndices.length<=1)return!1;for(let $=1;$<=P.edgeIndices.length-1;$++)if(!y[P.edgeIndices[$-1]].isValid||y[P.edgeIndices[$-1]].vb.x!=y[P.edgeIndices[$]].va.x||y[P.edgeIndices[$-1]].vb.y!=y[P.edgeIndices[$]].va.y||Number.isNaN(y[P.edgeIndices[$]].va.x)||Number.isNaN(y[P.edgeIndices[$]].va.y))return!1;let re=P.edgeIndices.length-1;return!(y[P.edgeIndices[re]].vb.x!=y[P.edgeIndices[0]].va.x||y[P.edgeIndices[re]].vb.y!=y[P.edgeIndices[0]].va.y)}function ze(P){let re=y[P.edgeIndices[0]],$;re.isCurved?$="M "+re.controlPoints[0].x+" "+re.controlPoints[0].y+"Q "+re.controlPoints[1].x+" "+re.controlPoints[1].y+" "+re.controlPoints[2].x+" "+re.controlPoints[2].y+" ":$="M "+y[P.edgeIndices[0]].va.x+" "+y[P.edgeIndices[0]].va.y+" ";for(let Ke=1;Ke<P.edgeIndices.length;Ke++){let We=y[P.edgeIndices[Ke]],ve=y[P.edgeIndices[Ke-1]];We.isCurved?$=$+"L "+We.controlPoints[0].x+" "+We.controlPoints[0].y+"Q "+We.controlPoints[1].x+" "+We.controlPoints[1].y+" "+We.controlPoints[2].x+" "+We.controlPoints[2].y+" ":$=$+"L "+We.va.x+" "+We.va.y+" ",(ve.vb.x!=We.va.x||ve.vb.y!=We.va.y)&&console.log("Inconsistent: ("+ve.vb.x+" "+ve.vb.y+") ("+We.va.x+" "+We.va.y+")")}let oe=P.edgeIndices.length-1;re=y[P.edgeIndices[oe]];let me=y[P.edgeIndices[oe-1]];return me.isCurved||($=$+"L "+re.vb.x+" "+re.vb.y+" "),(me.vb.x!=re.va.x||me.vb.y!=re.va.y)&&console.log("Inconsistent: ("+me.vb.x+" "+me.vb.y+") ("+re.va.x+" "+re.va.y+")"),(re.vb.x!=y[P.edgeIndices[0]].va.x||re.vb.y!=y[P.edgeIndices[0]].va.y)&&console.log("Inconsistent: ("+re.vb.x+" "+re.vb.y+") ("+y[P.edgeIndices[0]].va.x+" "+y[P.edgeIndices[0]].va.y+")"),$}function It(){e(9,b=(b+1)%ft.length),Y=ft[b].tilingScaleFactor,Is.set(ft[b]),pt(),U()}function Ae(){e(9,b=b-1),b<0&&e(9,b=ft.length-1),Y=ft[b].tilingScaleFactor,Is.set(ft[b]),pt(),U()}function xe(P,re){re<Pe.length&&e(19,Pe[re]=P,Pe)}function Re(P){e(10,L=P)}function Ze(P){e(11,W=P/100)}function mt(P){e(12,ne=P)}function Tt(P,re,$,oe){P.e=0,P.f=0;let me=Math.sqrt(P.a*P.a+P.b*P.b),Ke=Math.sqrt(P.c*P.c+P.d*P.d),We=Math.atan2(P.b,P.a)+ne*(Math.PI/180),ve=-ee.x+re.x,yt=-ee.y+re.y;$&&(ve=ve+Qe[0],yt=yt+Qe[1]),oe?(me=me*L*Y*W/Yt.x,Ke=Ke*L*Y*W/Yt.y):(me=me*L*Y*W/C,Ke=Ke*L*Y*W/A);let ht=ba();return Math.sign(P.a)!=Math.sign(P.d)&&(ht=or(ht,ya())),Math.sign(P.c)!=Math.sign(P.b)&&(ht=or(ht,wa())),ht=or(Ws(We,re.x,re.y),_s(me,Ke,re.x,re.y),gi(ve,yt)),ht}function it(P,re,$){P.e=0,P.f=0;let oe=Math.sqrt(P.a*P.a+P.b*P.b),me=Math.sqrt(P.c*P.c+P.d*P.d),Ke=Math.atan2(P.b,P.a)+ne*(Math.PI/180),We=ee.x-re.x,ve=ee.y-re.y;$?(oe=Yt.x/(oe*L*Y*W),me=Yt.y/(me*L*Y*W)):(oe=C/(oe*L*Y*W),me=A/(me*L*Y*W));let yt=ba();return Math.sign(P.a)!=Math.sign(P.d)&&(yt=or(yt,ya())),Math.sign(P.c)!=Math.sign(P.b)&&(yt=or(yt,wa())),yt=or(gi(We,ve),_s(oe,me,re.x,re.y),Ws(-Ke,re.x,re.y)),yt}Ao(async()=>{r=await xl(),i=await Rl(),Ms.subscribe(P=>{C=P.tileWidth,A=P.tileHeight,e(32,Qe=[0,0,C,A]),p=P.sitePoints,h=P.siteSegments,ee=P.tileCenter,Ee=P.imageOffset}),Qs.subscribe(P=>{e(29,Et=P.image),we=P.imageData,B=P.imageDataProcessed,e(8,N=!1)}),Is.set(ft[b]),p=[],e(4,w=[]),Ms.set({sitePoints:v,siteSegments:w,tileWidth:C,tileHeight:A,tileCenter:ee,imageOffset:Ee}),Y=ft[b].tilingScaleFactor});const nn=()=>e(30,rt=He()),In=()=>{Hc()},At=P=>Ze(P.detail.value),rn=P=>mt(P.detail.value),vn=P=>Re(P.detail.value),sn=()=>{Ae()},Xn=()=>{It()},Gn=(P,re)=>xe(re.detail.value,P);function An(){ge=this.checked,e(20,ge)}const Xt=P=>e(23,qe=Number(P.detail.value)),en=P=>e(34,dt=Number(P.detail.value)),Jt=P=>e(21,K=Number(P.detail.value)),Gt=P=>e(22,Ne=Number(P.detail.value));function xt(){ye=this.checked,e(13,ye)}function qt(){be=this.checked,e(14,be)}function an(){he=this.checked,e(15,he)}function Kt(){fe=this.checked,e(16,fe)}function Wt(){G=this.checked,e(17,G)}function pn(){Ce=this.checked,e(18,Ce)}function on(P){Oe=P,e(24,Oe)}function bn(P){tt=P,e(25,tt)}function fn(P){nt=P,e(26,nt)}function Ge(P){Xe=P,e(27,Xe)}function bt(P){zt=P,e(28,zt)}return[f,u,g,v,w,y,I,x,N,b,L,W,ne,ye,be,he,fe,G,Ce,Pe,ge,K,Ne,qe,Oe,tt,nt,Xe,zt,Et,rt,Nt,Qe,se,dt,o,ft,He,ce,ze,It,Ae,xe,Re,Ze,mt,Tt,nn,In,At,rn,vn,sn,Xn,Gn,An,Xt,en,Jt,Gt,xt,qt,an,Kt,Wt,pn,on,bn,fn,Ge,bt]}class Bc extends Ln{constructor(t){super(),On(this,t,zc,jc,Fn,{},null,[-1,-1,-1,-1])}}function yo(n){let t;return{c(){t=O("div"),t.innerHTML=`<p class="text-2xl font-sans text-sky-400 p-4">Help</p> <p class="pl-10">This tool is meant to generate escher like tilings from any Image. To generate a tiling follow the steps below:</p> <p class="text-xl font-sans text-sky-400 p-4">Step 1: Skeleton</p> <ul class="list-disc list-inside pl-10 pr-10"><li>Get an image to use for the tool in a common image format (png, jpg, ...).</li> <li>To be able to generate a tiling the tool has to know what the content and what the backgound of the image is. 
          It assumes that all black (#000000) pixels are the background and everything else is the subject.
          Use a tool like Photoshop, GIMP or MS Paint to fill the background with black pixels.</li> <li>Now use the &quot;Upload Image&quot; button to upload the Image to the tool.</li> <li>The Tool will automaticaly calculate a &quot;skelleton&quot; of the image.
          Use the &quot;Deviation Tolerance&quot; slider to adjust the skelleton, so it closely assembles the subject but does not have to many red lines.</li> <li>The tools next to the image can be used to manualy adjust the skelleton.</li> <li>The pink dot can be moved to adjust the center of the tiling. The skelloton will be drawn relative to this center in the next step.</li> <li>The steps above can be repeated anytime to readjust the skelleton. Changing the deviation tolerance will reset any manual changes.</li></ul> <p></p> <p class="text-xl font-sans text-sky-400 p-4">Step 2: Tiling</p> <ul class="list-disc list-inside pl-10"><li>Press the &quot;Update&quot; button to create the tiling. Update has to be pressed every time a setting is chaged.</li> <li>Now the settings on the right can be chaged to modify the tiling.</li> <li>The &quot;Tile Size&quot; changes the size of an individual tile</li> <li>The &quot;Tiling Size&quot; changes the scale of the whole tiling</li> <li>The &quot;Base Type&quot; of the tiling can be changed using the &quot;&lt;&quot; and &quot;&gt;&quot; buttons</li> <li>In the Morph Settings area image morphing (warping) can be disabled and the behaviour of the morph can be modified</li> <li>amount of warping (none vs. full) (t)</li> <li>all lines influence the same vs. longer lines have greater influence (p)</li> <li>precision vs. smoothness of the warping (a)</li> <li>affection of all lines vs. closest line to a pixel (b)</li> <li>The Display Settings area can be used to customize which parts of the output are displayed and in which colors</li> <li>Press the &quot;Download SVG&quot; button to save the generate tiling as an SVG file. SVGs can be displayed using most Web-Browsers and further Edited using Software like Incscape, Adobe Illustrator etc.</li></ul>`,d(t,"class","flex flex-col grow pb-10")},m(e,r){Z(e,t,r)},d(e){e&&q(t)}}}function Xc(n){let t,e,r,i,o,f,p,h,u,g,v,w,y,I,x,N,b,M,C,A,Y,L,W,ne,ee,Ee,ye,be,he=n[0]&&yo();return N=new Al({}),W=new Bc({}),{c(){t=O("link"),e=Q(),r=O("main"),i=O("link"),o=Q(),f=O("header"),p=O("h1"),p.textContent="Escherization",h=Q(),u=O("button"),u.innerHTML='<span class="material-symbols-outlined svelte-1g0vp1i">help</span>',g=Q(),he&&he.c(),v=Q(),w=O("div"),y=O("div"),I=O("p"),I.textContent="Skeleton",x=Q(),lt(N.$$.fragment),b=Q(),M=O("div"),C=Q(),A=O("div"),Y=O("p"),Y.textContent="Tiling",L=Q(),lt(W.$$.fragment),ne=Q(),ee=O("div"),ee.innerHTML='<footer class="flex flex-col items-center text-center"><div class="w-full p-1 text-center"><a class="text-white" href="https://www.tum.de/en/">Julian Eder - TUM</a></div></footer>',d(t,"rel","stylesheet"),d(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"),d(i,"href","https://fonts.googleapis.com/icon?family=Material+Icons"),d(i,"rel","stylesheet"),d(p,"class","text-4xl font-sans text-center text-white"),d(u,"class","absolute right-3 top-3 min-h-12 min-w-12 bg-sky-500 rounded"),d(f,"class","sticky z-50 bg-sky-500 top-0 p-4"),d(I,"class","text-2xl font-sans text-center text-sky-400 p-4"),d(y,"class","flex-grow flex-1 min-w-fit"),d(M,"class","col-start-2 min-h-[1em] w-px self-stretch bg-gradient-to-tr from-transparent via-neutral-500 to-transparent opacity-20 dark:opacity-100"),d(Y,"class","text-2xl font-sans text-center text-sky-400 p-4"),d(A,"class","flex-grow flex-1 min-w-fit"),d(w,"class","flex flex-row flex-wrap flex-grow"),d(ee,"class","sticky z-50 bottom-0 w-screen bg-sky-900"),d(r,"class","flex flex-col min-h-screen")},m(fe,G){Z(fe,t,G),Z(fe,e,G),Z(fe,r,G),E(r,i),E(r,o),E(r,f),E(f,p),E(f,h),E(f,u),E(r,g),he&&he.m(r,null),E(r,v),E(r,w),E(w,y),E(y,I),E(y,x),st(N,y,null),E(w,b),E(w,M),E(w,C),E(w,A),E(A,Y),E(A,L),st(W,A,null),E(r,ne),E(r,ee),Ee=!0,ye||(be=ie(u,"click",n[2]),ye=!0)},p(fe,[G]){fe[0]?he||(he=yo(),he.c(),he.m(r,v)):he&&(he.d(1),he=null)},i(fe){Ee||(_e(N.$$.fragment,fe),_e(W.$$.fragment,fe),Ee=!0)},o(fe){Te(N.$$.fragment,fe),Te(W.$$.fragment,fe),Ee=!1},d(fe){fe&&(q(t),q(e),q(r)),he&&he.d(),at(N),at(W),ye=!1,be()}}}function Gc(n,t,e){let r=!1;function i(){e(0,r=!r)}return[r,i,()=>{i()}]}class Jc extends Ln{constructor(t){super(),On(this,t,Gc,Xc,Fn,{})}}new Jc({target:document.getElementById("app")});
