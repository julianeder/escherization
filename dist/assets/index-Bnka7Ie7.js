var L0=Object.defineProperty;var U0=(n,t,e)=>t in n?L0(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Xe=(n,t,e)=>(U0(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const A of o.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&r(A)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function St(){}const ta=n=>n;function x0(n,t){for(const e in t)n[e]=t[e];return n}function Y0(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function yo(n){return n()}function _a(){return Object.create(null)}function cn(n){n.forEach(yo)}function fr(n){return typeof n=="function"}function kn(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let Bs;function ha(n,t){return n===t?!0:(Bs||(Bs=document.createElement("a")),Bs.href=t,n===Bs.href)}function O0(n){return Object.keys(n).length===0}function G0(n,t,e,r){if(n){const i=Eo(n,t,e,r);return n[0](i)}}function Eo(n,t,e,r){return n[1]&&r?x0(e.ctx.slice(),n[1](r(t))):e.ctx}function H0(n,t,e,r){if(n[2]&&r){const i=n[2](r(e));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],A=Math.max(t.dirty.length,i.length);for(let p=0;p<A;p+=1)o[p]=t.dirty[p]|i[p];return o}return t.dirty|i}return t.dirty}function V0(n,t,e,r,i,o){if(i){const A=Eo(t,e,r,o);n.p(A,i)}}function J0(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let r=0;r<e;r++)t[r]=-1;return t}return-1}function pa(n){const t=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[n,"px"]}const bo=typeof window<"u";let Bo=bo?()=>window.performance.now():()=>Date.now(),na=bo?n=>requestAnimationFrame(n):St;const gi=new Set;function wo(n){gi.forEach(t=>{t.c(n)||(gi.delete(t),t.f())}),gi.size!==0&&na(wo)}function Qo(n){let t;return gi.size===0&&na(wo),{promise:new Promise(e=>{gi.add(t={c:n,f:e})}),abort(){gi.delete(t)}}}const j0=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function k(n,t){n.appendChild(t)}function So(n){if(!n)return document;const t=n.getRootNode?n.getRootNode():n.ownerDocument;return t&&t.host?t:n.ownerDocument}function X0(n){const t=O("style");return t.textContent="/* empty */",W0(So(n),t),t.sheet}function W0(n,t){return k(n.head||n,t),t.sheet}function re(n,t,e){n.insertBefore(t,e||null)}function ne(n){n.parentNode&&n.parentNode.removeChild(n)}function Nn(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function O(n){return document.createElement(n)}function vt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Ot(n){return document.createTextNode(n)}function ie(){return Ot(" ")}function Ut(){return Ot("")}function fe(n,t,e,r){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}function ur(n){return function(t){return t.preventDefault(),n.call(this,t)}}function q0(n){return function(t){t.target===this&&n.call(this,t)}}function d(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function z0(n){return Array.from(n.childNodes)}function jn(n,t){t=""+t,n.data!==t&&(n.data=t)}function Vt(n,t,e,r){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,r?"important":"")}function _r(n,t,e){n.classList.toggle(t,!!e)}function ko(n,t,{bubbles:e=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:t,bubbles:e,cancelable:r})}function Mn(n,t){return new n(t)}const Fs=new Map;let Ns=0;function K0(n){let t=5381,e=n.length;for(;e--;)t=(t<<5)-t^n.charCodeAt(e);return t>>>0}function Z0(n,t){const e={stylesheet:X0(t),rules:{}};return Fs.set(n,e),e}function Do(n,t,e,r,i,o,A,p=0){const u=16.666/r;let l=`{
`;for(let D=0;D<=1;D+=u){const I=t+(e-t)*o(D);l+=D*100+`%{${A(I,1-I)}}
`}const g=l+`100% {${A(e,1-e)}}
}`,h=`__svelte_${K0(g)}_${p}`,m=So(n),{stylesheet:v,rules:B}=Fs.get(m)||Z0(m,n);B[h]||(B[h]=!0,v.insertRule(`@keyframes ${h} ${g}`,v.cssRules.length));const Q=n.style.animation||"";return n.style.animation=`${Q?`${Q}, `:""}${h} ${r}ms linear ${i}ms 1 both`,Ns+=1,h}function qs(n,t){const e=(n.style.animation||"").split(", "),r=e.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),i=e.length-r.length;i&&(n.style.animation=r.join(", "),Ns-=i,Ns||$0())}function $0(){na(()=>{Ns||(Fs.forEach(n=>{const{ownerNode:t}=n.stylesheet;t&&ne(t)}),Fs.clear())})}let ps;function gr(n){ps=n}function ra(){if(!ps)throw new Error("Function called outside component initialization");return ps}function To(n){ra().$$.on_mount.push(n)}function Is(){const n=ra();return(t,e,{cancelable:r=!1}={})=>{const i=n.$$.callbacks[t];if(i){const o=ko(t,e,{cancelable:r});return i.slice().forEach(A=>{A.call(n,o)}),!o.defaultPrevented}return!0}}const ui=[],Dt=[];let di=[];const zs=[],el=Promise.resolve();let Ks=!1;function tl(){Ks||(Ks=!0,el.then(ia))}function _i(n){di.push(n)}function er(n){zs.push(n)}const Ys=new Set;let Ai=0;function ia(){if(Ai!==0)return;const n=ps;do{try{for(;Ai<ui.length;){const t=ui[Ai];Ai++,gr(t),nl(t.$$)}}catch(t){throw ui.length=0,Ai=0,t}for(gr(null),ui.length=0,Ai=0;Dt.length;)Dt.pop()();for(let t=0;t<di.length;t+=1){const e=di[t];Ys.has(e)||(Ys.add(e),e())}di.length=0}while(ui.length);for(;zs.length;)zs.pop()();Ks=!1,Ys.clear(),gr(n)}function nl(n){if(n.fragment!==null){n.update(),cn(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(_i)}}function rl(n){const t=[],e=[];di.forEach(r=>n.indexOf(r)===-1?t.push(r):e.push(r)),e.forEach(r=>r()),di=t}let fs;function Fo(){return fs||(fs=Promise.resolve(),fs.then(()=>{fs=null})),fs}function Rs(n,t,e){n.dispatchEvent(ko(`${t?"intro":"outro"}${e}`))}const ks=new Set;let Qr;function un(){Qr={r:0,c:[],p:Qr}}function gn(){Qr.r||cn(Qr.c),Qr=Qr.p}function Be(n,t){n&&n.i&&(ks.delete(n),n.i(t))}function Re(n,t,e,r){if(n&&n.o){if(ks.has(n))return;ks.add(n),Qr.c.push(()=>{ks.delete(n),r&&(e&&n.d(1),r())}),n.o(t)}else r&&r()}const No={duration:0};function il(n,t,e){const r={direction:"in"};let i=t(n,e,r),o=!1,A,p,u=0;function l(){A&&qs(n,A)}function g(){const{delay:m=0,duration:v=300,easing:B=ta,tick:Q=St,css:D}=i||No;D&&(A=Do(n,0,1,v,m,B,D,u++)),Q(0,1);const I=Bo()+m,T=I+v;p&&p.abort(),o=!0,_i(()=>Rs(n,!0,"start")),p=Qo(w=>{if(o){if(w>=T)return Q(1,0),Rs(n,!0,"end"),l(),o=!1;if(w>=I){const b=B((w-I)/v);Q(b,1-b)}}return o})}let h=!1;return{start(){h||(h=!0,qs(n),fr(i)?(i=i(r),Fo().then(g)):g())},invalidate(){h=!1},end(){o&&(l(),o=!1)}}}function sl(n,t,e){const r={direction:"out"};let i=t(n,e,r),o=!0,A;const p=Qr;p.r+=1;let u;function l(){const{delay:g=0,duration:h=300,easing:m=ta,tick:v=St,css:B}=i||No;B&&(A=Do(n,1,0,h,g,m,B));const Q=Bo()+g,D=Q+h;_i(()=>Rs(n,!1,"start")),"inert"in n&&(u=n.inert,n.inert=!0),Qo(I=>{if(o){if(I>=D)return v(0,1),Rs(n,!1,"end"),--p.r||cn(p.c),!1;if(I>=Q){const T=m((I-Q)/h);v(1-T,T)}}return o})}return fr(i)?Fo().then(()=>{i=i(r),l()}):l(),{end(g){g&&"inert"in n&&(n.inert=u),g&&i.tick&&i.tick(1,0),o&&(A&&qs(n,A),o=!1)}}}function ma(n,t){const e=t.token={};function r(i,o,A,p){if(t.token!==e)return;t.resolved=p;let u=t.ctx;A!==void 0&&(u=u.slice(),u[A]=p);const l=i&&(t.current=i)(u);let g=!1;t.block&&(t.blocks?t.blocks.forEach((h,m)=>{m!==o&&h&&(un(),Re(h,1,1,()=>{t.blocks[m]===h&&(t.blocks[m]=null)}),gn())}):t.block.d(1),l.c(),Be(l,1),l.m(t.mount(),t.anchor),g=!0),t.block=l,t.blocks&&(t.blocks[o]=l),g&&ia()}if(Y0(n)){const i=ra();if(n.then(o=>{gr(i),r(t.then,1,t.value,o),gr(null)},o=>{if(gr(i),r(t.catch,2,t.error,o),gr(null),!t.hasCatch)throw o}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,n),!0;t.resolved=n}}function al(n,t,e){const r=t.slice(),{resolved:i}=n;n.current===n.then&&(r[n.value]=i),n.current===n.catch&&(r[n.error]=i),n.block.p(r,e)}function Lt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Sn(n,t,e){const r=n.$$.props[t];r!==void 0&&(n.$$.bound[r]=e,e(n.$$.ctx[r]))}function It(n){n&&n.c()}function pt(n,t,e){const{fragment:r,after_update:i}=n.$$;r&&r.m(t,e),_i(()=>{const o=n.$$.on_mount.map(yo).filter(fr);n.$$.on_destroy?n.$$.on_destroy.push(...o):cn(o),n.$$.on_mount=[]}),i.forEach(_i)}function mt(n,t){const e=n.$$;e.fragment!==null&&(rl(e.after_update),cn(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function ol(n,t){n.$$.dirty[0]===-1&&(ui.push(n),tl(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function Pn(n,t,e,r,i,o,A=null,p=[-1]){const u=ps;gr(n);const l=n.$$={fragment:null,ctx:[],props:o,update:St,not_equal:i,bound:_a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:_a(),dirty:p,skip_bound:!1,root:t.target||u.$$.root};A&&A(l.root);let g=!1;if(l.ctx=e?e(n,t.props||{},(h,m,...v)=>{const B=v.length?v[0]:m;return l.ctx&&i(l.ctx[h],l.ctx[h]=B)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](B),g&&ol(n,h)),m}):[],l.update(),g=!0,cn(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const h=z0(t.target);l.fragment&&l.fragment.l(h),h.forEach(ne)}else l.fragment&&l.fragment.c();t.intro&&Be(n.$$.fragment),pt(n,t.target,t.anchor),ia()}gr(u)}class Ln{constructor(){Xe(this,"$$");Xe(this,"$$set")}$destroy(){mt(this,1),this.$destroy=St}$on(t,e){if(!fr(e))return St;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!O0(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ll="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ll);function cl(n){const t=n-1;return t*t*t+1}function Al(n,{delay:t=0,duration:e=400,easing:r=ta}={}){const i=+getComputedStyle(n).opacity;return{delay:t,duration:e,easing:r,css:o=>`opacity: ${o*i}`}}function fl(n,{delay:t=0,duration:e=400,easing:r=cl,x:i=0,y:o=0,opacity:A=0}={}){const p=getComputedStyle(n),u=+p.opacity,l=p.transform==="none"?"":p.transform,g=u*(1-A),[h,m]=pa(i),[v,B]=pa(o);return{delay:t,duration:e,easing:r,css:(Q,D)=>`
			transform: ${l} translate(${(1-Q)*h}${m}, ${(1-Q)*v}${B});
			opacity: ${u-g*D}`}}const{document:ul}=j0;function Ia(n){let t,e=(n[0]*n[3]).toFixed(n[4])+"",r,i,o,A;return{c(){t=O("div"),r=Ot(e),d(t,"class","range__tooltip svelte-tyxnph")},m(p,u){re(p,t,u),k(t,r),A=!0},p(p,u){(!A||u[0]&25)&&e!==(e=(p[0]*p[3]).toFixed(p[4])+"")&&jn(r,e)},i(p){A||(p&&_i(()=>{A&&(o&&o.end(1),i=il(t,fl,{y:7,duration:200}),i.start())}),A=!0)},o(p){i&&i.invalidate(),p&&(o=sl(t,Al,{duration:100})),A=!1},d(p){p&&ne(t),p&&o&&o.end()}}}function gl(n){let t,e,r,i,o,A,p,u,l,g,h,m=(n[10]||n[11])&&Ia(n);return{c(){t=O("div"),e=O("div"),r=O("div"),i=O("div"),o=ie(),A=O("div"),m&&m.c(),u=ie(),l=O("style"),l.textContent=`.mouse-over-shield {
      position: fixed;
      top: 0px;
      left: 0px;
      height: 100%;
      width: 100%;
      background-color: rgba(255, 0, 0, 0);
      z-index: 10000;
      cursor: grabbing;
    }`,d(i,"class","range__track--highlighted svelte-tyxnph"),d(A,"class","range__thumb svelte-tyxnph"),d(A,"role","none"),_r(A,"range__thumb--holding",n[10]),d(r,"class","range__track svelte-tyxnph"),d(e,"class","range__wrapper svelte-tyxnph"),d(e,"tabindex","0"),d(e,"role","slider"),d(e,"aria-valuemin",n[1]),d(e,"aria-valuemax",n[2]),d(e,"aria-valuenow",p=(n[0]*n[3]).toFixed(n[4])),d(e,"id",n[5]),d(t,"class","range svelte-tyxnph")},m(v,B){re(v,t,B),k(t,e),k(e,r),k(r,i),n[20](i),k(r,o),k(r,A),m&&m.m(A,null),n[21](A),n[24](r),n[25](e),re(v,u,B),k(ul.head,l),g||(h=[fe(window,"touchmove",n[17],{passive:!1}),fe(window,"touchcancel",n[15]),fe(window,"touchend",n[15]),fe(window,"mousemove",n[17]),fe(window,"mouseup",n[15]),fe(window,"resize",n[12]),fe(A,"touchstart",n[14]),fe(A,"mousedown",n[14]),fe(A,"mouseover",n[22]),fe(A,"mouseout",n[23]),fe(A,"focus",_l),fe(A,"blur",hl),fe(e,"keydown",n[16]),fe(e,"mousedown",n[13]),fe(e,"touchstart",n[13])],g=!0)},p(v,B){v[10]||v[11]?m?(m.p(v,B),B[0]&3072&&Be(m,1)):(m=Ia(v),m.c(),Be(m,1),m.m(A,null)):m&&(un(),Re(m,1,1,()=>{m=null}),gn()),B[0]&1024&&_r(A,"range__thumb--holding",v[10]),B[0]&2&&d(e,"aria-valuemin",v[1]),B[0]&4&&d(e,"aria-valuemax",v[2]),B[0]&25&&p!==(p=(v[0]*v[3]).toFixed(v[4]))&&d(e,"aria-valuenow",p),B[0]&32&&d(e,"id",v[5])},i(v){Be(m)},o(v){Re(m)},d(v){v&&(ne(t),ne(u)),n[20](null),m&&m.d(),n[21](null),n[24](null),n[25](null),ne(l),g=!1,cn(h)}}}function dl(n,t){let e=t.getBoundingClientRect(),{clientX:r,clientY:i}=n;return!(r<e.left||r>=e.right||i<e.top||i>=e.bottom)}const _l=()=>{},hl=()=>{};function pl(n,t,e){let{min:r=0}=t,{max:i=100}=t,{stepSize:o=1}=t,{decimalPlaces:A=0}=t,{initialValue:p=0}=t,{id:u=null}=t,{value:l=typeof p=="string"?parseFloat(p)/o:p/o}=t,g=null,h=null,m=null,v=null,B=null,Q=null,D=!1,I=!1,T=0,w=null;const b=Is(),x=document.createElement("div");x.setAttribute("class","mouse-over-shield"),x.addEventListener("mouseover",ee=>{ee.preventDefault(),ee.stopPropagation()});function L(){B=v.getBoundingClientRect().left}function Y(ee){e(0,l=ee);let be=(l*o).toFixed(A);b("change",{value:be})}function q(ee){Ee(ee),K(ee)}function K(ee){ee.type==="mousedown"&&document.body.append(x),e(19,Q=h)}function ae(ee){ee.type==="mouseup"&&(document.body.contains(x)&&document.body.removeChild(x),dl(ee,h)&&e(11,I=!0)),e(19,Q=null)}function me(ee){T<50&&T++;let be=Math.ceil(T/5);(ee.key==="ArrowUp"||ee.key==="ArrowRight")&&(l+be>i||l>=i?Y(i):Y(l+be)),(ee.key==="ArrowDown"||ee.key==="ArrowLeft")&&(l-be<r||l<=r?Y(r):Y(l-be)),clearTimeout(w),w=setTimeout(()=>T=1,100)}function de(ee){let Te=(ee-(B+10))*100/(g.clientWidth-10);Te=Te<0?0:Te>100?100:Te,Y(parseInt(Te*(i-r)/100)+r)}function Ee(ee){if(!Q&&ee.type!=="touchstart"&&ee.type!=="mousedown")return!1;ee.stopPropagation&&ee.stopPropagation(),ee.preventDefault&&ee.preventDefault();const be=ee.type==="touchmove"||ee.type==="touchstart"?ee.touches[0].clientX:ee.clientX;de(be)}function pe(ee){Dt[ee?"unshift":"push"](()=>{m=ee,e(8,m),e(7,h),e(0,l),e(1,r),e(2,i),e(6,g),e(18,p),e(3,o)})}function X(ee){Dt[ee?"unshift":"push"](()=>{h=ee,e(7,h),e(8,m),e(0,l),e(1,r),e(2,i),e(6,g),e(18,p),e(3,o)})}const Me=()=>e(11,I=!0),Ve=()=>e(11,I=!1);function we(ee){Dt[ee?"unshift":"push"](()=>{g=ee,e(6,g)})}function Ke(ee){Dt[ee?"unshift":"push"](()=>{v=ee,e(9,v)})}return n.$$set=ee=>{"min"in ee&&e(1,r=ee.min),"max"in ee&&e(2,i=ee.max),"stepSize"in ee&&e(3,o=ee.stepSize),"decimalPlaces"in ee&&e(4,A=ee.decimalPlaces),"initialValue"in ee&&e(18,p=ee.initialValue),"id"in ee&&e(5,u=ee.id),"value"in ee&&e(0,l=ee.value)},n.$$.update=()=>{if(n.$$.dirty[0]&262152&&e(0,l=typeof p=="string"?parseFloat(p)/o:p/o),n.$$.dirty[0]&512&&v&&(B=v.getBoundingClientRect().left),n.$$.dirty[0]&524288&&e(10,D=!!Q),n.$$.dirty[0]&455&&m&&h){e(0,l=l>r?l:r),e(0,l=l<i?l:i);let ee=(l-r)*100/(i-r),be=(g.clientWidth-10)*(ee/100)+5;e(7,h.style.left=`${be}px`,h),e(8,m.style.width=`${be}px`,m)}},[l,r,i,o,A,u,g,h,m,v,D,I,L,q,K,ae,me,Ee,p,Q,pe,X,Me,Ve,we,Ke]}class dr extends Ln{constructor(t){super(),Pn(this,t,pl,gl,kn,{min:1,max:2,stepSize:3,decimalPlaces:4,initialValue:18,id:5,value:0},null,[-1,-1])}}var Ds=function(){var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(t){t=t||{};var e;e||(e=typeof t<"u"?t:{});var r;e.ready=new Promise(function(U){r=U});var i={},o;for(o in e)e.hasOwnProperty(o)&&(i[o]=e[o]);var A=!1,p=!1,u=!1,l=!1;A=typeof window=="object",p=typeof importScripts=="function",u=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",l=!A&&!u&&!p;var g="",h,m,v,B;u?(g=p?require("path").dirname(g)+"/":__dirname+"/",h=function(U,V){var oe=j(U);return oe?V?oe:oe.toString():(v||(v=require("fs")),B||(B=require("path")),U=B.normalize(U),v.readFileSync(U,V?null:"utf8"))},m=function(U){return U=h(U,!0),U.buffer||(U=new Uint8Array(U)),x(U.buffer),U},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(U){throw U}),process.on("unhandledRejection",be),e.inspect=function(){return"[Emscripten Module object]"}):l?(typeof read<"u"&&(h=function(U){var V=j(U);return V?lt(V):read(U)}),m=function(U){var V;return(V=j(U))?V:typeof readbuffer=="function"?new Uint8Array(readbuffer(U)):(V=read(U,"binary"),x(typeof V=="object"),V)},typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(A||p)&&(p?g=self.location.href:document.currentScript&&(g=document.currentScript.src),n&&(g=n),g.indexOf("blob:")!==0?g=g.substr(0,g.lastIndexOf("/")+1):g="",h=function(U){try{var V=new XMLHttpRequest;return V.open("GET",U,!1),V.send(null),V.responseText}catch(oe){if(U=j(U))return lt(U);throw oe}},p&&(m=function(U){try{var V=new XMLHttpRequest;return V.open("GET",U,!1),V.responseType="arraybuffer",V.send(null),new Uint8Array(V.response)}catch(oe){if(U=j(U))return U;throw oe}}));var Q=e.print||console.log.bind(console),D=e.printErr||console.warn.bind(console);for(o in i)i.hasOwnProperty(o)&&(e[o]=i[o]);i=null;var I;e.wasmBinary&&(I=e.wasmBinary),e.noExitRuntime&&e.noExitRuntime,typeof WebAssembly!="object"&&be("no native wasm support detected");var T,w=new WebAssembly.Table({initial:1,maximum:1,element:"anyfunc"}),b=!1;function x(U,V){U||be("Assertion failed: "+V)}var L=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Y,q,K,ae;function me(U){Y=U,e.HEAP8=q=new Int8Array(U),e.HEAP16=new Int16Array(U),e.HEAP32=ae=new Int32Array(U),e.HEAPU8=K=new Uint8Array(U),e.HEAPU16=new Uint16Array(U),e.HEAPU32=new Uint32Array(U),e.HEAPF32=new Float32Array(U),e.HEAPF64=new Float64Array(U)}var de=e.INITIAL_MEMORY||16777216;e.wasmMemory?T=e.wasmMemory:T=new WebAssembly.Memory({initial:de/65536,maximum:32768}),T&&(Y=T.buffer),de=Y.byteLength,me(Y),ae[496]=5245024;function Ee(U){for(;0<U.length;){var V=U.shift();if(typeof V=="function")V(e);else{var oe=V.v;typeof oe=="number"?V.u===void 0?e.dynCall_v(oe):e.dynCall_vi(oe,V.u):oe(V.u===void 0?null:V.u)}}}var pe=[],X=[],Me=[],Ve=[];function we(){var U=e.preRun.shift();pe.unshift(U)}var Ke=0,ee=null;e.preloadedImages={},e.preloadedAudios={};function be(U){throw e.onAbort&&e.onAbort(U),Q(U),D(U),b=!0,new WebAssembly.RuntimeError("abort("+U+"). Build with -s ASSERTIONS=1 for more info.")}function Te(U,V){return String.prototype.startsWith?U.startsWith(V):U.indexOf(V)===0}var We="data:application/octet-stream;base64,",Ue="data:application/octet-stream;base64,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DAELIAEoAgQiBiABKAIAIgQ2AgggCUF/aiEIIAQoAgghAkEAIQcgBCEDA0AgAiIAKAIIIQIgACADNgIIIAAhAyAHQQFqIgcgCEcNAAsgASAENgIEIAEgBjYCACAEQQA2AggLQQEhCCAGRQ0AIAUoAgAiAEUNASABKAIEIAA2AgggBSAGNgIAIAUgBSgCECAJajYCEAwCCyAIDwsgBSAGNgIADAELIAUoAgRBADYCCEEBDwsgBSABKAIENgIEQQELmQYBA38jAEGwAWsiAiQAIABCADcCACAAQQA2AgggASgCDCIBBEADQCACQTBqIAEoAgAQCCACIAJBMGpB9ggQBSIDIgQoAgg2AkggAiADKQIANwNAIANCADcCACAEQQA2AgggAkEgaiABKAIEEAggAiACQUBrIAIoAiAgAkEgaiACLQArIgNBGHRBGHVBAEgiBBsgAigCJCADIAQbEAYiAyIEKAIINgJYIAIgAykCADcDUCADQgA3AgAgBEEANgIIIAIgAkHQAGpB9ggQBSIDIgQoAgg2AmggAiADKQIANwNgIANCADcCACAEQQA2AgggAkEQaiABKAIIEAggAiACQeAAaiACKAIQIAJBEGogAi0AGyIDQRh0QRh1QQBIIgQbIAIoAhQgAyAEGxAGIgMiBCgCCDYCeCACIAMpAgA3A3AgA0IANwIAIARBADYCCCACIAJB8ABqQfYIEAUiAyIEKAIINgKIASACIAMpAgA3A4ABIANCADcCACAEQQA2AgggAiABKAIMEAggAiACQYABaiACKAIAIAIgAi0ACyIDQRh0QRh1QQBIIgQbIAIoAgQgAyAEGxAGIgMiBCgCCDYCmAEgAiADKQIANwOQASADQgA3AgAgBEEANgIIIAIgAkGQAWpB+ggQBSIDIgQoAgg2AqgBIAIgAykCADcDoAEgA0IANwIAIARBADYCCCAAIAIoAqABIAJBoAFqIAItAKsBIgNBGHRBGHVBAEgiBBsgAigCpAEgAyAEGxAGGiACLACrAUF/TARAIAIoAqABEAMLIAIsAJsBQX9MBEAgAigCkAEQAwsgAiwAC0F/TARAIAIoAgAQAwsgAiwAiwFBf0wEQCACKAKAARADCyACLAB7QX9MBEAgAigCcBADCyACLAAbQX9MBEAgAigCEBADCyACLABrQX9MBEAgAigCYBADCyACLABbQX9MBEAgAigCUBADCyACLAArQX9MBEAgAigCIBADCyACLABLQX9MBEAgAigCQBADCyACLAA7QX9MBEAgAigCMBADCyABKAIQIgENAAsLIAJBsAFqJAALmQMBBH8jAEHQAGsiAiQAIABBADoAACAAQQA6AAsgAQRAA0AgASgCACIFBEADQCACQRBqIAUoAgAQCCACIAJBEGpB9ggQBSIDIgQoAgg2AiggAiADKQIANwMgIANCADcCACAEQQA2AgggAiAFKAIEEAggAiACQSBqIAIoAgAgAiACLQALIgNBGHRBGHVBAEgiBBsgAigCBCADIAQbEAYiAyIEKAIINgI4IAIgAykCADcDMCADQgA3AgAgBEEANgIIIAIgAkEwakH4CBAFIgMiBCgCCDYCSCACIAMpAgA3A0AgA0IANwIAIARBADYCCCAAIAIoAkAgAkFAayACLQBLIgNBGHRBGHVBAEgiBBsgAigCRCADIAQbEAYaIAIsAEtBf0wEQCACKAJAEAMLIAIsADtBf0wEQCACKAIwEAMLIAIsAAtBf0wEQCACKAIAEAMLIAIsACtBf0wEQCACKAIgEAMLIAIsABtBf0wEQCACKAIQEAMLIAUoAggiBQ0ACwsgAEH6CBAFGiABKAIMIgENAAsLIAJB0ABqJAALxwQBAn8jAEHQAGsiBCQAIAAgAzYCCCAAIAI2AgQgACgCACICBEAgAhADCyAAKAIMIgIEQANAIAIoAhAhAyACEAMgAyICDQALCyAAQgA3AgwgACABNgIAA0ACQCAAQQAQDiEBIABBARAOIQIgAUUNACACDQELCyAEQRBqIABBAEEAIAAoAgQgACgCCEEAEAsiAxAaIAQgBEEQakHiCBAPECQiASICKAIINgIoIAQgASkCADcDICABQgA3AgAgAkEANgIIIAQgBEEgakHuCBAFIgEiAigCCDYCOCAEIAEpAgA3AzAgAUIANwIAIAJBADYCCCAEIAAQGSAEIARBMGogBCgCACAEIAQtAAsiAEEYdEEYdUEASCIBGyAEKAIEIAAgARsQBiIAIgEoAgg2AkggBCAAKQIANwNAIABCADcCACABQQA2AgggBCwAC0F/TARAIAQoAgAQAwsgBCwAO0F/TARAIAQoAjAQAwsgBCwAK0F/TARAIAQoAiAQAwsgBCwAG0F/TARAIAQoAhAQAwsgAwRAA0AgAygCDCEBIAMoAgAiAARAA0AgACgCCCECIAAQAyACIgANAAsLIAMQAyABIgMNAAsLAn8gBC0ASyIBQRh0QRh1IgJBf0wEQCAEKAJEIgNBAWoQBCEAIAQoAkAMAQsgAUEBahAEIQAgASEDIARBQGsLIQUgAwRAIAAgBSADEAwLAkAgAkEATgRAIAAgAWpBADoAAAwBCyAAIAQoAkRqQQA6AAAgBCgCQBADCyAEQdAAaiQAIAAL1QIBAX8CQCAAIAFGDQAgASAAayACa0EAIAJBAXRrTQRAIAAgASACEAwPCyAAIAFzQQNxIQMCQAJAIAAgAUkEQCADDQIgAEEDcUUNAQNAIAJFDQQgACABLQAAOgAAIAFBAWohASACQX9qIQIgAEEBaiIAQQNxDQALDAELAkAgAw0AIAAgAmpBA3EEQANAIAJFDQUgACACQX9qIgJqIgMgASACai0AADoAACADQQNxDQALCyACQQNNDQADQCAAIAJBfGoiAmogASACaigCADYCACACQQNLDQALCyACRQ0CA0AgACACQX9qIgJqIAEgAmotAAA6AAAgAg0ACwwCCyACQQNNDQADQCAAIAEoAgA2AgAgAUEEaiEBIABBBGohACACQXxqIgJBA0sNAAsLIAJFDQADQCAAIAEtAAA6AAAgAEEBaiEAIAFBAWohASACQX9qIgINAAsLCwwAIAAgASACIAMQGwspAQF/QSAgAEEBcmdrQdEJbEEMdiIBIAFBAnRBoAtqKAIAIABLa0EBags9AQF/IAACfwJAIAIgAWsiBEEJTARAIAMQHiAESg0BCyAAIAMgARAmNgIAQQAMAQsgACACNgIAQT0LNgIEC7oBAQR/IwBBEGsiBSQAIAIgAWsiBEFvTQRAAkAgBEEKTQRAIAAgBDoACyAAIQMMAQsgACAAIARBC08EfyAEQRBqQXBxIgMgA0F/aiIDIANBC0YbBUEKC0EBaiIGEBIiAzYCACAAIAZBgICAgHhyNgIIIAAgBDYCBAsDQCABIAJHBEAgAyABLQAAOgAAIANBAWohAyABQQFqIQEMAQsLIAVBADoADyADIAUtAA86AAAgBUEQaiQADwsQDQALMgACQCABIAJGDQAgA0F/Sg0AIAFBLToAACABQQFqIQFBACADayEDCyAAIAEgAiADEB8LSQECfyMAQSBrIgIkACACQQhqIAJBFWogAkEgaiABECEgAigCCCEBIwBBEGsiAyQAIAAgAkEVaiABECAgA0EQaiQAIAJBIGokAAsYAQF/QRQQFyIAQgA3AgwgAEEANgIAIAALkgIBBH8jAEEQayIFJAACfyAAIgIsAAtBAEgEQCACKAIEDAELIAItAAsLIgNBAE8EQAJAIAIsAAtBAEgEfyAAKAIIQf////8HcUF/agVBCgsiAiADayABTwRAIAFFDQECfyAAIgIsAAtBAEgEQCACKAIADAELIAILIgQgAwR/IAEgBGogBCADEBEgAUHiCGpB4gggAyAEakHiCEsbQeIIIARB4ghNGwVB4ggLIAEQESABIANqIgMhAQJAIAIsAAtBAEgEQCAAIAE2AgQMAQsgACABOgALCyAFQQA6AA8gAyAEaiAFLQAPOgAADAELIAAgAiABIANqIAJrIANBACABQeIIEBALIAVBEGokACAADwsQDQALLAAgAUGPzgBNBEAgACABEBQPCyAAIAFBkM4AbiIAEBQgASAAQZDOAGxrEAoLRAAgAEH/wdcvTQRAIAEgABAlDwsgASAAQYDC1y9uIgEQFiAAIAFBgMLXL2xrIgBBkM4AbiIBEAogACABQZDOAGxrEAoL5AgCF38BfgJAIAMgBGoiCEEBdCIHQQVIDQAgA0EBdCIFIAEgBGpqQX1qIRYgAiAEaiIVIAQgBWpqQXxqIRcgB0F8aiEYIAhBf2ohGSAEQQJtIAJqIRogA0ECbSABaiEbIAEgA2oiDEF/aiEOIAIgA2tBAWohDSAVQX9qIRMgAyAIakF+aiEPIAAoAgQhECAAKAIAIRFBACEHQQAhBUF/IQlBfyEIA0AgCCELIAkhCgJ/IAUgA0gEQCABIAVqIQkgAgwBCyAFIBlIBEAgDiEJIAUgDWoMAQsgBSAPSARAIBQgFmohCSATDAELIAEhCSAUIBdqCyEIAn8gESAIIBBsIAlqai0AAARAQQEgBg0BGkEUEAQiCkIANwIIQQwQBCIGQQA2AgggBiAINgIEIAYgCTYCACAKQQE2AhAgCiAGNgIEIAogBjYCAEEMEAQiC0EANgIIIAsgGjYCBCALIBs2AgACQCAGRQRAIAogCzYCAAwBCyAGIAs2AggLIApBAjYCECAKIAs2AgQgBwRAIAogBzYCDCAHIAo2AggLIBJBAWohEiAKIQdBAQwBCyAGBEAgBygCACIGIAYoAgAgCmpBAm02AgAgBiAGKAIEIAtqQQJtNgIEC0EACyEGIAVBf3MhFCAFQQFqIgUgGEcNAAsgEkECRgRAQRQQBCIGQgA3AgAgBkIANwIIIAcoAgApAgAhHEEMEAQiAUEANgIIIAEgHDcCACAGQQE2AhAgBiABNgIEIAYgATYCACAHKAIMKAIAKQIAIRxBDBAEIgBBADYCCCAAIBw3AgACQCABRQRAIAYgADYCAAwBCyABIAA2AggLIAZBAjYCECAGIAA2AgQDQCAHKAIMIQEgBygCACIFBEADQCAFKAIIIQAgBRADIAAiBQ0ACwsgBxADIAEiBw0ACwwBCwJAIBJBA0gNACACQQFqIgUgFUF/aiITTg0AIARBAm0hCCADQQJtIQQgAUEBaiIDIAxBf2oiC04NACACIAhqIQ8gASAEaiEQIAAoAgQhDSAAKAIAIQxBACEEQX8hCEF/IQkDQCAFIgAgD2siBSAFQR91IgVqIAVzIQogAiANbCERIAAgDWwiBiANaiEOIAMhAiABIQUDQAJAIAwgBSAOamotAAAgDCAFIAZqai0AACAMIAUgEWpqLQAAIAwgESACIgVqai0AAEEBdGpqIAwgBSAGamoiAi0AAGogAi0AAWpqIAwgBSAOamoiAi0AAGogAi0AAWoiAiAESgRAIAIhBCAAIQkgBSEIDAELIAIgBEcNACAFIAggBSAQayICIAJBH3UiAmogAnMgCmogCCAQayICIAJBH3UiAmogAnMgCSAPayICIAJBH3UiAmogAnNqSCICGyEIIAAgCSACGyEJCyAFQQFqIgIgC0cNAAsgACICQQFqIgUgE0cNAAsgCUF/Rg0AIAdFDQAgByEFA0AgBSgCBCIAIAk2AgQgACAINgIAIAUoAgwiBQ0ACwsgByEGCyAGC44NAQt/IAAEQCABRQRAIAAPCyADQQFHIQ4gASELA0AgASIJKAIAIQUgCSgCDCEBAkACQCAORQRAQQAhBgJAIAUoAgAgAmsiAyADQR91IgNqIANzQQBKDQBBBCEIIAAhAwNAIAMoAgQiBCgCACACayIKIApBH3UiCmogCnNBAUwEQCAEKAIEIAUoAgRrIgQgBEEfdSIEaiAEcyIEIAggBCAISCIEGyEIIAMgBiAEGyEGCyADKAIMIgMNAAsgBkUNACAGKAIARQRAIAYgBTYCACAGIAkoAgQ2AgQMAwsgBigCBCAFNgIIIAYgCSgCBCIDNgIEIAYgBigCECAJKAIQajYCECADQQA2AggMAgsgACAJIAJBABAYDQFBACEHIAkoAgQiBigCACACayIDIANBH3UiA2ogA3MiBUEASg0CQQQhCCAAIQMDQCADKAIEIgQoAgAgAmsiCiAKQR91IgpqIApzQQFMBEAgBCgCBCAGKAIEayIEIARBH3UiBGogBHMiBCAIIAQgCEgiBBshCCADIAcgBBshBwsgAygCDCIDDQALIAcEQCAJKAIAIQUCQCAJKAIQIgxBAkgEQCAGIQMgBSEGDAELIAYgBTYCCCAMQX9qIQ0gBSgCCCEEQQAhCCAFIQMDQCAEIgooAgghBCAKIAM2AgggCiEDIAhBAWoiCCANRw0ACyAJIAU2AgQgCSAGNgIAIAVBADYCCCAFIQMLIAcoAgBFBEAgByADNgIEIAcgBjYCAAwDCyAHKAIEIAY2AgggByADNgIEIAcgBygCECAMajYCECADQQA2AggMAgtBACEHIAVBAEoNAkEEIQggACEDA0AgAygCACIFKAIAIAJrIgQgBEEfdSIEaiAEc0EBTARAIAUoAgQgBigCBGsiBSAFQR91IgVqIAVzIgUgCCAFIAhIIgUbIQggAyAHIAUbIQcLIAMoAgwiAw0ACyAHRQ0CIAkoAgAiA0UNASAHKAIAIgVFBEAgByAGNgIEIAcgAzYCAAwCCyAGIAU2AgggByADNgIAIAcgBygCECAJKAIQajYCECAHKAIEQQA2AggMAQtBACEGAkAgBSgCBCACayIDIANBH3UiA2ogA3NBAEoNAEEEIQggACEDA0AgAygCBCIEKAIEIAJrIgogCkEfdSIKaiAKc0EBTARAIAQoAgAgBSgCAGsiBCAEQR91IgRqIARzIgQgCCAEIAhIIgQbIQggAyAGIAQbIQYLIAMoAgwiAw0ACyAGRQ0AIAYoAgBFBEAgBiAFNgIAIAYgCSgCBDYCBAwCCyAGKAIEIAU2AgggBiAJKAIEIgM2AgQgBiAGKAIQIAkoAhBqNgIQIANBADYCCAwBCyAAIAkgAkEBEBgNAEEAIQcgCSgCBCIGKAIEIAJrIgMgA0EfdSIDaiADcyIFQQBKDQFBBCEIIAAhAwNAIAMoAgQiBCgCBCACayIKIApBH3UiCmogCnNBAUwEQCAEKAIAIAYoAgBrIgQgBEEfdSIEaiAEcyIEIAggBCAISCIEGyEIIAMgByAEGyEHCyADKAIMIgMNAAsgBwRAIAkoAgAhBQJAIAkoAhAiDEECSARAIAYhAyAFIQYMAQsgBiAFNgIIIAxBf2ohDSAFKAIIIQRBACEIIAUhAwNAIAQiCigCCCEEIAogAzYCCCAKIQMgCEEBaiIIIA1HDQALIAkgBTYCBCAJIAY2AgAgBUEANgIIIAUhAwsgBygCAEUEQCAHIAM2AgQgByAGNgIADAILIAcoAgQgBjYCCCAHIAM2AgQgByAHKAIQIAxqNgIQIANBADYCCAwBC0EAIQcgBUEASg0BQQQhCCAAIQMDQCADKAIAIgUoAgQgAmsiBCAEQR91IgRqIARzQQFMBEAgBSgCACAGKAIAayIFIAVBH3UiBWogBXMiBSAIIAUgCEgiBRshCCADIAcgBRshBwsgAygCDCIDDQALIAdFDQEgCSgCACIDRQ0AIAcoAgAiBUUEQCAHIAY2AgQgByADNgIADAELIAYgBTYCCCAHIAM2AgAgByAHKAIQIAkoAhBqNgIQIAcoAgRBADYCCAsgCSgCDCEDAkAgCSgCCCIGRQRAIANFBEBBACELDAILIANBADYCCCADIQsMAQsgBiADNgIMIAkoAgwiA0UNACADIAY2AggLIAkQAwsgAQ0ACyALRQRAIAAPCwNAIAsiAUEANgIIIAEoAgwhCyABIAA2AgwgACABNgIIIAEhACALDQALCyABCzcBAn8gACgCACIBBEAgARADCyAAKAIMIgIEQANAIAIoAhAhASACEAMgASICDQALCyAAQgA3AgwLBQBBgAgLAwABCwvKAwIAQYAIC5gDKHNpemVfdCBpZHgsIHNpemVfdCBzaXplKTw6Oj57IHRocm93ICdBcnJheSBpbmRleCAnICsgaWR4ICsgJyBvdXQgb2YgYm91bmRzOiBbMCwnICsgc2l6ZSArICcpJzsgfQBQT0xZTElORVM6CgBSRUNUUzoKACwAIAAKAAAAAAAwMDAxMDIwMzA0MDUwNjA3MDgwOTEwMTExMjEzMTQxNTE2MTcxODE5MjAyMTIyMjMyNDI1MjYyNzI4MjkzMDMxMzIzMzM0MzUzNjM3MzgzOTQwNDE0MjQzNDQ0NTQ2NDc0ODQ5NTA1MTUyNTM1NDU1NTY1NzU4NTk2MDYxNjI2MzY0NjU2NjY3Njg2OTcwNzE3MjczNzQ3NTc2Nzc3ODc5ODA4MTgyODM4NDg1ODY4Nzg4ODk5MDkxOTI5Mzk0OTU5Njk3OTg5OWJhc2ljX3N0cmluZwBhbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXplAEGkCwskCgAAAGQAAADoAwAAECcAAKCGAQBAQg8AgJaYAADh9QUAypo7";if(!Te(Ue,We)){var ft=Ue;Ue=e.locateFile?e.locateFile(ft,g):g+ft}function tt(){try{if(I)return new Uint8Array(I);var U=j(Ue);if(U)return U;if(m)return m(Ue);throw"both async and sync fetching of the wasm failed"}catch(V){be(V)}}function Xt(){return I||!A&&!p||typeof fetch!="function"||Te(Ue,"file://")?new Promise(function(U){U(tt())}):fetch(Ue,{credentials:"same-origin"}).then(function(U){if(!U.ok)throw"failed to load wasm binary file at '"+Ue+"'";return U.arrayBuffer()}).catch(function(){return tt()})}X.push({v:function(){Nt()}});function lt(U){for(var V=[],oe=0;oe<U.length;oe++){var $=U[oe];255<$&&($&=255),V.push(String.fromCharCode($))}return V.join("")}var Ie=typeof atob=="function"?atob:function(U){var V="",oe=0;U=U.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(U.charAt(oe++)),Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(U.charAt(oe++)),le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(U.charAt(oe++)),Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(U.charAt(oe++));$=$<<2|Z>>4,Z=(Z&15)<<4|le>>2;var Qe=(le&3)<<6|Ae;V+=String.fromCharCode($),le!==64&&(V+=String.fromCharCode(Z)),Ae!==64&&(V+=String.fromCharCode(Qe))}while(oe<U.length);return V};function j(U){if(Te(U,We)){if(U=U.slice(We.length),typeof u=="boolean"&&u){try{var V=Buffer.from(U,"base64")}catch{V=new Buffer(U,"base64")}var oe=new Uint8Array(V.buffer,V.byteOffset,V.byteLength)}else try{var $=Ie(U),Z=new Uint8Array($.length);for(V=0;V<$.length;++V)Z[V]=$.charCodeAt(V);oe=Z}catch{throw Error("Converting base64 string to bytes failed.")}return oe}}var ct={a:function(){be()},b:function(U,V,oe){K.copyWithin(U,V,V+oe)},c:function(U){U>>>=0;var V=K.length;if(2147483648<U)return!1;for(var oe=1;4>=oe;oe*=2){var $=V*(1+.2/oe);$=Math.min($,U+100663296),$=Math.max(16777216,U,$),0<$%65536&&($+=65536-$%65536);e:{try{T.grow(Math.min(2147483648,$)-Y.byteLength+65535>>>16),me(T.buffer);var Z=1;break e}catch{}Z=void 0}if(Z)return!0}return!1},memory:T,table:w};(function(){function U(Z){e.asm=Z.exports,Ke--,e.monitorRunDependencies&&e.monitorRunDependencies(Ke),Ke==0&&ee&&(Z=ee,ee=null,Z())}function V(Z){U(Z.instance)}function oe(Z){return Xt().then(function(le){return WebAssembly.instantiate(le,$)}).then(Z,function(le){D("failed to asynchronously prepare wasm: "+le),be(le)})}var $={a:ct};if(Ke++,e.monitorRunDependencies&&e.monitorRunDependencies(Ke),e.instantiateWasm)try{return e.instantiateWasm($,U)}catch(Z){return D("Module.instantiateWasm callback failed with error: "+Z),!1}return function(){if(I||typeof WebAssembly.instantiateStreaming!="function"||Te(Ue,We)||Te(Ue,"file://")||typeof fetch!="function")return oe(V);fetch(Ue,{credentials:"same-origin"}).then(function(Z){return WebAssembly.instantiateStreaming(Z,$).then(V,function(le){return D("wasm streaming compile failed: "+le),D("falling back to ArrayBuffer instantiation"),oe(V)})})}(),{}})();var Nt=e.___wasm_call_ctors=function(){return(Nt=e.___wasm_call_ctors=e.asm.d).apply(null,arguments)};e.___em_js__array_bounds_check_error=function(){return(e.___em_js__array_bounds_check_error=e.asm.e).apply(null,arguments)};var Rt=e._emscripten_bind_VoidPtr___destroy___0=function(){return(Rt=e._emscripten_bind_VoidPtr___destroy___0=e.asm.f).apply(null,arguments)},Se=e._emscripten_bind_skeleton_tracer_t_skeleton_tracer_t_0=function(){return(Se=e._emscripten_bind_skeleton_tracer_t_skeleton_tracer_t_0=e.asm.g).apply(null,arguments)},Fe=e._emscripten_bind_skeleton_tracer_t_trace_3=function(){return(Fe=e._emscripten_bind_skeleton_tracer_t_trace_3=e.asm.h).apply(null,arguments)};e._free=function(){return(e._free=e.asm.i).apply(null,arguments)},e._malloc=function(){return(e._malloc=e.asm.j).apply(null,arguments)};var kt=e._emscripten_bind_skeleton_tracer_t_destroy_0=function(){return(kt=e._emscripten_bind_skeleton_tracer_t_destroy_0=e.asm.k).apply(null,arguments)},Ye=e._emscripten_bind_skeleton_tracer_t___destroy___0=function(){return(Ye=e._emscripten_bind_skeleton_tracer_t___destroy___0=e.asm.l).apply(null,arguments)},yt;ee=function U(){yt||st(),yt||(ee=U)};function st(){function U(){if(!yt&&(yt=!0,e.calledRun=!0,!b)){if(Ee(X),Ee(Me),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;){var V=e.postRun.shift();Ve.unshift(V)}Ee(Ve)}}if(!(0<Ke)){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)we();Ee(pe),0<Ke||(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),U()},1)):U())}}if(e.run=st,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();st();function At(){}At.prototype=Object.create(At.prototype),At.prototype.constructor=At,At.prototype.o=At,At.s={},e.WrapperObject=At;function ut(U){return(U||At).s}e.getCache=ut;function Je(U,V){var oe=ut(V),$=oe[U];return $||($=Object.create((V||At).prototype),$.m=U,oe[U]=$)}e.wrapPointer=Je,e.castObject=function(U,V){return Je(U.m,V)},e.NULL=Je(0),e.destroy=function(U){if(!U.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";U.__destroy__(),delete ut(U.o)[U.m]},e.compare=function(U,V){return U.m===V.m},e.getPointer=function(U){return U.m},e.getClass=function(U){return U.o};var Pe=0,Ze=0,N=0,te=[],he=0;function se(){throw"cannot construct a VoidPtr, no constructor in IDL"}se.prototype=Object.create(At.prototype),se.prototype.constructor=se,se.prototype.o=se,se.s={},e.VoidPtr=se,se.prototype.__destroy__=function(){Rt(this.m)};function ke(){this.m=Se(),ut(ke)[this.m]=this}return ke.prototype=Object.create(At.prototype),ke.prototype.constructor=ke,ke.prototype.o=ke,ke.s={},e.skeleton_tracer_t=ke,ke.prototype.trace=function(U,V,oe){var $=this.m;if(he){for(var Z=0;Z<te.length;Z++)e._free(te[Z]);te.length=0,e._free(Pe),Pe=0,Ze+=he,he=0}if(Pe||(Ze+=128,Pe=e._malloc(Ze),x(Pe)),N=0,U&&typeof U=="object")U=U.m;else if(Z=U,typeof Z=="string"){for(var le=U=0;le<Z.length;++le){var Ae=Z.charCodeAt(le);55296<=Ae&&57343>=Ae&&(Ae=65536+((Ae&1023)<<10)|Z.charCodeAt(++le)&1023),127>=Ae?++U:U=2047>=Ae?U+2:65535>=Ae?U+3:U+4}if(U=Array(U+1),Ae=U.length,le=0,0<Ae){Ae=le+Ae-1;for(var Qe=0;Qe<Z.length;++Qe){var gt=Z.charCodeAt(Qe);if(55296<=gt&&57343>=gt){var Wt=Z.charCodeAt(++Qe);gt=65536+((gt&1023)<<10)|Wt&1023}if(127>=gt){if(le>=Ae)break;U[le++]=gt}else{if(2047>=gt){if(le+1>=Ae)break;U[le++]=192|gt>>6}else{if(65535>=gt){if(le+2>=Ae)break;U[le++]=224|gt>>12}else{if(le+3>=Ae)break;U[le++]=240|gt>>18,U[le++]=128|gt>>12&63}U[le++]=128|gt>>6&63}U[le++]=128|gt&63}}U[le]=0}switch(Z=q,x(Pe),Z=U.length*Z.BYTES_PER_ELEMENT,Z=Z+7&-8,N+Z>=Ze?(x(0<Z),he+=Z,le=e._malloc(Z),te.push(le)):(le=Pe+N,N+=Z),Z=le,Ae=q,le=Z>>>0,Ae.BYTES_PER_ELEMENT){case 2:le>>>=1;break;case 4:le>>>=2;break;case 8:le>>>=3}for(Qe=0;Qe<U.length;Qe++)Ae[le+Qe]=U[Qe];U=Z}else U=Z;if(V&&typeof V=="object"&&(V=V.m),oe&&typeof oe=="object"&&(oe=oe.m),V=Fe($,U,V,oe)){for(oe=K,U=V+NaN,$=V;oe[$]&&!($>=U);)++$;if(16<$-V&&oe.subarray&&L)V=L.decode(oe.subarray(V,$));else{for(U="";V<$;)Z=oe[V++],Z&128?(le=oe[V++]&63,(Z&224)==192?U+=String.fromCharCode((Z&31)<<6|le):(Ae=oe[V++]&63,Z=(Z&240)==224?(Z&15)<<12|le<<6|Ae:(Z&7)<<18|le<<12|Ae<<6|oe[V++]&63,65536>Z?U+=String.fromCharCode(Z):(Z-=65536,U+=String.fromCharCode(55296|Z>>10,56320|Z&1023)))):U+=String.fromCharCode(Z);V=U}}else V="";return V},ke.prototype.destroy=function(){kt(this.m)},ke.prototype.__destroy__=function(){Ye(this.m)},t.ready}}();typeof exports=="object"&&typeof module=="object"?module.exports=Ds:typeof define=="function"&&define.amd?define([],function(){return Ds}):typeof exports=="object"&&(exports._TRACESKELETON=Ds);let ml=class Ro{constructor(t){if(typeof t>"u")throw new Error("Cannot be called directly");this.tracer=t}static load(){return Ds().then(t=>new Ro(t))}fromBoolArray(t,e,r){for(var i="",o=0;o<t.length;o++)t[o]?i+="":i+="\0";return this.fromCharString(i,e,r)}fromImageData(t,e){for(var r=t.width,i=t.height,o=t.data,A="",p=0;p<o.length;p+=4)o[p]?A+="":A+="\0";return this.fromCharString(A,r,i,e)}fromCanvas(t){var e=t.getContext("2d"),r=e.getImageData(0,0,t.width,t.height);return this.fromImageData(r)}fromCharString(t,e,r,i){var o=new this.tracer.skeleton_tracer_t,A=o.trace(t,e,r,i),p=A.split("RECTS:")[1].split(`
`).filter(g=>g.length).map(g=>g.split(",").map(h=>parseInt(h))),u=A.split("RECTS:")[0].split("POLYLINES:")[1].split(`
`).filter(g=>g.length).map(g=>g.split(" ").filter(h=>h.length).map(h=>h.split(",").map(m=>parseInt(m)))),l={rects:p,polylines:u,width:e,height:r};return this.tracer.destroy(o),l}visualize(t,e){var r=t.rects,i=t.polylines;e==null&&(e={});var o=e.scale==null?1:e.scale,A=e.strokeWidth==null?1:e.strokeWidth,p=e.rects==null?1:0,u=e.keypoints=1,l=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="${t.width*o}" height="${t.height*o}">`;if(p)for(var g=0;g<r.length;g++)l+=`<rect fill="none" stroke="gray" x="${r[g][0]*o}" y="${r[g][1]*o}" width="${r[g][2]*o}" height="${r[g][3]*o}" />`;for(var g=0;g<i.length;g++)l+=`<path fill="none" stroke-width="${A}" stroke="rgb(${Math.floor(Math.random()*200)},${Math.floor(Math.random()*200)},${Math.floor(Math.random()*200)})" d="M${i[g].map(v=>v[0]*o+","+v[1]*o).join(" L")}"/>`;if(u)for(var g=0;g<i.length;g++)for(var h=0;h<i[g].length;h++)l+=`<rect fill="none" stroke="red" x="${i[g][h][0]*o-1}" y="${i[g][h][1]*o-1}" width="2" height="2"/>`;return l+="</svg>",l}};function $n(n,t){return Array.isArray(t)?[n.a*t[0]+n.c*t[1]+n.e,n.b*t[0]+n.d*t[1]+n.f]:{x:n.a*t.x+n.c*t.y+n.e,y:n.b*t.x+n.d*t.y+n.f}}function va(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function ds(n){return typeof n>"u"}function hi(n,t=0){return{a:1,c:0,e:n,b:0,d:1,f:t}}function Ps(...n){n=Array.isArray(n[0])?n[0]:n;const t=(e,r)=>({a:e.a*r.a+e.c*r.b,c:e.a*r.c+e.c*r.d,e:e.a*r.e+e.c*r.f+e.e,b:e.b*r.a+e.d*r.b,d:e.b*r.c+e.d*r.d,f:e.b*r.e+e.d*r.f+e.f});switch(n.length){case 0:throw new Error("no matrices provided");case 1:return n[0];case 2:return t(n[0],n[1]);default:{const[e,r,...i]=n,o=t(e,r);return Ps(o,...i)}}}function Ar(...n){return Ps(...n)}const{cos:Il,sin:vl,PI:eA}=Math;function Os(n,t,e){const r=Il(n),i=vl(n),o={a:r,c:-i,e:0,b:i,d:r,f:0};return ds(t)||ds(e)?o:Ps([hi(t,e),o,hi(-t,-e)])}function gs(n,t=void 0,e=void 0,r=void 0){ds(t)&&(t=n);const i={a:n,c:0,e:0,b:0,d:t,f:0};return ds(e)||ds(r)?i:Ps([hi(e,r),i,hi(-e,-r)])}function ms(n){return Cl(n)}function Cl(n){return`matrix(${n.a},${n.b},${n.c},${n.d},${n.e},${n.f})`}function yl(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function Ls(n,t,e,r){var i=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(i,Ls.prototype),i.expected=t,i.found=e,i.location=r,i.name="SyntaxError",i}yl(Ls,Error);function Gs(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,e+=e.repeat(t),n+e.slice(0,t))}Ls.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var e=null,r;for(r=0;r<n.length;r++)if(n[r].source===this.location.source){e=n[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,o=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,A=this.location.source+":"+o.line+":"+o.column;if(e){var p=this.location.end,u=Gs("",o.line.toString().length," "),l=e[i.line-1],g=i.line===p.line?p.column:l.length+1,h=g-i.column||1;t+=`
 --> `+A+`
`+u+` |
`+o.line+" | "+l+`
`+u+" | "+Gs("",i.column-1," ")+Gs("",h,"^")}else t+=`
 at `+A}return t};Ls.buildMessage=function(n,t){var e={literal:function(l){return'"'+i(l.text)+'"'},class:function(l){var g=l.parts.map(function(h){return Array.isArray(h)?o(h[0])+"-"+o(h[1]):o(h)});return"["+(l.inverted?"^":"")+g.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(l){return l.description}};function r(l){return l.charCodeAt(0).toString(16).toUpperCase()}function i(l){return l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+r(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+r(g)})}function o(l){return l.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+r(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+r(g)})}function A(l){return e[l.type](l)}function p(l){var g=l.map(A),h,m;if(g.sort(),g.length>0){for(h=1,m=1;h<g.length;h++)g[h-1]!==g[h]&&(g[m]=g[h],m++);g.length=m}switch(g.length){case 1:return g[0];case 2:return g[0]+" or "+g[1];default:return g.slice(0,-1).join(", ")+", or "+g[g.length-1]}}function u(l){return l?'"'+i(l)+'"':"end of input"}return"Expected "+p(n)+" but "+u(t)+" found."};function Ca(){return{a:1,c:0,e:0,b:0,d:-1,f:0}}function ya(){return{a:-1,c:0,e:0,b:0,d:1,f:0}}class Ea{constructor(t,e,r,i){Xe(this,"xl");Xe(this,"xh");Xe(this,"yl");Xe(this,"yh");this.xl=t,this.xh=e,this.yl=r,this.yh=i}contains(t,e){return this.xl<t&&t<this.xh&&this.yl<e&&e<this.yh}}class ze{constructor(t,e){Xe(this,"x",0);Xe(this,"y",0);this.x=t,this.y=e}}class Qn extends ze{constructor(e,r,i=0,o=-1){super(e,r);Xe(this,"color",0);Xe(this,"tileIdx");this.color=i,this.tileIdx=o}minus(e){return new Qn(this.x-e.x,this.y-e.y,this.color,this.tileIdx)}static mulPoint(e,r){return new Qn(e.a*r.x+e.c*r.y+e.e,e.b*r.x+e.d*r.y+e.f,r.color,r.tileIdx)}}class Wr{constructor(t,e,r,i,o=0,A=-1){Xe(this,"x1");Xe(this,"y1");Xe(this,"x2");Xe(this,"y2");Xe(this,"connected_11");Xe(this,"connected_12");Xe(this,"connected_21");Xe(this,"connected_22");Xe(this,"color",0);Xe(this,"tileIdx");this.x1=t,this.y1=e,this.x2=r,this.y2=i,this.color=o,this.connected_11=[],this.connected_12=[],this.connected_21=[],this.connected_22=[],this.tileIdx=A}minus(t){return new Wr(this.x1-t.x,this.y1-t.y,this.x2-t.x,this.y2-t.y,this.color,this.tileIdx)}toString(){return"("+this.x1+" "+this.y1+") ("+this.x2+" "+this.y2+")"}}var ba=new function(){var n=this;n.thinningZS=function(u,l,g){var h=!0;do h&=t(u,l,g,0),h&=t(u,l,g,1);while(h);return u};function t(u,l,g,h){for(var m=0,v=1;v<g-1;v++)for(var B=1;B<l-1;B++){var Q=u[(v-1)*l+B]&1,D=u[(v-1)*l+B+1]&1,I=u[v*l+B+1]&1,T=u[(v+1)*l+B+1]&1,w=u[(v+1)*l+B]&1,b=u[(v+1)*l+B-1]&1,x=u[v*l+B-1]&1,L=u[(v-1)*l+B-1]&1,Y=(Q==0&&D==1)+(D==0&&I==1)+(I==0&&T==1)+(T==0&&w==1)+(w==0&&b==1)+(b==0&&x==1)+(x==0&&L==1)+(L==0&&Q==1),q=Q+D+I+T+w+b+x+L,K=h==0?Q*I*w:Q*I*x,ae=h==0?I*w*x:Q*w*x;Y==1&&q>=2&&q<=6&&K==0&&ae==0&&(u[v*l+B]|=2)}for(var v=0;v<g*l;v++){var me=u[v]>>1,de=u[v]&1;u[v]=de&!me,!m&&u[v]!=de&&(m=1)}return m}function e(u,l,g,h,m,v,B){for(var Q=m;Q<m+B;Q++)for(var D=h;D<h+v;D++)if(u[Q*l+D])return!0;return!1}function r(u,l,g,h,m,v){var B=(v>>1&1)>0,Q=(v>>0&1)>0,D=-1,I=4,T=l[g].length-1,w=l[g][Q?0:T];if(Math.abs(w[m?1:0]-h)>0)return!1;for(var b=0;b<u.length;b++){var x=u[b].length-1,L=u[b][B?0:x];if(!(Math.abs(L[m?1:0]-h)>1)){var Y=Math.abs(L[m?0:1]-w[m?0:1]);Y<I&&(D=b,I=Y)}}return D!=-1?(B&&Q?(l[g].reverse(),u[D]=l[g].concat(u[D])):!B&&Q?u[D]=u[D].concat(l[g]):B&&!Q?u[D]=l[g].concat(u[D]):(l[g].reverse(),u[D]=u[D].concat(l[g])),l.splice(g,1),!0):!1}var i=1,o=2;function A(u,l,g,h){for(var m=l.length-1;m>=0;m--)if(h==i){if(r(u,l,m,g,!1,1)||r(u,l,m,g,!1,3)||r(u,l,m,g,!1,0)||r(u,l,m,g,!1,2))continue}else if(r(u,l,m,g,!0,1)||r(u,l,m,g,!0,3)||r(u,l,m,g,!0,0)||r(u,l,m,g,!0,2))continue;l.map(v=>u.push(v))}function p(u,l,g,h,m,v,B){for(var Q=[],D=!1,I=-1,T=-1,w=0;w<B+B+v+v-4;w++){var b,x;w<v?(b=m+0,x=h+w):w<v+B-1?(b=m+w-v+1,x=h+v-1):w<v+B+v-2?(b=m+B-1,x=h+v-(w-v-B+3)):(b=m+B-(w-v-B-v+4),x=h+0),u[b*l+x]?D||(D=!0,Q.push([[x,b],[Math.floor(h+v/2),Math.floor(m+B/2)]])):D&&(Q[Q.length-1][0][0]=Math.floor((Q[Q.length-1][0][0]+T)/2),Q[Q.length-1][0][1]=Math.floor((Q[Q.length-1][0][1]+I)/2),D=!1),I=b,T=x}if(Q.length==2)Q=[[Q[0][0],Q[1][0]]];else if(Q.length>2){for(var L=0,Y=-1,q=-1,b=m+1;b<m+B-1;b++)for(var x=h+1;x<h+v-1;x++){var K=u[b*l-l+x-1]+u[b*l-l+x]+u[b*l-l+x-1+1]+u[b*l+x-1]+u[b*l+x]+u[b*l+x+1]+u[b*l+l+x-1]+u[b*l+l+x]+u[b*l+l+x+1];(K>L||K==L&&Math.abs(x-(h+v/2))+Math.abs(b-(m+B/2))<Math.abs(q-(h+v/2))+Math.abs(Y-(m+B/2)))&&(Y=b,q=x,L=K)}if(Y!=-1)for(var b=0;b<Q.length;b++)Q[b][1]=[q,Y]}return Q}n.traceSkeleton=function(u,l,g,h,m,v,B,Q,D,I){var T=[];if(D==0)return T;if(v<=Q&&B<=Q)return p(u,l,g,h,m,v,B);var w=l+g,b=-1,x=-1;if(B>Q){for(var L=m+3;L<m+B-3;L++)if(!(u[L*l+h]||u[(L-1)*l+h]||u[L*l+h+v-1]||u[(L-1)*l+h+v-1])){for(var Y=0,q=h;q<h+v;q++)Y+=u[L*l+q],Y+=u[(L-1)*l+q];(Y<w||Y==w&&Math.abs(L-(m+B/2))<Math.abs(b-(m+B/2)))&&(w=Y,b=L)}}if(v>Q){for(var q=h+3;q<h+v-3;q++)if(!(u[l*m+q]||u[l*(m+B)-l+q]||u[l*m+q-1]||u[l*(m+B)-l+q-1])){for(var Y=0,L=m;L<m+B;L++)Y+=u[L*l+q],Y+=u[L*l+q-1];(Y<w||Y==w&&Math.abs(q-(h+v/2))<Math.abs(x-(h+v/2)))&&(w=Y,b=-1,x=q)}}if(B>Q&&b!=-1){var K=[h,m,v,b-m],ae=[h,b,v,m+B-b];e(u,l,g,K[0],K[1],K[2],K[3])&&(I!=null&&I.push(K),T=n.traceSkeleton(u,l,g,K[0],K[1],K[2],K[3],Q,D-1,I)),e(u,l,g,ae[0],ae[1],ae[2],ae[3])&&(I!=null&&I.push(ae),A(T,n.traceSkeleton(u,l,g,ae[0],ae[1],ae[2],ae[3],Q,D-1,I),b,o))}else if(v>Q&&x!=-1){var K=[h,m,x-h,B],ae=[x,m,h+v-x,B];e(u,l,g,K[0],K[1],K[2],K[3])&&(I!=null&&I.push(K),T=n.traceSkeleton(u,l,g,K[0],K[1],K[2],K[3],Q,D-1,I)),e(u,l,g,ae[0],ae[1],ae[2],ae[3])&&(I!=null&&I.push(ae),A(T,n.traceSkeleton(u,l,g,ae[0],ae[1],ae[2],ae[3],Q,D-1,I),x,i))}return b==-1&&x==-1&&(T=p(u,l,g,h,m,v,B)),T},n.trace=function(u,l,g,h){n.thinningZS(u,l,g);var m=[],v=n.traceSkeleton(u,l,g,0,0,l,g,h,999,m);return{rects:m,polylines:v,width:l,height:g,thinImag:u}},n.onload=function(u){u()},n.fromBoolArray=function(u,l,g){return n.trace(u.map(h=>h?1:0),l,g,10)},n.fromCharString=function(u,l,g){return n.trace(u.split("").map(h=>h.charCodeAt(0)),l,g,10)},n.imageDataToBinary=function(u){u.width,u.height;for(var l=u.data,g=[],h=0;h<l.length;h+=4)l[h]||l[h+1]||l[h+2]?g.push(1):g.push(0);return g},n.fromImageData=function(u,l){var g=u.width,h=u.height,m=n.imageDataToBinary(u);return n.trace(m,g,h,l)},n.fromCanvas=function(u){var l=u.getContext("2d"),g=l.getImageData(0,0,u.width,u.height);return n.fromImageData(g)},n.visualize=function(u,l){var g=u.rects,h=u.polylines;l==null&&(l={});var m=l.scale==null?1:l.scale,v=l.strokeWidth==null?1:l.strokeWidth,B=l.rects==null||l.rects==!0?1:0,Q=(l.keypoints=l.keypoints==!1)?0:1,D=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="${u.width*m}" height="${u.height*m}">`;if(B)for(var I=0;I<g.length;I++)D+=`<rect fill="none" stroke="gray" x="${g[I][0]*m}" y="${g[I][1]*m}" width="${g[I][2]*m}" height="${g[I][3]*m}" />`;for(var I=0;I<h.length;I++)D+=`<path fill="none" stroke-width="${v}" stroke="rgb(${Math.floor(Math.random()*200)},${Math.floor(Math.random()*200)},${Math.floor(Math.random()*200)})" d="M${h[I].map(b=>b[0]*m+","+b[1]*m).join(" L")}"/>`;if(Q)for(var I=0;I<h.length;I++)for(var T=0;T<h[I].length;T++)D+=`<rect fill="none" stroke="red" x="${h[I][T][0]*m-1}" y="${h[I][T][1]*m-1}" width="2" height="2"/>`;return D+="</svg>",D}};class wr{constructor(t,e,r){Xe(this,"point");Xe(this,"parent",null);Xe(this,"children",[]);Xe(this,"pixel",[]);Xe(this,"loops",[]);Xe(this,"segmentRef",null);this.point=t,this.parent=e,e!=null&&e.children.push(this),this.pixel=r}}const H=class H{static updateSkelleton(t,e,r,i,o,A){if(t==null)return[];H.ctx=t,H.imgX=e,H.imgY=r,H.tileWidth=i,H.tileHeight=o,H.deviation=A;let p=t.getImageData(e,r,i,o);H.fixSmallPassages(p);let u=ba.imageDataToBinary(p),l=ba.thinningZS(u,i,o);H.erodeKeepCrossings(l);let{thinImagRGB:g,crossings:h,ends:m}=H.detectEndsAndCrossings(l,p),v=H.vectorize(l,h,m);H.visualizeTreeRec(v,g),H.visualizePoints(h,g,[0,255,255]),H.visualizePoints(m,g,[255,0,0]);var B=new ImageData(new Uint8ClampedArray(g),i,o);t.putImageData(B,e,r),H.subdivideTreeRec(v);let Q=[];return H.segemntsFromTreeRec(v,Q),Q}static visualizePoints(t,e,r){t.forEach(i=>{e[H.fromXY(i.x,i.y)*4]=r[0],e[H.fromXY(i.x,i.y)*4+1]=r[1],e[H.fromXY(i.x,i.y)*4+2]=r[2]})}static detectEndsAndCrossings(t,e){let r=0,i=0,o=[],A=[],p=[];return t.forEach(u=>{let{x:l,y:g}=H.fromI(r),h=t[H.fromXY(l-1,g-1)],m=t[H.fromXY(l,g-1)],v=t[H.fromXY(l+1,g-1)],B=t[H.fromXY(l-1,g)],Q=t[H.fromXY(l+1,g)],D=t[H.fromXY(l-1,g+1)],I=t[H.fromXY(l,g+1)],T=t[H.fromXY(l+1,g+1)];B&&Q&&I&&!h&&!m&&!v&&!D&&!T||m&&B&&I&&!h&&!v&&!Q&&!D&&!T||m&&B&&Q&&!h&&!v&&!D&&!I&&!T||m&&Q&&I&&!h&&!v&&!B&&!D&&!T||(v&&B&&I&&!h&&!m&&!Q&&!D&&!T||m&&B&&T&&!h&&!v&&!Q&&!D&&!I||m&&Q&&D&&!h&&!v&&!B&&!I&&!T||h&&Q&&I&&!m&&!v&&!B&&!D&&!T)||(h&&v&&I&&!m&&!B&&!Q&&!D&&!T||v&&B&&T&&!h&&!m&&!Q&&!D&&!I||m&&D&&T&&!h&&!v&&!B&&!Q&&!I||h&&Q&&D&&!m&&!v&&!B&&!I&&!T)||(h&&D&&T&&!m&&!v&&!B&&!Q&&!I||h&&v&&D&&!m&&!B&&!Q&&!I&&!T||h&&v&&T&&!m&&!B&&!Q&&!D&&!I||v&&D&&T&&!h&&!m&&!B&&!Q&&!I)?(o.push(255),o.push(0),o.push(255),o.push(255),t[r]=2,A.push(new ze(l,g))):u&&(h&&!m&&!v&&!B&&!Q&&!D&&!I&&!T||m&&!h&&!v&&!B&&!Q&&!D&&!I&&!T||v&&!h&&!m&&!B&&!Q&&!D&&!I&&!T||B&&!h&&!m&&!v&&!Q&&!D&&!I&&!T||Q&&!h&&!m&&!v&&!B&&!D&&!I&&!T||D&&!h&&!m&&!v&&!B&&!Q&&!I&&!T||I&&!h&&!m&&!v&&!B&&!Q&&!D&&!T||T&&!h&&!m&&!v&&!B&&!Q&&!D&&!I)?(o.push(255),o.push(255),o.push(0),o.push(255),t[r]=3,p.push(new ze(l,g))):u?(o.push(0),o.push(0),o.push(255),o.push(255)):(o.push(e.data[i]),o.push(e.data[i+1]),o.push(e.data[i+2]),o.push(255)),r++,i+=4}),{thinImagRGB:o,crossings:A,ends:p}}static erodeKeepCrossings(t){let e=0;t.forEach(r=>{let{x:i,y:o}=H.fromI(e),A=t[H.fromXY(i-1,o-1)],p=t[H.fromXY(i,o-1)],u=t[H.fromXY(i+1,o-1)],l=t[H.fromXY(i-1,o)],g=t[H.fromXY(i+1,o)],h=t[H.fromXY(i-1,o+1)],m=t[H.fromXY(i,o+1)],v=t[H.fromXY(i+1,o+1)];(r&&g&&m||r&&g&&p||r&&l&&p||r&&l&&m)&&!(l&&g&&m||p&&l&&m||p&&l&&g||p&&g&&m||(u&&l&&m||p&&l&&v||p&&g&&h||A&&g&&m)||(A&&u&&m||u&&l&&v||p&&h&&v||A&&g&&h)||(A&&h&&v||A&&u&&h||A&&u&&v||u&&h&&v))&&(t[e]=0),e++})}static isBlack(t,e){return e.data[t]==0&&e.data[t+1]==0&&e.data[t+2]==0}static fixSmallPassages(t){for(let e=0;e<t.width;e++)for(let r=0;r<t.height;r++)if(!H.isBlack(this.fromXY(e,r)*4,t)){H.isBlack(this.fromXY(e-1,r)*4,t)&&H.isBlack(this.fromXY(e+1,r)*4,t)&&H.isBlack(this.fromXY(e,r-1)*4,t)&&H.isBlack(this.fromXY(e,r+1)*4,t)&&(t.data[this.fromXY(e,r)*4]=0,t.data[this.fromXY(e,r)*4+1]=0,t.data[this.fromXY(e,r)*4+2]=0,t.data[this.fromXY(e,r)*4+3]=0);let i=[];i.push(new ze(e-1,r-1)),i.push(new ze(e-1,r)),i.push(new ze(e-1,r+1)),i.push(new ze(e,r+1)),i.push(new ze(e+1,r+1)),i.push(new ze(e+1,r)),i.push(new ze(e+1,r-1)),i.push(new ze(e,r-1));let o=H.isBlack(this.fromXY(i[0].x,i[0].y)*4,t),A=0,p=[0,0,0,0];for(let u=1;u<8;u++){let l=H.isBlack(this.fromXY(i[u].x,i[u].y)*4,t);o!=l&&(A+=1,o=l),l||(p=[t.data[this.fromXY(e,r)*4],t.data[this.fromXY(e,r)*4+1],t.data[this.fromXY(e,r)*4+2],t.data[this.fromXY(e,r)*4+3]])}if(A>3)for(let u=0;u<8;u++)t.data[this.fromXY(i[u].x,i[u].y)*4]=p[0],t.data[this.fromXY(i[u].x,i[u].y)*4+1]=p[1],t.data[this.fromXY(i[u].x,i[u].y)*4+2]=p[2],t.data[this.fromXY(i[u].x,i[u].y)*4+3]=p[3]}}static getBorderImg(t){let e=Array(t.length);for(let r=0;r<H.tileWidth;r++)for(let i=0;i<H.tileHeight;i++)t[this.fromXY(r,i)]==0&&(t[this.fromXY(r-1,i)]==1||t[this.fromXY(r+1,i)]==1||t[this.fromXY(r,i-1)]==1||t[this.fromXY(r,i+1)]==1)?e[this.fromXY(r,i)]=1:e[this.fromXY(r,i)]=0;return e}static calcNeighbourCnt16(t,e,r){t[H.fromXY(e-2,r-2)],t[H.fromXY(e-1,r-2)],t[H.fromXY(e,r-2)],t[H.fromXY(e+1,r-2)],t[H.fromXY(e+2,r-2)],t[H.fromXY(e+2,r-1)],t[H.fromXY(e+2,r)],t[H.fromXY(e+2,r+1)],t[H.fromXY(e+2,r+2)],t[H.fromXY(e+1,r+2)],t[H.fromXY(e,r+2)],t[H.fromXY(e-1,r+2)],t[H.fromXY(e-2,r+2)],t[H.fromXY(e-2,r+1)],t[H.fromXY(e-2,r)],t[H.fromXY(e-2,r-1)]}static calcNeighbourCnt8(t,e,r){let i=0;return t[H.fromXY(e-1,r-1)]&&i++,t[H.fromXY(e,r-1)]&&i++,t[H.fromXY(e+1,r-1)]&&i++,t[H.fromXY(e+1,r)]&&i++,t[H.fromXY(e+1,r+1)]&&i++,t[H.fromXY(e,r+1)]&&i++,t[H.fromXY(e-1,r+1)]&&i++,t[H.fromXY(e-1,r)]&&i++,i}static calcNeighbourCnt4(t,e,r){let i=0;return t[H.fromXY(e,r-1)]&&i++,t[H.fromXY(e+1,r)]&&i++,t[H.fromXY(e,r+1)]&&i++,t[H.fromXY(e-1,r)]&&i++,i}static fromI(t){return{x:t%H.tileWidth,y:Math.floor(t/H.tileWidth)}}static fromXY(t,e){return e*H.tileWidth+t}static vectorize(t,e,r){let i=null;if(r.length<=0){for(let A=0;A<t.length;A++)if(t[A]!=0){i=new wr(new ze(this.fromI(A).x,this.fromI(A).y),null,[]);break}if(i==null)return null}else i=new wr(r[0],null,[]);return t[H.fromXY(i.point.x,i.point.y)]=4,H.get1Neighbours(t,i.point.x,i.point.y).forEach(A=>{t[H.fromXY(A.x,A.y)]<4&&H.vectorizeRec(i,A,[i.point],t,e,r)}),i}static vectorizeRec(t,e,r,i,o,A){if(r.push(e),i[H.fromXY(e.x,e.y)]==2)if(i[H.fromXY(e.x,e.y)]=5,(e.x-t.point.x)*(e.x-t.point.x)+(e.y-t.point.y)*(e.y-t.point.y)>4){let u=new wr(e,t,r);H.get1Neighbours(i,e.x,e.y).forEach(g=>{i[H.fromXY(g.x,g.y)]<4&&H.vectorizeRec(u,g,[],i,o,A)})}else t.pixel.push(e),i[H.fromXY(t.point.x,t.point.y)]=4,t.point=e,H.get1Neighbours(i,e.x,e.y).forEach(l=>{i[H.fromXY(l.x,l.y)]<4&&H.vectorizeRec(t,l,[],i,o,A)});else if(i[H.fromXY(e.x,e.y)]==3)i[H.fromXY(e.x,e.y)]=4,new wr(e,t,r);else if(i[H.fromXY(e.x,e.y)]==1){i[H.fromXY(e.x,e.y)]=4;let p=H.get1Neighbours(i,e.x,e.y);p.length>2&&(p=p.filter(u=>{let l=!0;return H.get1Neighbours(i,t.point.x,t.point.y).forEach(g=>{if(g.x==u.x&&g.y==u.y){l=!1;return}}),l})),A.length==0&&p.length==2&&i[H.fromXY(p[0].x,p[0].y)]==4&&i[H.fromXY(p[1].x,p[1].y)]==4&&new wr(e,t,r),p.forEach(u=>{if(i[H.fromXY(u.x,u.y)]<4)H.vectorizeRec(t,u,r,i,o,A);else if(i[H.fromXY(u.x,u.y)]==5&&r.length>1)if(u.x==t.point.x&&u.y==t.point.y){if(r.length>=3){let l=Math.floor(r.length/2),g=new wr(r[l],t,r.splice(0,l));t.loops.push(g)}}else{let l=new wr(u,t,r);t.loops.push(l)}})}}static get1Neighbours(t,e,r){let i=[];return t[H.fromXY(e-1,r-1)]&&i.push(new ze(e-1,r-1)),t[H.fromXY(e-1,r)]&&i.push(new ze(e-1,r)),t[H.fromXY(e-1,r+1)]&&i.push(new ze(e-1,r+1)),t[H.fromXY(e,r-1)]&&i.push(new ze(e,r-1)),t[H.fromXY(e,r+1)]&&i.push(new ze(e,r+1)),t[H.fromXY(e+1,r-1)]&&i.push(new ze(e+1,r-1)),t[H.fromXY(e+1,r)]&&i.push(new ze(e+1,r)),t[H.fromXY(e+1,r+1)]&&i.push(new ze(e+1,r+1)),i.sort((o,A)=>t[H.fromXY(A.x,A.y)]-t[H.fromXY(o.x,o.y)])}static segemntsFromTreeRec(t,e){var r,i;if(t==null)return[];t.children.forEach(o=>{let A=new Wr(t.point.x,t.point.y,o.point.x,o.point.y);o.segmentRef=A,t.parent!=null&&(A.connected_12.push(t.segmentRef),t.segmentRef.connected_21.push(A)),e.push(A),H.segemntsFromTreeRec(o,e)});for(let o=0;o<t.children.length;o++)for(let A=0;A<t.children.length;A++)o!=A&&((r=t.children[o].segmentRef)==null||r.connected_11.push(t.children[A].segmentRef),(i=t.children[A].segmentRef)==null||i.connected_11.push(t.children[o].segmentRef));return e}static visualizeTreeRec(t,e){if(t==null)return;let r=H.getRandomColor();t.pixel.forEach(i=>{e[H.fromXY(i.x,i.y)*4]=r[0],e[H.fromXY(i.x,i.y)*4+1]=r[1],e[H.fromXY(i.x,i.y)*4+2]=r[2]}),t.children.forEach(i=>{H.visualizeTreeRec(i,e)})}static subdivideTreeRec(t){t!=null&&(t.children.forEach(e=>{if(e.pixel.length>10){let r=Math.floor(e.pixel.length/2),i=e.pixel[r],o=i.x,A=i.y,p=t.point.x,u=t.point.y,l=e.point.x,g=e.point.y,h,m=((o-p)*(l-p)+(A-u)*(g-u))/((g-u)*(g-u)+(l-p)*(l-p));if(m<0?h=Math.sqrt((p-o)*(p-o)+(u-A)*(u-A)):m>1?h=Math.sqrt((l-o)*(l-o)+(g-A)*(g-A)):h=((g-u)*o-(l-p)*A+l*u-g*p)/Math.sqrt((g-u)*(g-u)+(l-p)*(l-p)),h=Math.abs(h),h>H.deviation){let v=new wr(i,null,[]);v.parent=t,v.children=[e],v.pixel=e.pixel.slice(0,r+1),e.pixel=e.pixel.slice(r+1,e.pixel.length);for(let B=0;B<t.children.length;B++)t.children[B]==e&&(t.children[B]=v);e.parent=v,H.subdivideTreeRec(t)}}H.subdivideTreeRec(e)}),t.loops.forEach(e=>{H.subdivideTreeRec(e)}))}static getRandomColor(){for(var t=[],e=0;e<3;e++)t.push(Math.floor(Math.random()*255));return t}};Xe(H,"ctx"),Xe(H,"imgX"),Xe(H,"imgY"),Xe(H,"tileWidth"),Xe(H,"tileHeight"),Xe(H,"deviation");let Zs=H;const fi=[];function Us(n,t=St){let e;const r=new Set;function i(p){if(kn(n,p)&&(n=p,e)){const u=!fi.length;for(const l of r)l[1](),fi.push(l,n);if(u){for(let l=0;l<fi.length;l+=2)fi[l][0](fi[l+1]);fi.length=0}}}function o(p){i(p(n))}function A(p,u=St){const l=[p,u];return r.add(l),r.size===1&&(e=t(i,o)||St),p(n),()=>{r.delete(l),r.size===0&&e&&(e(),e=null)}}return{set:i,update:o,subscribe:A}}const Ht=new ze(300,300);let _s=Us({sitePoints:[],siteSegments:[],tileWidth:Ht.x,tileHeight:Ht.y,tileCenter:new ze(0,0),imageOffset:new ze(0,0)}),$s=Us({image:null,imageData:null,imageDataProcessed:null}),Ts=Us({symGroup:"",IH:-1,origin:"",name:"",image:"",tilingScaleFactor:1,parameterNames:null}),ea=Us([]);function Mo(n){let t=!1;for(let e=0;e<n.length;e++){for(let r=0;r<n.length;r++)if(e!=r&&El(n[e],n[r])){console.log("intersect "+n[e].toString()+" "+n[r].toString()),t=!0;break}if(t)break}return t}function El(n,t){let e=((n.x1-t.x1)*(t.y1-t.y2)-(n.y1-t.y1)*(t.x1-t.x2))/((n.x1-n.x2)*(t.y1-t.y2)-(n.y1-n.y2)*(t.x1-t.x2)),r=-((n.x1-n.x2)*(n.y1-t.y1)-(n.y1-n.y2)*(n.x1-t.x1))/((n.x1-n.x2)*(t.y1-t.y2)-(n.y1-n.y2)*(t.x1-t.x2)),i=0<e&&e<1&&0<r&&r<1;return i&&(n.x1==t.x1&&n.y1==t.y1||n.x1==t.x1&&n.y2==t.y2||n.x2==t.x2&&n.y1==t.y1||n.x2==t.x2&&n.y2==t.y2)?(console.log("intersect is at endpoint"),!1):i}const bl="/escherization/assets/Tux-DF1pLvDX.png";function Ba(n,t,e){const r=n.slice();return r[59]=t[e],r[61]=e,r}function wa(n,t,e){const r=n.slice();return r[62]=t[e],r[61]=e,r}function Qa(n,t,e){const r=n.slice();return r[64]=t[e],r[61]=e,r}function Bl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">open_with</span>',d(t,"class","bg-slate-50 hover:bg-slate-200 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){re(i,t,o),e||(r=fe(t,"click",n[27]),e=!0)},p:St,d(i){i&&ne(t),e=!1,r()}}}function wl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">open_with</span>',d(t,"class","bg-sky-500 hover:bg-sky-300 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){re(i,t,o),e||(r=fe(t,"click",n[26]),e=!0)},p:St,d(i){i&&ne(t),e=!1,r()}}}function Ql(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">add</span> <div class="relative -top-4 left-3 text-xs">S</div>',d(t,"class","bg-slate-50 hover:bg-slate-200 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){re(i,t,o),e||(r=fe(t,"click",n[29]),e=!0)},p:St,d(i){i&&ne(t),e=!1,r()}}}function Sl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">add</span> <div class="relative -top-4 left-3 text-xs">S</div>',d(t,"class","bg-sky-500 hover:bg-sky-300 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){re(i,t,o),e||(r=fe(t,"click",n[28]),e=!0)},p:St,d(i){i&&ne(t),e=!1,r()}}}function kl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">delete</span>',d(t,"class","bg-slate-50 hover:bg-slate-200 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){re(i,t,o),e||(r=fe(t,"click",n[31]),e=!0)},p:St,d(i){i&&ne(t),e=!1,r()}}}function Dl(n){let t,e,r;return{c(){t=O("button"),t.innerHTML='<span class="material-icons md-36">delete</span>',d(t,"class","bg-sky-500 hover:bg-sky-300 border border-sky-600 p-2 rounded w-10 h-10 m-1")},m(i,o){re(i,t,o),e||(r=fe(t,"click",n[30]),e=!0)},p:St,d(i){i&&ne(t),e=!1,r()}}}function Sa(n){let t,e,r,i,o;return{c(){t=vt("circle"),d(t,"id","sitePoint_"+n[61]),d(t,"class","sitePoint draggable svelte-1nasrnd"),d(t,"style",n[15]),d(t,"cx",e=n[64].x),d(t,"cy",r=n[64].y),d(t,"r","2"),d(t,"fill","black")},m(A,p){re(A,t,p),i||(o=fe(t,"click",n[33]),i=!0)},p(A,p){p[0]&32768&&d(t,"style",A[15]),p[0]&1024&&e!==(e=A[64].x)&&d(t,"cx",e),p[0]&1024&&r!==(r=A[64].y)&&d(t,"cy",r)},d(A){A&&ne(t),i=!1,o()}}}function ka(n){let t,e,r,i,o,A,p,u,l,g;return{c(){t=vt("path"),r=vt("circle"),A=vt("circle"),d(t,"id","siteSegment_"+n[61]),d(t,"d",e="M "+n[62].x1+" "+n[62].y1+" L "+n[62].x2+" "+n[62].y2),d(t,"stroke","red"),d(t,"stroke-width","1"),d(t,"fill","none"),d(r,"id","siteSegmentPoint_"+n[61]*2),d(r,"class","siteSegmentPoint draggable svelte-1nasrnd"),d(r,"style",n[15]),d(r,"cx",i=n[62].x1),d(r,"cy",o=n[62].y1),d(r,"r","4"),d(r,"fill","red"),d(A,"id","siteSegmentPoint_"+(n[61]*2+1)),d(A,"class","siteSegmentPoint draggable svelte-1nasrnd"),d(A,"style",n[15]),d(A,"cx",p=n[62].x2),d(A,"cy",u=n[62].y2),d(A,"r","4"),d(A,"fill","red")},m(h,m){re(h,t,m),re(h,r,m),re(h,A,m),l||(g=[fe(r,"click",n[34]),fe(A,"click",n[35])],l=!0)},p(h,m){m[0]&2048&&e!==(e="M "+h[62].x1+" "+h[62].y1+" L "+h[62].x2+" "+h[62].y2)&&d(t,"d",e),m[0]&32768&&d(r,"style",h[15]),m[0]&2048&&i!==(i=h[62].x1)&&d(r,"cx",i),m[0]&2048&&o!==(o=h[62].y1)&&d(r,"cy",o),m[0]&32768&&d(A,"style",h[15]),m[0]&2048&&p!==(p=h[62].x2)&&d(A,"cx",p),m[0]&2048&&u!==(u=h[62].y2)&&d(A,"cy",u)},d(h){h&&(ne(t),ne(r),ne(A)),l=!1,cn(g)}}}function Da(n){let t,e,r,i,o,A,p,u;return{c(){t=vt("path"),r=vt("circle"),A=vt("circle"),d(t,"d",e="M "+n[12].x1+" "+n[12].y1+" L "+n[12].x2+" "+n[12].y2),d(t,"stroke","red"),d(t,"stroke-width","1"),d(t,"fill","none"),d(r,"class","siteSegmentPoint draggable svelte-1nasrnd"),d(r,"cx",i=n[12].x1),d(r,"cy",o=n[12].y1),d(r,"r","2"),d(r,"fill","red"),d(A,"class","siteSegmentPoint draggable svelte-1nasrnd"),d(A,"cx",p=n[12].x2),d(A,"cy",u=n[12].y2),d(A,"r","2"),d(A,"fill","red")},m(l,g){re(l,t,g),re(l,r,g),re(l,A,g)},p(l,g){g[0]&4096&&e!==(e="M "+l[12].x1+" "+l[12].y1+" L "+l[12].x2+" "+l[12].y2)&&d(t,"d",e),g[0]&4096&&i!==(i=l[12].x1)&&d(r,"cx",i),g[0]&4096&&o!==(o=l[12].y1)&&d(r,"cy",o),g[0]&4096&&p!==(p=l[12].x2)&&d(A,"cx",p),g[0]&4096&&u!==(u=l[12].y2)&&d(A,"cy",u)},d(l){l&&(ne(t),ne(r),ne(A))}}}function Ta(n){let t,e;return{c(){t=vt("path"),d(t,"id","outline_"+n[61]),d(t,"d",e="M "+n[59].startPoint.x+" "+n[59].startPoint.y+" L "+n[59].endPoint.x+" "+n[59].endPoint.y),d(t,"stroke","yellow"),d(t,"stroke-width","2"),d(t,"fill","none")},m(r,i){re(r,t,i)},p(r,i){i[0]&16384&&e!==(e="M "+r[59].startPoint.x+" "+r[59].startPoint.y+" L "+r[59].endPoint.x+" "+r[59].endPoint.y)&&d(t,"d",e)},d(r){r&&ne(t)}}}function Tl(n){let t,e,r,i,o,A,p,u,l,g,h,m,v,B,Q,D,I,T,w,b,x,L,Y,q,K,ae,me,de,Ee,pe,X,Me,Ve,we,Ke,ee,be,Te,We,Ue,ft,tt,Xt,lt;function Ie(N,te){return N[8]=="move"?wl:Bl}let j=Ie(n),ct=j(n);function Nt(N,te){return N[8]=="addSegment"?Sl:Ql}let Rt=Nt(n),Se=Rt(n);function Fe(N,te){return N[8]=="delete"?Dl:kl}let kt=Fe(n),Ye=kt(n),yt=Lt(n[10]),st=[];for(let N=0;N<yt.length;N+=1)st[N]=Sa(Qa(n,yt,N));let At=Lt(n[11]),ut=[];for(let N=0;N<At.length;N+=1)ut[N]=ka(wa(n,At,N));let Je=n[12]!=null&&Da(n),Pe=Lt(n[14]),Ze=[];for(let N=0;N<Pe.length;N+=1)Ze[N]=Ta(Ba(n,Pe,N));return X=new dr({props:{min:1,max:50,initialValue:n[7]}}),X.$on("change",n[37]),{c(){t=O("div"),e=O("div"),r=O("div"),i=O("div"),ct.c(),o=ie(),Se.c(),A=ie(),Ye.c(),p=ie(),u=O("div"),l=O("canvas"),g=ie(),h=O("div"),m=vt("svg"),v=vt("g"),B=vt("rect"),D=vt("circle");for(let N=0;N<st.length;N+=1)st[N].c();w=Ut();for(let N=0;N<ut.length;N+=1)ut[N].c();b=Ut(),Je&&Je.c(),x=Ut();for(let N=0;N<Ze.length;N+=1)Ze[N].c();Y=ie(),q=O("div"),K=O("p"),ae=Ot(n[13]),me=ie(),de=O("div"),Ee=O("label"),Ee.textContent="Deviation Tolerance",pe=ie(),It(X.$$.fragment),Me=ie(),Ve=O("button"),Ve.innerHTML=`<span class="material-symbols-outlined me-2">upload</span>
            Upload Image`,we=ie(),Ke=O("button"),Ke.innerHTML=`<span class="material-symbols-outlined me-2">image</span>
            Use Example Image`,ee=ie(),be=O("button"),be.innerHTML=`<span class="material-symbols-outlined me-2">download</span>
            Download Image`,Te=ie(),We=O("button"),We.innerHTML=`<span class="material-symbols-outlined me-2">download</span>
            Download SVG`,Ue=ie(),ft=O("input"),d(i,"class","tools flex flex-col"),d(l,"class","uploadCanvas bg-slate-50 border border-sky-600 col-start-1 row-start-1"),d(l,"width",Ht.x),d(l,"height",Ht.y),Vt(l,"width",Ht.x+"px"),Vt(l,"height",Ht.y+"px"),d(B,"width",n[3]),d(B,"height",n[4]),d(B,"class","svgBackground svelte-1nasrnd"),d(B,"style",Q=n[15]+";fill:none"),d(B,"role","none"),d(D,"class","tileCenter draggable svelte-1nasrnd"),d(D,"style",n[15]),d(D,"id","origin"),d(D,"cx",I=n[9].x),d(D,"cy",T=n[9].y),d(D,"r","5"),d(D,"fill","pink"),d(v,"transform",L="translate("+n[5]+" "+n[6]+")"),d(m,"id","previewSvg"),d(m,"width",Ht.x),d(m,"height",Ht.y),d(m,"viewBox","0 0 "+Ht.x+" "+Ht.y),d(m,"xmlns","http://www.w3.org/2000/svg"),d(h,"class","overdrawSvg col-start-1 row-start-1"),d(K,"class","text-red-700 text-sm break-words"),d(q,"class","lastErrorContainer max-w-72"),d(u,"class","grid grid-cols-1"),d(r,"class","flex flex-row items-center"),d(Ee,"for","basic-range"),d(de,"class","resolution-slider min-w-72 font-sans text-center text-black"),_r(de,"purple-theme",!1),d(Ve,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(Ke,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-center inline-flex items-center min-w-52"),d(be,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(We,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(ft,"type","file"),Vt(ft,"display","none"),d(ft,"accept",".jpg, .jpeg, .png"),d(e,"class","flex flex-col items-center gap-4 place-content-start")},m(N,te){re(N,t,te),k(t,e),k(e,r),k(r,i),ct.m(i,null),k(i,o),Se.m(i,null),k(i,A),Ye.m(i,null),k(r,p),k(r,u),k(u,l),n[32](l),k(u,g),k(u,h),k(h,m),k(m,v),k(v,B),k(v,D);for(let he=0;he<st.length;he+=1)st[he]&&st[he].m(v,null);k(v,w);for(let he=0;he<ut.length;he+=1)ut[he]&&ut[he].m(v,null);k(v,b),Je&&Je.m(v,null),k(v,x);for(let he=0;he<Ze.length;he+=1)Ze[he]&&Ze[he].m(v,null);n[36](h),k(u,Y),k(u,q),k(q,K),k(K,ae),k(e,me),k(e,de),k(de,Ee),k(de,pe),pt(X,de,null),k(e,Me),k(e,Ve),k(e,we),k(e,Ke),k(e,ee),k(e,be),k(e,Te),k(e,We),k(e,Ue),k(e,ft),n[43](ft),tt=!0,Xt||(lt=[fe(m,"load",n[21]),fe(Ve,"click",n[38]),fe(Ke,"click",n[39]),fe(be,"click",n[40]),fe(We,"click",n[41]),fe(ft,"change",n[42])],Xt=!0)},p(N,te){if(j===(j=Ie(N))&&ct?ct.p(N,te):(ct.d(1),ct=j(N),ct&&(ct.c(),ct.m(i,o))),Rt===(Rt=Nt(N))&&Se?Se.p(N,te):(Se.d(1),Se=Rt(N),Se&&(Se.c(),Se.m(i,A))),kt===(kt=Fe(N))&&Ye?Ye.p(N,te):(Ye.d(1),Ye=kt(N),Ye&&(Ye.c(),Ye.m(i,null))),(!tt||te[0]&8)&&d(B,"width",N[3]),(!tt||te[0]&16)&&d(B,"height",N[4]),(!tt||te[0]&32768&&Q!==(Q=N[15]+";fill:none"))&&d(B,"style",Q),(!tt||te[0]&32768)&&d(D,"style",N[15]),(!tt||te[0]&512&&I!==(I=N[9].x))&&d(D,"cx",I),(!tt||te[0]&512&&T!==(T=N[9].y))&&d(D,"cy",T),te[0]&16811008){yt=Lt(N[10]);let se;for(se=0;se<yt.length;se+=1){const ke=Qa(N,yt,se);st[se]?st[se].p(ke,te):(st[se]=Sa(ke),st[se].c(),st[se].m(v,w))}for(;se<st.length;se+=1)st[se].d(1);st.length=yt.length}if(te[0]&8423424){At=Lt(N[11]);let se;for(se=0;se<At.length;se+=1){const ke=wa(N,At,se);ut[se]?ut[se].p(ke,te):(ut[se]=ka(ke),ut[se].c(),ut[se].m(v,b))}for(;se<ut.length;se+=1)ut[se].d(1);ut.length=At.length}if(N[12]!=null?Je?Je.p(N,te):(Je=Da(N),Je.c(),Je.m(v,x)):Je&&(Je.d(1),Je=null),te[0]&16384){Pe=Lt(N[14]);let se;for(se=0;se<Pe.length;se+=1){const ke=Ba(N,Pe,se);Ze[se]?Ze[se].p(ke,te):(Ze[se]=Ta(ke),Ze[se].c(),Ze[se].m(v,null))}for(;se<Ze.length;se+=1)Ze[se].d(1);Ze.length=Pe.length}(!tt||te[0]&96&&L!==(L="translate("+N[5]+" "+N[6]+")"))&&d(v,"transform",L),(!tt||te[0]&8192)&&jn(ae,N[13]);const he={};te[0]&128&&(he.initialValue=N[7]),X.$set(he)},i(N){tt||(Be(X.$$.fragment,N),tt=!0)},o(N){Re(X.$$.fragment,N),tt=!1},d(N){N&&ne(t),ct.d(),Se.d(),Ye.d(),n[32](null),Nn(st,N),Nn(ut,N),Je&&Je.d(),Nn(Ze,N),n[36](null),mt(X),n[43](null),Xt=!1,cn(lt)}}}function Fl(n,t,e){let r,i,o,A,p=null,u,l,g=300,h=300,m=0,v=0,B=40,Q="move",D={cursorDraggable:"move",cursorBackground:"default"},I=new ze(g/2,h/2);const T=[],w=[];let b=T,x=w,L=null,Y="",q="",K=[];function ae(){e(11,x=Zs.updateSkelleton(p,m,v,g,h,B)),me()}function me(){Mo(x)?(e(13,Y="Site Intersection in Input detected, please remove intersections"),_s.set({sitePoints:[],siteSegments:[],tileWidth:g,tileHeight:h,tileCenter:I,imageOffset:new ze(m,v)})):(e(13,Y=""),_s.set({sitePoints:b.map(N=>we(N,I)),siteSegments:x.map(N=>Ke(N,I)),tileWidth:g,tileHeight:h,tileCenter:I,imageOffset:new ze(m,v)}))}function de(){q=="center"?e(9,I=new ze(g/2,h/2)):q=="ul"&&e(9,I=new ze(0,0)),me()}function Ee(N){Promise.resolve().then(()=>X(N))}function pe(){l=new Image,l.onload=()=>Promise.resolve().then(()=>{p=A.getContext("2d",{willReadFrequently:!0}),p==null||p.clearRect(0,0,Ht.x,Ht.y);let N=Me(l);de(),ae();let te=p.getImageData(m,v,g,h);$s.set({image:l,imageData:N,imageDataProcessed:te})}),l.src=bl}function X(N){var he;e(10,b=[]);let te=(he=N.target)==null?void 0:he.files[0];if(te){let se=new FileReader;se.readAsDataURL(te),se.onload=ke=>{var U;i=(U=ke.target)==null?void 0:U.result,l=new Image,l.onload=()=>Promise.resolve().then(()=>{p=A.getContext("2d",{willReadFrequently:!0}),p==null||p.clearRect(0,0,Ht.x,Ht.y);let V=Me(l);de(),ae();let oe=p.getImageData(m,v,g,h);$s.set({image:l,imageData:V,imageDataProcessed:oe})}),l.src=i}}}function Me(N){if(p==null)return null;let te=p.canvas,he=te.width/N.width,se=te.height/N.height,ke=Math.min(he,se),U=(te.width-N.width*ke)/2,V=(te.height-N.height*ke)/2;e(3,g=Math.floor(N.width*ke)),e(4,h=Math.floor(N.height*ke)),e(5,m=Math.floor(U)),e(6,v=Math.floor(V));let oe=document.createElement("canvas"),$=oe.getContext("2d");oe.width=N.width,oe.height=N.height,$.drawImage(N,0,0);let Z=$.getImageData(0,0,N.width,N.height),le=[];for(let Qe=0;Qe<h;Qe++)for(let gt=0;gt<g;gt++){let Wt=(Math.round(Qe/ke)*N.width+Math.round(gt/ke))*4;le.push(Z.data[Wt]),le.push(Z.data[Wt+1]),le.push(Z.data[Wt+2]),le.push(Z.data[Wt+3])}let Ae=new ImageData(new Uint8ClampedArray(le),g,h);return p.putImageData(Ae,m,v),Ae}function Ve(N){e(7,B=N),Promise.resolve().then(ae)}function we(N,te){return new Qn(N.x-te.x,N.y-te.y,N.color,N.M,N.tileIdx)}function Ke(N,te){return new Wr(N.x1-te.x,N.y1-te.y,N.x2-te.x,N.y2-te.y,N.color,N.M,N.tileIdx)}function ee(){var N=document.createElement("a");N.download="canvas.png",N.href=A.toDataURL(),N.click()}function be(N){return Ar(gs(Ht.x/N.width,Ht.y/N.height,0,0))}function Te(){const N=document.getElementById("previewSvg");if(N!=null){let he=N.appendChild(document.createElement("defs")).appendChild(document.createElement("pattern"));he.setAttribute("id","patternBackground"),he.setAttribute("patternContentUnits","userSpaceOnUse"),he.setAttribute("patternUnits","userSpaceOnUse"),he.setAttribute("patternTransform",ms(be(l))),he.setAttribute("width","1"),he.setAttribute("height","1");let se=he.appendChild(document.createElement("image"));se.setAttribute("href",l.src),se.setAttribute("x",String(0)),se.setAttribute("y",String(0)),se.setAttribute("width",String(g)),se.setAttribute("height",String(h));let ke=N.insertBefore(document.createElement("rect"),N.firstChild);ke.setAttribute("x",String(m)),ke.setAttribute("y",String(v)),ke.setAttribute("width",String(g)),ke.setAttribute("height",String(h)),ke.setAttribute("fill","url(#patternBackground)");const U=new Blob([N.outerHTML],{type:"image/svg+xml"}),V=document.createElement("a");V.href=URL.createObjectURL(U),V.download="preview.svg",V.click()}}function We(N){var te=null,he=null,se=N.target;se.addEventListener("mousedown",ke),se.addEventListener("mousemove",U),se.addEventListener("mouseup",V),se.addEventListener("mouseleave",V),se.addEventListener("touchstart",ke),se.addEventListener("touchmove",U),se.addEventListener("touchend",V),se.addEventListener("touchcancel",V);function ke($){Q=="move"?$.target.classList.contains("draggable")&&(te=$.target,he=oe($),he.x-=parseFloat(te.getAttributeNS(null,"cx")),he.y-=parseFloat(te.getAttributeNS(null,"cy"))):Q=="add"?(e(10,b=[...b,new Qn($.offsetX-m,$.offsetY-v)]),me()):Q=="addSegment"&&(L==null?e(12,L=new Wr($.offsetX-m,$.offsetY-v,$.offsetX-m,$.offsetY-v)):(e(12,L.x2=$.offsetX-m,L),e(12,L.y2=$.offsetY-v,L),e(11,x=[...x,L]),e(12,L=null),me()))}function U($){if(te!=null){$.preventDefault();var Z=oe($);if(te.classList.contains("tileCenter"))te.setAttributeNS(null,"cx",Z.x-he.x),te.setAttributeNS(null,"cy",Z.y-he.y),e(9,I.x=Z.x-he.x,I),e(9,I.y=Z.y-he.y,I);else if(te.classList.contains("sitePoint")){te.setAttributeNS(null,"cx",Z.x-he.x),te.setAttributeNS(null,"cy",Z.y-he.y);let le=Number(te.id.substring(10));e(10,b[le].x=Z.x-he.x,b),e(10,b[le].y=Z.y-he.y,b)}else if(te.classList.contains("siteSegmentPoint")){te.setAttributeNS(null,"cx",Z.x-he.x),te.setAttributeNS(null,"cy",Z.y-he.y);let le=Number(te.id.substring(17)),Ae;le%2==0?(Ae=x[le/2],Ae.x1=Z.x-he.x,Ae.y1=Z.y-he.y,Ae.connected_12.forEach(Qe=>{Qe.x2=Ae.x1,Qe.y2=Ae.y1}),Ae.connected_11.forEach(Qe=>{Qe.x1=Ae.x1,Qe.y1=Ae.y1})):(Ae=x[(le-1)/2],Ae.x2=Z.x-he.x,Ae.y2=Z.y-he.y,Ae.connected_21.forEach(Qe=>{Qe.x1=Ae.x2,Qe.y1=Ae.y2}),Ae.connected_22.forEach(Qe=>{Qe.x2=Ae.x2,Qe.y2=Ae.y2})),e(11,x=[...x])}}if(L!=null){var Z=oe($);e(12,L.x2=Z.x-m,L),e(12,L.y2=Z.y-v,L),e(12,L)}}function V($){Q=="move"&&te!=null&&(te=null,me())}function oe($){var Z=se.getScreenCTM();let le=0,Ae=0;return $.touches&&$.touches[0]&&!Number.isNaN($.touches[0].clientX)&&$.touches[0].clientY?(le=$.touches[0].clientX,Ae=$.touches[0].clientY):!Number.isNaN($.clientX)&&!Number.isNaN($.clientX)?(le=$.clientX,Ae=$.clientY):console.log($),{x:(le-Z.e)/Z.a,y:(Ae-Z.f)/Z.d}}}function Ue(N){e(8,Q=N),Q=="move"?(e(25,D.cursorDraggable="move",D),e(25,D.cursorBackground="default",D)):Q=="add"||Q=="addSegment"?(e(25,D.cursorDraggable="default",D),e(25,D.cursorBackground="crosshair",D)):Q=="delete"&&(e(25,D.cursorDraggable="default",D),e(25,D.cursorBackground="default",D)),Q!="addSegment"&&e(12,L=null)}function ft(N){if(Q=="delete"&&N.target.classList.contains("siteSegmentPoint")){let te=Number(N.target.id.substring(17));te%2==0?te=te/2:te=(te-1)/2,x.splice(te,1),e(11,x=[...x]),me()}}function tt(N){if(console.log("sitePointClick"),Q=="delete"&&N.target.classList.contains("sitePoint")){let te=Number(N.target.id.substring(10));b.splice(te,1),e(10,b),me()}}To(async()=>{Ts.subscribe(N=>{q=N.origin,de()}),ea.subscribe(N=>{e(14,K=N)}),await ml.load(),me()});const Xt=()=>{Ue("move")},lt=()=>{Ue("move")},Ie=()=>{Ue("addSegment")},j=()=>{Ue("addSegment")},ct=()=>{Ue("delete")},Nt=()=>{Ue("delete")};function Rt(N){Dt[N?"unshift":"push"](()=>{A=N,e(1,A)})}const Se=N=>tt(N),Fe=N=>ft(N),kt=N=>ft(N);function Ye(N){Dt[N?"unshift":"push"](()=>{u=N,e(2,u)})}const yt=N=>Ve(N.detail.value),st=()=>{o.click()},At=()=>{pe()},ut=()=>{ee()},Je=()=>{Te()},Pe=N=>Ee(N);function Ze(N){Dt[N?"unshift":"push"](()=>{o=N,e(0,o)})}return n.$$.update=()=>{n.$$.dirty[0]&33554432&&e(15,r=Object.entries(D).map(([N,te])=>`--${N}:${te}`).join(";"))},[o,A,u,g,h,m,v,B,Q,I,b,x,L,Y,K,r,Ee,pe,Ve,ee,Te,We,Ue,ft,tt,D,Xt,lt,Ie,j,ct,Nt,Rt,Se,Fe,kt,Ye,yt,st,At,ut,Je,Pe,Ze]}class Nl extends Ln{constructor(t){super(),Pn(this,t,Fl,Tl,kn,{},null,[-1,-1,-1])}}var Rl=(()=>{var n=import.meta.url;return function(t={}){var e=t,r,i;e.ready=new Promise((c,f)=>{r=c,i=f}),["getExceptionMessage","$incrementExceptionRefcount","$decrementExceptionRefcount","_memory","__Z7computeNSt3__26vectorIdNS_9allocatorIdEEEENS0_IiNS1_IiEEEES5_S5_S5_S5_S5_","___indirect_function_table","onRuntimeInitialized"].forEach(c=>{Object.getOwnPropertyDescriptor(e.ready,c)||Object.defineProperty(e.ready,c,{get:()=>Ie("You are getting "+c+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>Ie("You are setting "+c+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var o=Object.assign({},e),A=!0,p=!1,u=!1,l=!1;if(e.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var g="";function h(c){return e.locateFile?e.locateFile(c,g):g+c}if(typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),n&&(g=n),g.startsWith("blob:")?g="":g=g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1),!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var m=e.print||console.log.bind(console),v=e.printErr||console.error.bind(console);Object.assign(e,o),o=null,Ji(),e.arguments&&e.arguments,Pe("arguments","arguments_"),e.thisProgram&&e.thisProgram,Pe("thisProgram","thisProgram"),e.quit&&e.quit,Pe("quit","quit_"),I(typeof e.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),I(typeof e.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),I(typeof e.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),I(typeof e.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),I(typeof e.read>"u","Module.read option was removed (modify read_ in JS)"),I(typeof e.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),I(typeof e.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),I(typeof e.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),I(typeof e.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Pe("asm","wasmExports"),Pe("read","read_"),Pe("readAsync","readAsync"),Pe("readBinary","readBinary"),Pe("setWindowTitle","setWindowTitle"),I(!p,"worker environment detected but not enabled at build time.  Add `worker` to `-sENVIRONMENT` to enable."),I(!u,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),I(!l,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var B;e.wasmBinary&&(B=e.wasmBinary),Pe("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&v("no native wasm support detected");var Q,D=!1;function I(c,f){c||Ie("Assertion failed"+(f?": "+f:""))}var T,w,b,x,L,Y,q,K;function ae(){var c=Q.buffer;e.HEAP8=T=new Int8Array(c),e.HEAP16=b=new Int16Array(c),e.HEAPU8=w=new Uint8Array(c),e.HEAPU16=x=new Uint16Array(c),e.HEAP32=L=new Int32Array(c),e.HEAPU32=Y=new Uint32Array(c),e.HEAPF32=q=new Float32Array(c),e.HEAPF64=K=new Float64Array(c)}I(!e.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),I(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),I(!e.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),I(!e.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function me(){var c=or();I((c&3)==0),c==0&&(c+=4),Y[c>>2]=34821223,Y[c+4>>2]=2310721022,Y[0]=1668509029}function de(){if(!D){var c=or();c==0&&(c+=4);var f=Y[c>>2],y=Y[c+4>>2];(f!=34821223||y!=2310721022)&&Ie(`Stack overflow! Stack cookie has been overwritten at ${Ae(c)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Ae(y)} ${Ae(f)}`),Y[0]!=1668509029&&Ie("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var c=new Int16Array(1),f=new Int8Array(c.buffer);if(c[0]=25459,f[0]!==115||f[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var Ee=[],pe=[],X=[],Me=!1;function Ve(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)ee(e.preRun.shift());ke(Ee)}function we(){I(!Me),Me=!0,de(),ke(pe)}function Ke(){if(de(),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Te(e.postRun.shift());ke(X)}function ee(c){Ee.unshift(c)}function be(c){pe.unshift(c)}function Te(c){X.unshift(c)}I(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),I(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),I(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),I(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var We=0,Ue=null,ft=null,tt={};function Xt(c){var f;We++,(f=e.monitorRunDependencies)==null||f.call(e,We),c?(I(!tt[c]),tt[c]=1,Ue===null&&typeof setInterval<"u"&&(Ue=setInterval(()=>{if(D){clearInterval(Ue),Ue=null;return}var y=!1;for(var F in tt)y||(y=!0,v("still waiting on run dependencies:")),v(`dependency: ${F}`);y&&v("(end of list)")},1e4))):v("warning: run dependency added without ID")}function lt(c){var y;if(We--,(y=e.monitorRunDependencies)==null||y.call(e,We),c?(I(tt[c]),delete tt[c]):v("warning: run dependency removed without ID"),We==0&&(Ue!==null&&(clearInterval(Ue),Ue=null),ft)){var f=ft;ft=null,f()}}function Ie(c){var y;(y=e.onAbort)==null||y.call(e,c),c="Aborted("+c+")",v(c),D=!0;var f=new WebAssembly.RuntimeError(c);throw i(f),f}var j={error(){Ie("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){j.error()},createDataFile(){j.error()},createPreloadedFile(){j.error()},createLazyFile(){j.error()},open(){j.error()},mkdev(){j.error()},registerDevice(){j.error()},analyzePath(){j.error()},ErrnoError(){j.error()}};e.FS_createDataFile=j.createDataFile,e.FS_createPreloadedFile=j.createPreloadedFile;var ct="data:application/octet-stream;base64,",Nt=c=>c.startsWith(ct),Rt=c=>c.startsWith("file://");function Se(c){return(...f)=>{I(Me,`native function \`${c}\` called before runtime initialization`);var y=Kt[c];return I(y,`exported native function \`${c}\` not found`),y(...f)}}class Fe extends Error{}class kt extends Fe{constructor(f){super(f),this.excPtr=f;const y=le(f);this.name=y[0],this.message=y[1]}}var Ye;e.locateFile?(Ye="wasmVoronoi.wasm",Nt(Ye)||(Ye=h(Ye))):Ye=new URL("/escherization/assets/wasmVoronoi-CNpWi7lj.wasm",import.meta.url).href;function yt(c){if(c==Ye&&B)return new Uint8Array(B);throw"both async and sync fetching of the wasm failed"}function st(c){return!B&&A&&typeof fetch=="function"?fetch(c,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw`failed to load wasm binary file at '${c}'`;return f.arrayBuffer()}).catch(()=>yt(c)):Promise.resolve().then(()=>yt(c))}function At(c,f,y){return st(c).then(F=>WebAssembly.instantiate(F,f)).then(y,F=>{v(`failed to asynchronously prepare wasm: ${F}`),Rt(Ye)&&v(`warning: Loading from a file URI (${Ye}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),Ie(F)})}function ut(c,f,y,F){return!c&&typeof WebAssembly.instantiateStreaming=="function"&&!Nt(f)&&typeof fetch=="function"?fetch(f,{credentials:"same-origin"}).then(s=>{var a=WebAssembly.instantiateStreaming(s,y);return a.then(F,function(_){return v(`wasm streaming compile failed: ${_}`),v("falling back to ArrayBuffer instantiation"),At(f,y,F)})}):At(f,y,F)}function Je(){var c={env:Hr,wasi_snapshot_preview1:Hr};function f(s,a){return Kt=s.exports,Q=Kt.memory,I(Q,"memory not found in wasm exports"),ae(),On=Kt.__indirect_function_table,I(On,"table not found in wasm exports"),be(Kt.__wasm_call_ctors),lt("wasm-instantiate"),Kt}Xt("wasm-instantiate");var y=e;function F(s){I(e===y,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),y=null,f(s.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(c,f)}catch(s){v(`Module.instantiateWasm callback failed with error: ${s}`),i(s)}return ut(B,Ye,c,F).catch(i),{}}function Pe(c,f,y=!0){Object.getOwnPropertyDescriptor(e,c)||Object.defineProperty(e,c,{configurable:!0,get(){let F=y?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";Ie(`\`Module.${c}\` has been replaced by \`${f}\``+F)}})}function Ze(c){Object.getOwnPropertyDescriptor(e,c)&&Ie(`\`Module.${c}\` was supplied but \`${c}\` not included in INCOMING_MODULE_JS_API`)}function N(c){return c==="FS_createPath"||c==="FS_createDataFile"||c==="FS_createPreloadedFile"||c==="FS_unlink"||c==="addRunDependency"||c==="FS_createLazyFile"||c==="FS_createDevice"||c==="removeRunDependency"}function te(c,f){typeof globalThis<"u"&&Object.defineProperty(globalThis,c,{configurable:!0,get(){Qe(`\`${c}\` is not longer defined by emscripten. ${f}`)}})}te("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),te("asm","Please use wasmExports instead");function he(c){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,c)&&Object.defineProperty(globalThis,c,{configurable:!0,get(){var f=`\`${c}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,y=c;y.startsWith("_")||(y="$"+c),f+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${y}')`,N(c)&&(f+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Qe(f)}}),se(c)}function se(c){Object.getOwnPropertyDescriptor(e,c)||Object.defineProperty(e,c,{configurable:!0,get(){var f=`'${c}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;N(c)&&(f+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Ie(f)}})}var ke=c=>{for(;c.length>0;)c.shift()(e)},U=c=>{var f=it(),y=c();return $e(f),y},V=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,oe=(c,f,y)=>{for(var F=f+y,s=f;c[s]&&!(s>=F);)++s;if(s-f>16&&c.buffer&&V)return V.decode(c.subarray(f,s));for(var a="";f<s;){var _=c[f++];if(!(_&128)){a+=String.fromCharCode(_);continue}var C=c[f++]&63;if((_&224)==192){a+=String.fromCharCode((_&31)<<6|C);continue}var E=c[f++]&63;if((_&240)==224?_=(_&15)<<12|C<<6|E:((_&248)!=240&&Qe("Invalid UTF-8 leading byte "+Ae(_)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),_=(_&7)<<18|C<<12|E<<6|c[f++]&63),_<65536)a+=String.fromCharCode(_);else{var S=_-65536;a+=String.fromCharCode(55296|S>>10,56320|S&1023)}}return a},$=(c,f)=>(I(typeof c=="number",`UTF8ToString expects a number (got ${typeof c})`),c?oe(w,c,f):""),Z=c=>U(()=>{var f=yn(4),y=yn(4);Xi(c,f,y);var F=Y[f>>2],s=Y[y>>2],a=$(F);Yt(F);var _;return s&&(_=$(s),Yt(s)),[a,_]}),le=c=>Z(c);e.getExceptionMessage=le,e.noExitRuntime;var Ae=c=>(I(typeof c=="number"),c>>>=0,"0x"+c.toString(16).padStart(8,"0")),Qe=c=>{Qe.shown||(Qe.shown={}),Qe.shown[c]||(Qe.shown[c]=1,v(c))},gt=(c,f,y,F)=>{Ie(`Assertion failed: ${$(c)}, at: `+[f?$(f):"unknown filename",y,F?$(F):"unknown function"])},Wt=c=>{var f=new rn(c);return f.get_caught()||f.set_caught(!0),f.set_rethrown(!1),ni(f.excPtr),f.get_exception_ptr()},Mt=0;class rn{constructor(f){this.excPtr=f,this.ptr=f-24}set_type(f){Y[this.ptr+4>>2]=f}get_type(){return Y[this.ptr+4>>2]}set_destructor(f){Y[this.ptr+8>>2]=f}get_destructor(){return Y[this.ptr+8>>2]}set_caught(f){f=f?1:0,T[this.ptr+12]=f}get_caught(){return T[this.ptr+12]!=0}set_rethrown(f){f=f?1:0,T[this.ptr+13]=f}get_rethrown(){return T[this.ptr+13]!=0}init(f,y){this.set_adjusted_ptr(0),this.set_type(f),this.set_destructor(y)}set_adjusted_ptr(f){Y[this.ptr+16>>2]=f}get_adjusted_ptr(){return Y[this.ptr+16>>2]}get_exception_ptr(){var f=qi(this.get_type());if(f)return Y[this.excPtr>>2];var y=this.get_adjusted_ptr();return y!==0?y:this.excPtr}}var mn=c=>{throw Mt||(Mt=new kt(c)),Mt},sn=c=>{var f=Mt==null?void 0:Mt.excPtr;if(!f)return Jn(0),0;var y=new rn(f);y.set_adjusted_ptr(f);var F=y.get_type();if(!F)return Jn(0),f;for(var s in c){var a=c[s];if(a===0||a===F)break;var _=y.ptr+16;if(Wi(a,F,_))return Jn(a),f}return Jn(F),f},Xn=()=>sn([]),Wn=c=>sn([c]),Dn=(c,f,y)=>{var F=new rn(c);throw F.init(f,y),Mt=new kt(c),Mt},Jt={},tn=c=>{for(;c.length;){var f=c.pop(),y=c.pop();y(f)}};function qt(c){return this.fromWireType(Y[c>>2])}var jt={},Pt={},zt={},an,Zt=c=>{throw new an(c)},Gt=(c,f,y)=>{c.forEach(function(C){zt[C]=f});function F(C){var E=y(C);E.length!==c.length&&Zt("Mismatched type converter count");for(var S=0;S<c.length;++S)bt(c[S],E[S])}var s=new Array(f.length),a=[],_=0;f.forEach((C,E)=>{Pt.hasOwnProperty(C)?s[E]=Pt[C]:(a.push(C),jt.hasOwnProperty(C)||(jt[C]=[]),jt[C].push(()=>{s[E]=Pt[C],++_,_===a.length&&F(s)}))}),a.length===0&&F(s)},dn=c=>{var f=Jt[c];delete Jt[c];var y=f.rawConstructor,F=f.rawDestructor,s=f.fields,a=s.map(_=>_.getterReturnType).concat(s.map(_=>_.setterArgumentType));Gt([c],a,_=>{var C={};return s.forEach((E,S)=>{var R=E.fieldName,P=_[S],G=E.getter,W=E.getterContext,J=_[S+s.length],_e=E.setter,Le=E.setterContext;C[R]={read:Et=>P.fromWireType(G(W,Et)),write:(Et,et)=>{var Bt=[];_e(Le,Et,J.toWireType(Bt,et)),tn(Bt)}}}),[{name:f.name,fromWireType:E=>{var S={};for(var R in C)S[R]=C[R].read(E);return F(E),S},toWireType:(E,S)=>{for(var R in C)if(!(R in S))throw new TypeError(`Missing field: "${R}"`);var P=y();for(R in C)C[R].write(P,S[R]);return E!==null&&E.push(F,P),P},argPackAdvance:M,readValueFromPointer:qt,destructorFunction:F}]})},on=(c,f,y,F,s)=>{},In=()=>{for(var c=new Array(256),f=0;f<256;++f)c[f]=String.fromCharCode(f);An=c},An,at=c=>{for(var f="",y=c;w[y];)f+=An[w[y++]];return f},wt,ue=c=>{throw new wt(c)};function Un(c,f,y={}){var F=f.name;if(c||ue(`type "${F}" must have a positive integer typeid pointer`),Pt.hasOwnProperty(c)){if(y.ignoreDuplicateRegistrations)return;ue(`Cannot register type '${F}' twice`)}if(Pt[c]=f,delete zt[c],jt.hasOwnProperty(c)){var s=jt[c];delete jt[c],s.forEach(a=>a())}}function bt(c,f,y={}){if(!("argPackAdvance"in f))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Un(c,f,y)}var M=8,ce=(c,f,y,F)=>{f=at(f),bt(c,{name:f,fromWireType:function(s){return!!s},toWireType:function(s,a){return a?y:F},argPackAdvance:M,readValueFromPointer:function(s){return this.fromWireType(w[s])},destructorFunction:null})},Ce=c=>({count:c.count,deleteScheduled:c.deleteScheduled,preservePointerOnDelete:c.preservePointerOnDelete,ptr:c.ptr,ptrType:c.ptrType,smartPtr:c.smartPtr,smartPtrType:c.smartPtrType}),Ge=c=>{function f(y){return y.$$.ptrType.registeredClass.name}ue(f(c)+" instance already deleted")},ve=!1,nt=c=>{},dt=c=>{c.smartPtr?c.smartPtrType.rawDestructor(c.smartPtr):c.ptrType.registeredClass.rawDestructor(c.ptr)},Oe=c=>{c.count.value-=1;var f=c.count.value===0;f&&dt(c)},rt=(c,f,y)=>{if(f===y)return c;if(y.baseClass===void 0)return null;var F=rt(c,f,y.baseClass);return F===null?null:y.downcast(F)},_t={},Qt=()=>Object.keys(Ct).length,De=()=>{var c=[];for(var f in Ct)Ct.hasOwnProperty(f)&&c.push(Ct[f]);return c},ye=[],ge=()=>{for(;ye.length;){var c=ye.pop();c.$$.deleteScheduled=!1,c.delete()}},xe,He=c=>{xe=c,ye.length&&xe&&xe(ge)},tr=()=>{e.getInheritedInstanceCount=Qt,e.getLiveInheritedInstances=De,e.flushPendingDeletes=ge,e.setDelayFunction=He},Ct={},Sr=(c,f)=>{for(f===void 0&&ue("ptr should not be undefined");c.baseClass;)f=c.upcast(f),c=c.baseClass;return f},hr=(c,f)=>(f=Sr(c,f),Ct[f]),ot=(c,f)=>{(!f.ptrType||!f.ptr)&&Zt("makeClassHandle requires ptr and ptrType");var y=!!f.smartPtrType,F=!!f.smartPtr;return y!==F&&Zt("Both smartPtrType and smartPtr must be specified"),f.count={value:1},fn(Object.create(c,{$$:{value:f,writable:!0}}))};function Tn(c){var f=this.getPointee(c);if(!f)return this.destructor(c),null;var y=hr(this.registeredClass,f);if(y!==void 0){if(y.$$.count.value===0)return y.$$.ptr=f,y.$$.smartPtr=c,y.clone();var F=y.clone();return this.destructor(c),F}function s(){return this.isSmartPointer?ot(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:f,smartPtrType:this,smartPtr:c}):ot(this.registeredClass.instancePrototype,{ptrType:this,ptr:c})}var a=this.registeredClass.getActualType(f),_=_t[a];if(!_)return s.call(this);var C;this.isConst?C=_.constPointerType:C=_.pointerType;var E=rt(f,this.registeredClass,C.registeredClass);return E===null?s.call(this):this.isSmartPointer?ot(C.registeredClass.instancePrototype,{ptrType:C,ptr:E,smartPtrType:this,smartPtr:c}):ot(C.registeredClass.instancePrototype,{ptrType:C,ptr:E})}var fn=c=>typeof FinalizationRegistry>"u"?(fn=f=>f,c):(ve=new FinalizationRegistry(f=>{console.warn(f.leakWarning.stack.replace(/^Error: /,"")),Oe(f.$$)}),fn=f=>{var y=f.$$,F=!!y.smartPtr;if(F){var s={$$:y},a=y.ptrType.registeredClass;s.leakWarning=new Error(`Embind found a leaked C++ instance ${a.name} <${Ae(y.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`),"captureStackTrace"in Error&&Error.captureStackTrace(s.leakWarning,Tn),ve.register(f,s,f)}return f},nt=f=>ve.unregister(f),fn(c)),pr=()=>{Object.assign(vn.prototype,{isAliasOf(c){if(!(this instanceof vn)||!(c instanceof vn))return!1;var f=this.$$.ptrType.registeredClass,y=this.$$.ptr;c.$$=c.$$;for(var F=c.$$.ptrType.registeredClass,s=c.$$.ptr;f.baseClass;)y=f.upcast(y),f=f.baseClass;for(;F.baseClass;)s=F.upcast(s),F=F.baseClass;return f===F&&y===s},clone(){if(this.$$.ptr||Ge(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var c=fn(Object.create(Object.getPrototypeOf(this),{$$:{value:Ce(this.$$)}}));return c.$$.count.value+=1,c.$$.deleteScheduled=!1,c},delete(){this.$$.ptr||Ge(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ue("Object already scheduled for deletion"),nt(this),Oe(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Ge(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ue("Object already scheduled for deletion"),ye.push(this),ye.length===1&&xe&&xe(ge),this.$$.deleteScheduled=!0,this}})};function vn(){}var _n=(c,f)=>Object.defineProperty(f,"name",{value:c}),qn=(c,f,y)=>{if(c[f].overloadTable===void 0){var F=c[f];c[f]=function(...s){return c[f].overloadTable.hasOwnProperty(s.length)||ue(`Function '${y}' called with an invalid number of arguments (${s.length}) - expects one of (${c[f].overloadTable})!`),c[f].overloadTable[s.length].apply(this,s)},c[f].overloadTable=[],c[f].overloadTable[F.argCount]=F}},xn=(c,f,y)=>{e.hasOwnProperty(c)?((y===void 0||e[c].overloadTable!==void 0&&e[c].overloadTable[y]!==void 0)&&ue(`Cannot register public name '${c}' twice`),qn(e,c,c),e.hasOwnProperty(y)&&ue(`Cannot register multiple overloads of a function with the same number of arguments (${y})!`),e[c].overloadTable[y]=f):(e[c]=f,y!==void 0&&(e[c].numArguments=y))},Ne=48,qe=57,Cn=c=>{if(c===void 0)return"_unknown";c=c.replace(/[^a-zA-Z0-9_]/g,"$");var f=c.charCodeAt(0);return f>=Ne&&f<=qe?`_${c}`:c};function mr(c,f,y,F,s,a,_,C){this.name=c,this.constructor=f,this.instancePrototype=y,this.rawDestructor=F,this.baseClass=s,this.getActualType=a,this.upcast=_,this.downcast=C,this.pureVirtualFunctions=[]}var nn=(c,f,y)=>{for(;f!==y;)f.upcast||ue(`Expected null or instance of ${y.name}, got an instance of ${f.name}`),c=f.upcast(c),f=f.baseClass;return c};function hn(c,f){if(f===null)return this.isReference&&ue(`null is not a valid ${this.name}`),0;f.$$||ue(`Cannot pass "${ln(f)}" as a ${this.name}`),f.$$.ptr||ue(`Cannot pass deleted object as a pointer of type ${this.name}`);var y=f.$$.ptrType.registeredClass,F=nn(f.$$.ptr,y,this.registeredClass);return F}function nr(c,f){var y;if(f===null)return this.isReference&&ue(`null is not a valid ${this.name}`),this.isSmartPointer?(y=this.rawConstructor(),c!==null&&c.push(this.rawDestructor,y),y):0;(!f||!f.$$)&&ue(`Cannot pass "${ln(f)}" as a ${this.name}`),f.$$.ptr||ue(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&f.$$.ptrType.isConst&&ue(`Cannot convert argument of type ${f.$$.smartPtrType?f.$$.smartPtrType.name:f.$$.ptrType.name} to parameter type ${this.name}`);var F=f.$$.ptrType.registeredClass;if(y=nn(f.$$.ptr,F,this.registeredClass),this.isSmartPointer)switch(f.$$.smartPtr===void 0&&ue("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:f.$$.smartPtrType===this?y=f.$$.smartPtr:ue(`Cannot convert argument of type ${f.$$.smartPtrType?f.$$.smartPtrType.name:f.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:y=f.$$.smartPtr;break;case 2:if(f.$$.smartPtrType===this)y=f.$$.smartPtr;else{var s=f.clone();y=this.rawShare(y,Hn.toHandle(()=>s.delete())),c!==null&&c.push(this.rawDestructor,y)}break;default:ue("Unsupporting sharing policy")}return y}function rr(c,f){if(f===null)return this.isReference&&ue(`null is not a valid ${this.name}`),0;f.$$||ue(`Cannot pass "${ln(f)}" as a ${this.name}`),f.$$.ptr||ue(`Cannot pass deleted object as a pointer of type ${this.name}`),f.$$.ptrType.isConst&&ue(`Cannot convert argument of type ${f.$$.ptrType.name} to parameter type ${this.name}`);var y=f.$$.ptrType.registeredClass,F=nn(f.$$.ptr,y,this.registeredClass);return F}var Ir=()=>{Object.assign(pn.prototype,{getPointee(c){return this.rawGetPointee&&(c=this.rawGetPointee(c)),c},destructor(c){var f;(f=this.rawDestructor)==null||f.call(this,c)},argPackAdvance:M,readValueFromPointer:qt,fromWireType:Tn})};function pn(c,f,y,F,s,a,_,C,E,S,R){this.name=c,this.registeredClass=f,this.isReference=y,this.isConst=F,this.isSmartPointer=s,this.pointeeType=a,this.sharingPolicy=_,this.rawGetPointee=C,this.rawConstructor=E,this.rawShare=S,this.rawDestructor=R,!s&&f.baseClass===void 0?F?(this.toWireType=hn,this.destructorFunction=null):(this.toWireType=rr,this.destructorFunction=null):this.toWireType=nr}var xt=(c,f,y)=>{e.hasOwnProperty(c)||Zt("Replacing nonexistent public symbol"),e[c].overloadTable!==void 0&&y!==void 0?e[c].overloadTable[y]=f:(e[c]=f,e[c].argCount=y)},vr=(c,f,y)=>{I("dynCall_"+c in e,`bad function pointer type - dynCall function not found for sig '${c}'`),y!=null&&y.length?I(y.length===c.substring(1).replace(/j/g,"--").length):I(c.length==1);var F=e["dynCall_"+c];return F(f,...y)},Yn=[],On,je=c=>{var f=Yn[c];return f||(c>=Yn.length&&(Yn.length=c+1),Yn[c]=f=On.get(c)),I(On.get(c)==f,"JavaScript-side Wasm function table mirror is out of date!"),f},kr=(c,f,y=[])=>{if(c.includes("j"))return vr(c,f,y);I(je(f),`missing table entry in dynCall: ${f}`);var F=je(f)(...y);return F},qr=(c,f)=>(I(c.includes("j")||c.includes("p"),"getDynCaller should only be called with i64 sigs"),(...y)=>kr(c,f,y)),Tt=(c,f)=>{c=at(c);function y(){return c.includes("j")?qr(c,f):je(f)}var F=y();return typeof F!="function"&&ue(`unknown function pointer with signature ${c}: ${f}`),F},pi=(c,f)=>{var y=_n(f,function(F){this.name=f,this.message=F;var s=new Error(F).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return y.prototype=Object.create(c.prototype),y.prototype.constructor=y,y.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},y},Dr,Tr=c=>{var f=ji(c),y=at(f);return Yt(f),y},Gn=(c,f)=>{var y=[],F={};function s(a){if(!F[a]&&!Pt[a]){if(zt[a]){zt[a].forEach(s);return}y.push(a),F[a]=!0}}throw f.forEach(s),new Dr(`${c}: `+y.map(Tr).join([", "]))},mi=(c,f,y,F,s,a,_,C,E,S,R,P,G)=>{R=at(R),a=Tt(s,a),C&&(C=Tt(_,C)),S&&(S=Tt(E,S)),G=Tt(P,G);var W=Cn(R);xn(W,function(){Gn(`Cannot construct ${R} due to unbound types`,[F])}),Gt([c,f,y],F?[F]:[],J=>{var $t;J=J[0];var _e,Le;F?(_e=J.registeredClass,Le=_e.instancePrototype):Le=vn.prototype;var Et=_n(R,function(...jr){if(Object.getPrototypeOf(this)!==et)throw new wt("Use 'new' to construct "+R);if(Bt.constructor_body===void 0)throw new wt(R+" has no accessible constructor");var Xr=Bt.constructor_body[jr.length];if(Xr===void 0)throw new wt(`Tried to invoke ctor of ${R} with invalid number of parameters (${jr.length}) - expected (${Object.keys(Bt.constructor_body).toString()}) parameters instead!`);return Xr.apply(this,jr)}),et=Object.create(Le,{constructor:{value:Et}});Et.prototype=et;var Bt=new mr(R,Et,et,G,_e,a,C,S);Bt.baseClass&&(($t=Bt.baseClass).__derivedClasses??($t.__derivedClasses=[]),Bt.baseClass.__derivedClasses.push(Bt));var En=new pn(R,Bt,!0,!1,!1),bn=new pn(R+"*",Bt,!1,!1,!1),Zn=new pn(R+" const*",Bt,!1,!0,!1);return _t[c]={pointerType:bn,constPointerType:Zn},xt(W,Et),[En,bn,Zn]})},ir=(c,f)=>{for(var y=[],F=0;F<c;F++)y.push(Y[f+F*4>>2]);return y};function Fr(c){for(var f=1;f<c.length;++f)if(c[f]!==null&&c[f].destructorFunction===void 0)return!0;return!1}function Cr(c,f){if(!(c instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof c} which is not a function`);var y=_n(c.name||"unknownFunctionName",function(){});y.prototype=c.prototype;var F=new y,s=c.apply(F,f);return s instanceof Object?s:F}function zr(c,f,y,F){for(var s=Fr(c),a=c.length,_="",C="",E=0;E<a-2;++E)_+=(E!==0?", ":"")+"arg"+E,C+=(E!==0?", ":"")+"arg"+E+"Wired";var S=`
        return function (${_}) {
        if (arguments.length !== ${a-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${a-2}');
        }`;s&&(S+=`var destructors = [];
`);var R=s?"destructors":"null",P=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];f&&(S+="var thisWired = classParam['toWireType']("+R+`, this);
`);for(var E=0;E<a-2;++E)S+="var arg"+E+"Wired = argType"+E+"['toWireType']("+R+", arg"+E+`);
`,P.push("argType"+E);if(f&&(C="thisWired"+(C.length>0?", ":"")+C),S+=(y||F?"var rv = ":"")+"invoker(fn"+(C.length>0?", ":"")+C+`);
`,s)S+=`runDestructors(destructors);
`;else for(var E=f?1:2;E<c.length;++E){var G=E===1?"thisWired":"arg"+(E-2)+"Wired";c[E].destructorFunction!==null&&(S+=`${G}_dtor(${G});
`,P.push(`${G}_dtor`))}return y&&(S+=`var ret = retType['fromWireType'](rv);
return ret;
`),S+=`}
`,S=`if (arguments.length !== ${P.length}){ throw new Error(humanName + "Expected ${P.length} closure arguments " + arguments.length + " given."); }
${S}`,[P,S]}function sr(c,f,y,F,s,a){var _=f.length;_<2&&ue("argTypes array size mismatch! Must at least get return value and 'this' types!"),I(!a,"Async bindings are only supported with JSPI.");for(var C=f[1]!==null&&y!==null,E=Fr(f),S=f[0].name!=="void",R=[c,ue,F,s,tn,f[0],f[1]],P=0;P<_-2;++P)R.push(f[P+2]);if(!E)for(var P=C?1:2;P<f.length;++P)f[P].destructorFunction!==null&&R.push(f[P].destructorFunction);let[G,W]=zr(f,C,S,a);G.push(W);var J=Cr(Function,G)(...R);return _n(c,J)}var Ii=(c,f,y,F,s,a)=>{I(f>0);var _=ir(f,y);s=Tt(F,s),Gt([],[c],C=>{C=C[0];var E=`constructor ${C.name}`;if(C.registeredClass.constructor_body===void 0&&(C.registeredClass.constructor_body=[]),C.registeredClass.constructor_body[f-1]!==void 0)throw new wt(`Cannot register multiple constructors with identical number of parameters (${f-1}) for class '${C.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return C.registeredClass.constructor_body[f-1]=()=>{Gn(`Cannot construct ${C.name} due to unbound types`,_)},Gt([],_,S=>(S.splice(1,0,null),C.registeredClass.constructor_body[f-1]=sr(E,S,null,s,a),[])),[]})},Nr=c=>{c=c.trim();const f=c.indexOf("(");return f!==-1?(I(c[c.length-1]==")","Parentheses for argument names should match."),c.substr(0,f)):c},vi=(c,f,y,F,s,a,_,C,E)=>{var S=ir(y,F);f=at(f),f=Nr(f),a=Tt(s,a),Gt([],[c],R=>{R=R[0];var P=`${R.name}.${f}`;f.startsWith("@@")&&(f=Symbol[f.substring(2)]),C&&R.registeredClass.pureVirtualFunctions.push(f);function G(){Gn(`Cannot call ${P} due to unbound types`,S)}var W=R.registeredClass.instancePrototype,J=W[f];return J===void 0||J.overloadTable===void 0&&J.className!==R.name&&J.argCount===y-2?(G.argCount=y-2,G.className=R.name,W[f]=G):(qn(W,f,P),W[f].overloadTable[y-2]=G),Gt([],S,_e=>{var Le=sr(P,_e,R,a,_,E);return W[f].overloadTable===void 0?(Le.argCount=y-2,W[f]=Le):W[f].overloadTable[y-2]=Le,[]}),[]})},ar=[],Ft=[],Rr=c=>{c>9&&--Ft[c+1]===0&&(I(Ft[c]!==void 0,"Decref for unallocated handle."),Ft[c]=void 0,ar.push(c))},Ci=()=>Ft.length/2-5-ar.length,yi=()=>{Ft.push(0,1,void 0,1,null,1,!0,1,!1,1),I(Ft.length===5*2),e.count_emval_handles=Ci},Hn={toValue:c=>(c||ue("Cannot use deleted val. handle = "+c),I(c===2||Ft[c]!==void 0&&c%2===0,`invalid handle: ${c}`),Ft[c]),toHandle:c=>{switch(c){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const f=ar.pop()||Ft.length;return Ft[f]=c,Ft[f+1]=1,f}}}},Ei={name:"emscripten::val",fromWireType:c=>{var f=Hn.toValue(c);return Rr(c),f},toWireType:(c,f)=>Hn.toHandle(f),argPackAdvance:M,readValueFromPointer:qt,destructorFunction:null},Mr=c=>bt(c,Ei),ln=c=>{if(c===null)return"null";var f=typeof c;return f==="object"||f==="array"||f==="function"?c.toString():""+c},yr=(c,f)=>{switch(f){case 4:return function(y){return this.fromWireType(q[y>>2])};case 8:return function(y){return this.fromWireType(K[y>>3])};default:throw new TypeError(`invalid float width (${f}): ${c}`)}},Pr=(c,f,y)=>{f=at(f),bt(c,{name:f,fromWireType:F=>F,toWireType:(F,s)=>{if(typeof s!="number"&&typeof s!="boolean")throw new TypeError(`Cannot convert ${ln(s)} to ${this.name}`);return s},argPackAdvance:M,readValueFromPointer:yr(f,y),destructorFunction:null})},Vn=(c,f,y,F,s,a,_)=>{var C=ir(f,y);c=at(c),c=Nr(c),s=Tt(F,s),xn(c,function(){Gn(`Cannot call ${c} due to unbound types`,C)},f-1),Gt([],C,E=>{var S=[E[0],null].concat(E.slice(1));return xt(c,sr(c,S,null,s,a,_),f-1),[]})},Kr=(c,f,y)=>{switch(f){case 1:return y?F=>T[F]:F=>w[F];case 2:return y?F=>b[F>>1]:F=>x[F>>1];case 4:return y?F=>L[F>>2]:F=>Y[F>>2];default:throw new TypeError(`invalid integer width (${f}): ${c}`)}},Zr=(c,f,y,F,s)=>{f=at(f),s===-1&&(s=4294967295);var a=R=>R;if(F===0){var _=32-8*y;a=R=>R<<_>>>_}var C=f.includes("unsigned"),E=(R,P)=>{if(typeof R!="number"&&typeof R!="boolean")throw new TypeError(`Cannot convert "${ln(R)}" to ${P}`);if(R<F||R>s)throw new TypeError(`Passing a number "${ln(R)}" from JS side to C/C++ side to an argument of type "${f}", which is outside the valid range [${F}, ${s}]!`)},S;C?S=function(R,P){return E(P,this.name),P>>>0}:S=function(R,P){return E(P,this.name),P},bt(c,{name:f,fromWireType:a,toWireType:S,argPackAdvance:M,readValueFromPointer:Kr(f,y,F!==0),destructorFunction:null})},bi=(c,f,y)=>{var F=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=F[f];function a(_){var C=Y[_>>2],E=Y[_+4>>2];return new s(T.buffer,E,C)}y=at(y),bt(c,{name:y,fromWireType:a,argPackAdvance:M,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},Bi=(c,f)=>{Mr(c)},wi=(c,f,y,F)=>{if(I(typeof c=="string",`stringToUTF8Array expects a string (got ${typeof c})`),!(F>0))return 0;for(var s=y,a=y+F-1,_=0;_<c.length;++_){var C=c.charCodeAt(_);if(C>=55296&&C<=57343){var E=c.charCodeAt(++_);C=65536+((C&1023)<<10)|E&1023}if(C<=127){if(y>=a)break;f[y++]=C}else if(C<=2047){if(y+1>=a)break;f[y++]=192|C>>6,f[y++]=128|C&63}else if(C<=65535){if(y+2>=a)break;f[y++]=224|C>>12,f[y++]=128|C>>6&63,f[y++]=128|C&63}else{if(y+3>=a)break;C>1114111&&Qe("Invalid Unicode code point "+Ae(C)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),f[y++]=240|C>>18,f[y++]=128|C>>12&63,f[y++]=128|C>>6&63,f[y++]=128|C&63}}return f[y]=0,y-s},zn=(c,f,y)=>(I(typeof y=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),wi(c,w,f,y)),Lr=c=>{for(var f=0,y=0;y<c.length;++y){var F=c.charCodeAt(y);F<=127?f++:F<=2047?f+=2:F>=55296&&F<=57343?(f+=4,++y):f+=3}return f},Qi=(c,f)=>{f=at(f);var y=f==="std::string";bt(c,{name:f,fromWireType(F){var s=Y[F>>2],a=F+4,_;if(y)for(var C=a,E=0;E<=s;++E){var S=a+E;if(E==s||w[S]==0){var R=S-C,P=$(C,R);_===void 0?_=P:(_+="\0",_+=P),C=S+1}}else{for(var G=new Array(s),E=0;E<s;++E)G[E]=String.fromCharCode(w[a+E]);_=G.join("")}return Yt(F),_},toWireType(F,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var a,_=typeof s=="string";_||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||ue("Cannot pass non-string to std::string"),y&&_?a=Lr(s):a=s.length;var C=Vr(4+a+1),E=C+4;if(Y[C>>2]=a,y&&_)zn(s,E,a+1);else if(_)for(var S=0;S<a;++S){var R=s.charCodeAt(S);R>255&&(Yt(E),ue("String has UTF-16 code units that do not fit in 8 bits")),w[E+S]=R}else for(var S=0;S<a;++S)w[E+S]=s[S];return F!==null&&F.push(Yt,C),C},argPackAdvance:M,readValueFromPointer:qt,destructorFunction(F){Yt(F)}})},Fn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Si=(c,f)=>{I(c%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var y=c,F=y>>1,s=F+f/2;!(F>=s)&&x[F];)++F;if(y=F<<1,y-c>32&&Fn)return Fn.decode(w.subarray(c,y));for(var a="",_=0;!(_>=f/2);++_){var C=b[c+_*2>>1];if(C==0)break;a+=String.fromCharCode(C)}return a},Ur=(c,f,y)=>{if(I(f%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),I(typeof y=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),y??(y=2147483647),y<2)return 0;y-=2;for(var F=f,s=y<c.length*2?y/2:c.length,a=0;a<s;++a){var _=c.charCodeAt(a);b[f>>1]=_,f+=2}return b[f>>1]=0,f-F},ki=c=>c.length*2,Di=(c,f)=>{I(c%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var y=0,F="";!(y>=f/4);){var s=L[c+y*4>>2];if(s==0)break;if(++y,s>=65536){var a=s-65536;F+=String.fromCharCode(55296|a>>10,56320|a&1023)}else F+=String.fromCharCode(s)}return F},xr=(c,f,y)=>{if(I(f%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),I(typeof y=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),y??(y=2147483647),y<4)return 0;for(var F=f,s=F+y-4,a=0;a<c.length;++a){var _=c.charCodeAt(a);if(_>=55296&&_<=57343){var C=c.charCodeAt(++a);_=65536+((_&1023)<<10)|C&1023}if(L[f>>2]=_,f+=4,f+4>s)break}return L[f>>2]=0,f-F},Yr=c=>{for(var f=0,y=0;y<c.length;++y){var F=c.charCodeAt(y);F>=55296&&F<=57343&&++y,f+=4}return f},$r=(c,f,y)=>{y=at(y);var F,s,a,_;f===2?(F=Si,s=Ur,_=ki,a=C=>x[C>>1]):f===4&&(F=Di,s=xr,_=Yr,a=C=>Y[C>>2]),bt(c,{name:y,fromWireType:C=>{for(var E=Y[C>>2],S,R=C+4,P=0;P<=E;++P){var G=C+4+P*f;if(P==E||a(G)==0){var W=G-R,J=F(R,W);S===void 0?S=J:(S+="\0",S+=J),R=G+f}}return Yt(C),S},toWireType:(C,E)=>{typeof E!="string"&&ue(`Cannot pass non-string to C++ string type ${y}`);var S=_(E),R=Vr(4+S+f);return Y[R>>2]=S/f,s(E,R+4,S+f),C!==null&&C.push(Yt,R),R},argPackAdvance:M,readValueFromPointer:qt,destructorFunction(C){Yt(C)}})},Or=(c,f,y,F,s,a)=>{Jt[c]={name:at(f),rawConstructor:Tt(y,F),rawDestructor:Tt(s,a),fields:[]}},ei=(c,f,y,F,s,a,_,C,E,S)=>{Jt[c].fields.push({fieldName:at(f),getterReturnType:y,getter:Tt(F,s),getterContext:a,setterArgumentType:_,setter:Tt(C,E),setterContext:S})},Ti=(c,f)=>{f=at(f),bt(c,{isVoid:!0,name:f,argPackAdvance:0,fromWireType:()=>{},toWireType:(y,F)=>{}})},Fi=(c,f)=>{var y=Pt[c];return y===void 0&&ue(`${f} has unknown type ${Tr(c)}`),y},Ni=(c,f)=>{c=Fi(c,"_emval_take_value");var y=c.readValueFromPointer(f);return Hn.toHandle(y)},Ri=()=>{Ie("native code called abort()")},Mi=(c,f,y)=>w.copyWithin(c,f,f+y),Pi=c=>{Ie(`Cannot enlarge memory arrays to size ${c} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${T.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)},Li=c=>{w.length,c>>>=0,Pi(c)},Er=c=>{Ie("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},Kn=(c,f)=>(I(c==c>>>0||c==(c|0)),I(f===(f|0)),f+2097152>>>0<4194305-!!c?(c>>>0)+f*4294967296:NaN);function ti(c,f,y,F,s){return Kn(f,y),70}var Ui=[null,[],[]],xi=(c,f)=>{var y=Ui[c];I(y),f===0||f===10?((c===1?m:v)(oe(y,0)),y.length=0):y.push(f)},Yi=(c,f,y,F)=>{for(var s=0,a=0;a<y;a++){var _=Y[f>>2],C=Y[f+4>>2];f+=8;for(var E=0;E<C;E++)xi(c,w[_+E]);s+=C}return Y[F>>2]=s,0},Oi=c=>{var f=e["_"+c];return I(f,"Cannot call unknown function "+c+", make sure it is exported"),f},Gi=(c,f)=>{I(c.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),T.set(c,f)},Hi=c=>{var f=Lr(c)+1,y=yn(f);return zn(c,y,f),y},Gr=(c,f,y,F,s)=>{var a={string:J=>{var _e=0;return J!=null&&J!==0&&(_e=Hi(J)),_e},array:J=>{var _e=yn(J.length);return Gi(J,_e),_e}};function _(J){return f==="string"?$(J):f==="boolean"?!!J:J}var C=Oi(c),E=[],S=0;if(I(f!=="array",'Return type should not be "array".'),F)for(var R=0;R<F.length;R++){var P=a[y[R]];P?(S===0&&(S=it()),E[R]=P(F[R])):E[R]=F[R]}var G=C(...E);function W(J){return S!==0&&$e(S),_(J)}return G=W(G),G},Vi=(c,f,y,F)=>(...s)=>Gr(c,f,y,s);an=e.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},In(),wt=e.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},pr(),tr(),Ir(),Dr=e.UnboundTypeError=pi(Error,"UnboundTypeError"),yi();function Ji(){Ze("fetchSettings")}var Hr={__assert_fail:gt,__cxa_begin_catch:Wt,__cxa_find_matching_catch_2:Xn,__cxa_find_matching_catch_3:Wn,__cxa_throw:Dn,__resumeException:mn,_embind_finalize_value_object:dn,_embind_register_bigint:on,_embind_register_bool:ce,_embind_register_class:mi,_embind_register_class_constructor:Ii,_embind_register_class_function:vi,_embind_register_emval:Mr,_embind_register_float:Pr,_embind_register_function:Vn,_embind_register_integer:Zr,_embind_register_memory_view:bi,_embind_register_optional:Bi,_embind_register_std_string:Qi,_embind_register_std_wstring:$r,_embind_register_value_object:Or,_embind_register_value_object_field:ei,_embind_register_void:Ti,_emval_take_value:Ni,abort:Ri,emscripten_memcpy_js:Mi,emscripten_resize_heap:Li,fd_close:Er,fd_seek:ti,fd_write:Yi,invoke_ii:zi,invoke_iii:Ki,invoke_iiii:rs,invoke_iiiii:ai,invoke_iiiiii:ii,invoke_iiiiiiii:ns,invoke_v:es,invoke_vi:$i,invoke_vii:ts,invoke_viii:ss,invoke_viiii:Zi,invoke_viiiii:ri,invoke_viiiiiiii:is,invoke_viiiiiiiiii:si},Kt=Je();e.__Z7computeNSt3__26vectorIdNS_9allocatorIdEEEENS0_IiNS1_IiEEEES5_S5_S5_S5_S5_=Se("_Z7computeNSt3__26vectorIdNS_9allocatorIdEEEENS0_IiNS1_IiEEEES5_S5_S5_S5_S5_");var ji=Se("__getTypeName"),Vr=Se("malloc"),Yt=Se("free"),ht=Se("setThrew"),Jn=Se("setTempRet0"),Jr=()=>(Jr=Kt.emscripten_stack_init)(),or=()=>(or=Kt.emscripten_stack_get_end)(),it=Se("stackSave"),$e=Se("stackRestore"),yn=Se("stackAlloc"),ni=Se("__cxa_increment_exception_refcount"),Xi=Se("__get_exception_message"),Wi=Se("__cxa_can_catch"),qi=Se("__cxa_is_pointer_type");e.dynCall_jiji=Se("dynCall_jiji");function zi(c,f){var y=it();try{return je(c)(f)}catch(F){if($e(y),!(F instanceof Fe))throw F;ht(1,0)}}function Ki(c,f,y){var F=it();try{return je(c)(f,y)}catch(s){if($e(F),!(s instanceof Fe))throw s;ht(1,0)}}function Zi(c,f,y,F,s){var a=it();try{je(c)(f,y,F,s)}catch(_){if($e(a),!(_ instanceof Fe))throw _;ht(1,0)}}function $i(c,f){var y=it();try{je(c)(f)}catch(F){if($e(y),!(F instanceof Fe))throw F;ht(1,0)}}function es(c){var f=it();try{je(c)()}catch(y){if($e(f),!(y instanceof Fe))throw y;ht(1,0)}}function ts(c,f,y){var F=it();try{je(c)(f,y)}catch(s){if($e(F),!(s instanceof Fe))throw s;ht(1,0)}}function ri(c,f,y,F,s,a){var _=it();try{je(c)(f,y,F,s,a)}catch(C){if($e(_),!(C instanceof Fe))throw C;ht(1,0)}}function ns(c,f,y,F,s,a,_,C){var E=it();try{return je(c)(f,y,F,s,a,_,C)}catch(S){if($e(E),!(S instanceof Fe))throw S;ht(1,0)}}function rs(c,f,y,F){var s=it();try{return je(c)(f,y,F)}catch(a){if($e(s),!(a instanceof Fe))throw a;ht(1,0)}}function ii(c,f,y,F,s,a){var _=it();try{return je(c)(f,y,F,s,a)}catch(C){if($e(_),!(C instanceof Fe))throw C;ht(1,0)}}function si(c,f,y,F,s,a,_,C,E,S,R){var P=it();try{je(c)(f,y,F,s,a,_,C,E,S,R)}catch(G){if($e(P),!(G instanceof Fe))throw G;ht(1,0)}}function ai(c,f,y,F,s){var a=it();try{return je(c)(f,y,F,s)}catch(_){if($e(a),!(_ instanceof Fe))throw _;ht(1,0)}}function is(c,f,y,F,s,a,_,C,E){var S=it();try{je(c)(f,y,F,s,a,_,C,E)}catch(R){if($e(S),!(R instanceof Fe))throw R;ht(1,0)}}function ss(c,f,y,F){var s=it();try{je(c)(f,y,F)}catch(a){if($e(s),!(a instanceof Fe))throw a;ht(1,0)}}e.ccall=Gr,e.cwrap=Vi;var oi=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","growMemory","isLeapYear","ydayFromDate","arraySum","addDays","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","Browser_asyncPrepareDataCounter","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_createDataFile","FS_unlink","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","getFunctionArgsName","createJsInvokerSignature","registerInheritedInstance","unregisterInheritedInstance","enumReadValueFromPointer","validateThis","getStringOrSymbol","emval_get_global","emval_returnValue","emval_lookupTypes","emval_addMethodCaller"];oi.forEach(he);var as=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","abortOnCannotGrowMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","jstoi_s","dynCallLegacy","getDynCaller","dynCall","wasmTable","noExitRuntime","getCFunc","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","getPreloadedImageData__data","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","createJsInvoker","UnboundTypeError","PureVirtualError","GenericWireTypeSize","EmValType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","registeredPointers","registerType","integerReadValueFromPointer","floatReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_methodCallers","reflectConstruct"];as.forEach(se);var br;ft=function c(){br||li(),br||(ft=c)};function os(){Jr(),me()}function li(){if(We>0||(os(),Ve(),We>0))return;function c(){br||(br=!0,e.calledRun=!0,!D&&(we(),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),I(!e._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),Ke()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),c()},1)):c(),de()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return li(),t.ready}})(),Ml=(()=>{var n=import.meta.url;return function(t={}){var e=t,r,i;e.ready=new Promise((s,a)=>{r=s,i=a}),["getExceptionMessage","$incrementExceptionRefcount","$decrementExceptionRefcount","_memory","__Z15getMorphOutlineiifNSt3__26vectorIhNS_9allocatorIhEEEENS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE","__Z7getBBoxNSt3__26vectorI11FeatureLineNS_9allocatorIS1_EEEENS0_IdNS2_IdEEEE","__Z7doMorphiiffffNSt3__26vectorIhNS_9allocatorIhEEEES3_NS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE","___indirect_function_table","onRuntimeInitialized"].forEach(s=>{Object.getOwnPropertyDescriptor(e.ready,s)||Object.defineProperty(e.ready,s,{get:()=>Ie("You are getting "+s+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>Ie("You are setting "+s+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var o=Object.assign({},e),A=!0,p=!1,u=!1,l=!1;if(e.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var g="";function h(s){return e.locateFile?e.locateFile(s,g):g+s}if(typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),n&&(g=n),g.startsWith("blob:")?g="":g=g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1),!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var m=e.print||console.log.bind(console),v=e.printErr||console.error.bind(console);Object.assign(e,o),o=null,Ji(),e.arguments&&e.arguments,Pe("arguments","arguments_"),e.thisProgram&&e.thisProgram,Pe("thisProgram","thisProgram"),e.quit&&e.quit,Pe("quit","quit_"),I(typeof e.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),I(typeof e.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),I(typeof e.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),I(typeof e.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),I(typeof e.read>"u","Module.read option was removed (modify read_ in JS)"),I(typeof e.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),I(typeof e.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),I(typeof e.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),I(typeof e.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Pe("asm","wasmExports"),Pe("read","read_"),Pe("readAsync","readAsync"),Pe("readBinary","readBinary"),Pe("setWindowTitle","setWindowTitle"),I(!p,"worker environment detected but not enabled at build time.  Add `worker` to `-sENVIRONMENT` to enable."),I(!u,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),I(!l,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var B;e.wasmBinary&&(B=e.wasmBinary),Pe("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&v("no native wasm support detected");var Q,D=!1;function I(s,a){s||Ie("Assertion failed"+(a?": "+a:""))}var T,w,b,x,L,Y,q,K;function ae(){var s=Q.buffer;e.HEAP8=T=new Int8Array(s),e.HEAP16=b=new Int16Array(s),e.HEAPU8=w=new Uint8Array(s),e.HEAPU16=x=new Uint16Array(s),e.HEAP32=L=new Int32Array(s),e.HEAPU32=Y=new Uint32Array(s),e.HEAPF32=q=new Float32Array(s),e.HEAPF64=K=new Float64Array(s)}I(!e.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),I(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),I(!e.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),I(!e.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function me(){var s=or();I((s&3)==0),s==0&&(s+=4),Y[s>>2]=34821223,Y[s+4>>2]=2310721022,Y[0]=1668509029}function de(){if(!D){var s=or();s==0&&(s+=4);var a=Y[s>>2],_=Y[s+4>>2];(a!=34821223||_!=2310721022)&&Ie(`Stack overflow! Stack cookie has been overwritten at ${Ae(s)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Ae(_)} ${Ae(a)}`),Y[0]!=1668509029&&Ie("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var s=new Int16Array(1),a=new Int8Array(s.buffer);if(s[0]=25459,a[0]!==115||a[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var Ee=[],pe=[],X=[],Me=!1;function Ve(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)ee(e.preRun.shift());ke(Ee)}function we(){I(!Me),Me=!0,de(),ke(pe)}function Ke(){if(de(),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Te(e.postRun.shift());ke(X)}function ee(s){Ee.unshift(s)}function be(s){pe.unshift(s)}function Te(s){X.unshift(s)}I(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),I(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),I(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),I(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var We=0,Ue=null,ft=null,tt={};function Xt(s){var a;We++,(a=e.monitorRunDependencies)==null||a.call(e,We),s?(I(!tt[s]),tt[s]=1,Ue===null&&typeof setInterval<"u"&&(Ue=setInterval(()=>{if(D){clearInterval(Ue),Ue=null;return}var _=!1;for(var C in tt)_||(_=!0,v("still waiting on run dependencies:")),v(`dependency: ${C}`);_&&v("(end of list)")},1e4))):v("warning: run dependency added without ID")}function lt(s){var _;if(We--,(_=e.monitorRunDependencies)==null||_.call(e,We),s?(I(tt[s]),delete tt[s]):v("warning: run dependency removed without ID"),We==0&&(Ue!==null&&(clearInterval(Ue),Ue=null),ft)){var a=ft;ft=null,a()}}function Ie(s){var _;(_=e.onAbort)==null||_.call(e,s),s="Aborted("+s+")",v(s),D=!0;var a=new WebAssembly.RuntimeError(s);throw i(a),a}var j={error(){Ie("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){j.error()},createDataFile(){j.error()},createPreloadedFile(){j.error()},createLazyFile(){j.error()},open(){j.error()},mkdev(){j.error()},registerDevice(){j.error()},analyzePath(){j.error()},ErrnoError(){j.error()}};e.FS_createDataFile=j.createDataFile,e.FS_createPreloadedFile=j.createPreloadedFile;var ct="data:application/octet-stream;base64,",Nt=s=>s.startsWith(ct),Rt=s=>s.startsWith("file://");function Se(s){return(...a)=>{I(Me,`native function \`${s}\` called before runtime initialization`);var _=Kt[s];return I(_,`exported native function \`${s}\` not found`),_(...a)}}class Fe extends Error{}class kt extends Fe{constructor(a){super(a),this.excPtr=a;const _=le(a);this.name=_[0],this.message=_[1]}}var Ye;e.locateFile?(Ye="wasmMorph.wasm",Nt(Ye)||(Ye=h(Ye))):Ye=new URL("/escherization/assets/wasmMorph-8dEaH1kH.wasm",import.meta.url).href;function yt(s){if(s==Ye&&B)return new Uint8Array(B);throw"both async and sync fetching of the wasm failed"}function st(s){return!B&&A&&typeof fetch=="function"?fetch(s,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw`failed to load wasm binary file at '${s}'`;return a.arrayBuffer()}).catch(()=>yt(s)):Promise.resolve().then(()=>yt(s))}function At(s,a,_){return st(s).then(C=>WebAssembly.instantiate(C,a)).then(_,C=>{v(`failed to asynchronously prepare wasm: ${C}`),Rt(Ye)&&v(`warning: Loading from a file URI (${Ye}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),Ie(C)})}function ut(s,a,_,C){return!s&&typeof WebAssembly.instantiateStreaming=="function"&&!Nt(a)&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(E=>{var S=WebAssembly.instantiateStreaming(E,_);return S.then(C,function(R){return v(`wasm streaming compile failed: ${R}`),v("falling back to ArrayBuffer instantiation"),At(a,_,C)})}):At(a,_,C)}function Je(){var s={env:Hr,wasi_snapshot_preview1:Hr};function a(E,S){return Kt=E.exports,Q=Kt.memory,I(Q,"memory not found in wasm exports"),ae(),On=Kt.__indirect_function_table,I(On,"table not found in wasm exports"),be(Kt.__wasm_call_ctors),lt("wasm-instantiate"),Kt}Xt("wasm-instantiate");var _=e;function C(E){I(e===_,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),_=null,a(E.instance)}if(e.instantiateWasm)try{return e.instantiateWasm(s,a)}catch(E){v(`Module.instantiateWasm callback failed with error: ${E}`),i(E)}return ut(B,Ye,s,C).catch(i),{}}function Pe(s,a,_=!0){Object.getOwnPropertyDescriptor(e,s)||Object.defineProperty(e,s,{configurable:!0,get(){let C=_?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";Ie(`\`Module.${s}\` has been replaced by \`${a}\``+C)}})}function Ze(s){Object.getOwnPropertyDescriptor(e,s)&&Ie(`\`Module.${s}\` was supplied but \`${s}\` not included in INCOMING_MODULE_JS_API`)}function N(s){return s==="FS_createPath"||s==="FS_createDataFile"||s==="FS_createPreloadedFile"||s==="FS_unlink"||s==="addRunDependency"||s==="FS_createLazyFile"||s==="FS_createDevice"||s==="removeRunDependency"}function te(s,a){typeof globalThis<"u"&&Object.defineProperty(globalThis,s,{configurable:!0,get(){Qe(`\`${s}\` is not longer defined by emscripten. ${a}`)}})}te("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),te("asm","Please use wasmExports instead");function he(s){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,s)&&Object.defineProperty(globalThis,s,{configurable:!0,get(){var a=`\`${s}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,_=s;_.startsWith("_")||(_="$"+s),a+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${_}')`,N(s)&&(a+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Qe(a)}}),se(s)}function se(s){Object.getOwnPropertyDescriptor(e,s)||Object.defineProperty(e,s,{configurable:!0,get(){var a=`'${s}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;N(s)&&(a+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Ie(a)}})}var ke=s=>{for(;s.length>0;)s.shift()(e)},U=s=>{var a=it(),_=s();return $e(a),_},V=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,oe=(s,a,_)=>{for(var C=a+_,E=a;s[E]&&!(E>=C);)++E;if(E-a>16&&s.buffer&&V)return V.decode(s.subarray(a,E));for(var S="";a<E;){var R=s[a++];if(!(R&128)){S+=String.fromCharCode(R);continue}var P=s[a++]&63;if((R&224)==192){S+=String.fromCharCode((R&31)<<6|P);continue}var G=s[a++]&63;if((R&240)==224?R=(R&15)<<12|P<<6|G:((R&248)!=240&&Qe("Invalid UTF-8 leading byte "+Ae(R)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),R=(R&7)<<18|P<<12|G<<6|s[a++]&63),R<65536)S+=String.fromCharCode(R);else{var W=R-65536;S+=String.fromCharCode(55296|W>>10,56320|W&1023)}}return S},$=(s,a)=>(I(typeof s=="number",`UTF8ToString expects a number (got ${typeof s})`),s?oe(w,s,a):""),Z=s=>U(()=>{var a=yn(4),_=yn(4);Xi(s,a,_);var C=Y[a>>2],E=Y[_>>2],S=$(C);Yt(C);var R;return E&&(R=$(E),Yt(E)),[S,R]}),le=s=>Z(s);e.getExceptionMessage=le,e.noExitRuntime;var Ae=s=>(I(typeof s=="number"),s>>>=0,"0x"+s.toString(16).padStart(8,"0")),Qe=s=>{Qe.shown||(Qe.shown={}),Qe.shown[s]||(Qe.shown[s]=1,v(s))},gt=(s,a,_,C)=>{Ie(`Assertion failed: ${$(s)}, at: `+[a?$(a):"unknown filename",_,C?$(C):"unknown function"])},Wt=s=>{var a=new rn(s);return a.get_caught()||a.set_caught(!0),a.set_rethrown(!1),ni(a.excPtr),a.get_exception_ptr()},Mt=0;class rn{constructor(a){this.excPtr=a,this.ptr=a-24}set_type(a){Y[this.ptr+4>>2]=a}get_type(){return Y[this.ptr+4>>2]}set_destructor(a){Y[this.ptr+8>>2]=a}get_destructor(){return Y[this.ptr+8>>2]}set_caught(a){a=a?1:0,T[this.ptr+12]=a}get_caught(){return T[this.ptr+12]!=0}set_rethrown(a){a=a?1:0,T[this.ptr+13]=a}get_rethrown(){return T[this.ptr+13]!=0}init(a,_){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(_)}set_adjusted_ptr(a){Y[this.ptr+16>>2]=a}get_adjusted_ptr(){return Y[this.ptr+16>>2]}get_exception_ptr(){var a=qi(this.get_type());if(a)return Y[this.excPtr>>2];var _=this.get_adjusted_ptr();return _!==0?_:this.excPtr}}var mn=s=>{throw Mt||(Mt=new kt(s)),Mt},sn=s=>{var a=Mt==null?void 0:Mt.excPtr;if(!a)return Jn(0),0;var _=new rn(a);_.set_adjusted_ptr(a);var C=_.get_type();if(!C)return Jn(0),a;for(var E in s){var S=s[E];if(S===0||S===C)break;var R=_.ptr+16;if(Wi(S,C,R))return Jn(S),a}return Jn(C),a},Xn=()=>sn([]),Wn=s=>sn([s]),Dn=(s,a,_)=>{var C=new rn(s);throw C.init(a,_),Mt=new kt(s),Mt},Jt={},tn=s=>{for(;s.length;){var a=s.pop(),_=s.pop();_(a)}};function qt(s){return this.fromWireType(Y[s>>2])}var jt={},Pt={},zt={},an,Zt=s=>{throw new an(s)},Gt=(s,a,_)=>{s.forEach(function(P){zt[P]=a});function C(P){var G=_(P);G.length!==s.length&&Zt("Mismatched type converter count");for(var W=0;W<s.length;++W)bt(s[W],G[W])}var E=new Array(a.length),S=[],R=0;a.forEach((P,G)=>{Pt.hasOwnProperty(P)?E[G]=Pt[P]:(S.push(P),jt.hasOwnProperty(P)||(jt[P]=[]),jt[P].push(()=>{E[G]=Pt[P],++R,R===S.length&&C(E)}))}),S.length===0&&C(E)},dn=s=>{var a=Jt[s];delete Jt[s];var _=a.rawConstructor,C=a.rawDestructor,E=a.fields,S=E.map(R=>R.getterReturnType).concat(E.map(R=>R.setterArgumentType));Gt([s],S,R=>{var P={};return E.forEach((G,W)=>{var J=G.fieldName,_e=R[W],Le=G.getter,Et=G.getterContext,et=R[W+E.length],Bt=G.setter,En=G.setterContext;P[J]={read:bn=>_e.fromWireType(Le(Et,bn)),write:(bn,Zn)=>{var $t=[];Bt(En,bn,et.toWireType($t,Zn)),tn($t)}}}),[{name:a.name,fromWireType:G=>{var W={};for(var J in P)W[J]=P[J].read(G);return C(G),W},toWireType:(G,W)=>{for(var J in P)if(!(J in W))throw new TypeError(`Missing field: "${J}"`);var _e=_();for(J in P)P[J].write(_e,W[J]);return G!==null&&G.push(C,_e),_e},argPackAdvance:M,readValueFromPointer:qt,destructorFunction:C}]})},on=(s,a,_,C,E)=>{},In=()=>{for(var s=new Array(256),a=0;a<256;++a)s[a]=String.fromCharCode(a);An=s},An,at=s=>{for(var a="",_=s;w[_];)a+=An[w[_++]];return a},wt,ue=s=>{throw new wt(s)};function Un(s,a,_={}){var C=a.name;if(s||ue(`type "${C}" must have a positive integer typeid pointer`),Pt.hasOwnProperty(s)){if(_.ignoreDuplicateRegistrations)return;ue(`Cannot register type '${C}' twice`)}if(Pt[s]=a,delete zt[s],jt.hasOwnProperty(s)){var E=jt[s];delete jt[s],E.forEach(S=>S())}}function bt(s,a,_={}){if(!("argPackAdvance"in a))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Un(s,a,_)}var M=8,ce=(s,a,_,C)=>{a=at(a),bt(s,{name:a,fromWireType:function(E){return!!E},toWireType:function(E,S){return S?_:C},argPackAdvance:M,readValueFromPointer:function(E){return this.fromWireType(w[E])},destructorFunction:null})},Ce=s=>({count:s.count,deleteScheduled:s.deleteScheduled,preservePointerOnDelete:s.preservePointerOnDelete,ptr:s.ptr,ptrType:s.ptrType,smartPtr:s.smartPtr,smartPtrType:s.smartPtrType}),Ge=s=>{function a(_){return _.$$.ptrType.registeredClass.name}ue(a(s)+" instance already deleted")},ve=!1,nt=s=>{},dt=s=>{s.smartPtr?s.smartPtrType.rawDestructor(s.smartPtr):s.ptrType.registeredClass.rawDestructor(s.ptr)},Oe=s=>{s.count.value-=1;var a=s.count.value===0;a&&dt(s)},rt=(s,a,_)=>{if(a===_)return s;if(_.baseClass===void 0)return null;var C=rt(s,a,_.baseClass);return C===null?null:_.downcast(C)},_t={},Qt=()=>Object.keys(Ct).length,De=()=>{var s=[];for(var a in Ct)Ct.hasOwnProperty(a)&&s.push(Ct[a]);return s},ye=[],ge=()=>{for(;ye.length;){var s=ye.pop();s.$$.deleteScheduled=!1,s.delete()}},xe,He=s=>{xe=s,ye.length&&xe&&xe(ge)},tr=()=>{e.getInheritedInstanceCount=Qt,e.getLiveInheritedInstances=De,e.flushPendingDeletes=ge,e.setDelayFunction=He},Ct={},Sr=(s,a)=>{for(a===void 0&&ue("ptr should not be undefined");s.baseClass;)a=s.upcast(a),s=s.baseClass;return a},hr=(s,a)=>(a=Sr(s,a),Ct[a]),ot=(s,a)=>{(!a.ptrType||!a.ptr)&&Zt("makeClassHandle requires ptr and ptrType");var _=!!a.smartPtrType,C=!!a.smartPtr;return _!==C&&Zt("Both smartPtrType and smartPtr must be specified"),a.count={value:1},fn(Object.create(s,{$$:{value:a,writable:!0}}))};function Tn(s){var a=this.getPointee(s);if(!a)return this.destructor(s),null;var _=hr(this.registeredClass,a);if(_!==void 0){if(_.$$.count.value===0)return _.$$.ptr=a,_.$$.smartPtr=s,_.clone();var C=_.clone();return this.destructor(s),C}function E(){return this.isSmartPointer?ot(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:a,smartPtrType:this,smartPtr:s}):ot(this.registeredClass.instancePrototype,{ptrType:this,ptr:s})}var S=this.registeredClass.getActualType(a),R=_t[S];if(!R)return E.call(this);var P;this.isConst?P=R.constPointerType:P=R.pointerType;var G=rt(a,this.registeredClass,P.registeredClass);return G===null?E.call(this):this.isSmartPointer?ot(P.registeredClass.instancePrototype,{ptrType:P,ptr:G,smartPtrType:this,smartPtr:s}):ot(P.registeredClass.instancePrototype,{ptrType:P,ptr:G})}var fn=s=>typeof FinalizationRegistry>"u"?(fn=a=>a,s):(ve=new FinalizationRegistry(a=>{console.warn(a.leakWarning.stack.replace(/^Error: /,"")),Oe(a.$$)}),fn=a=>{var _=a.$$,C=!!_.smartPtr;if(C){var E={$$:_},S=_.ptrType.registeredClass;E.leakWarning=new Error(`Embind found a leaked C++ instance ${S.name} <${Ae(_.ptr)}>.
We'll free it automatically in this case, but this functionality is not reliable across various environments.
Make sure to invoke .delete() manually once you're done with the instance instead.
Originally allocated`),"captureStackTrace"in Error&&Error.captureStackTrace(E.leakWarning,Tn),ve.register(a,E,a)}return a},nt=a=>ve.unregister(a),fn(s)),pr=()=>{Object.assign(vn.prototype,{isAliasOf(s){if(!(this instanceof vn)||!(s instanceof vn))return!1;var a=this.$$.ptrType.registeredClass,_=this.$$.ptr;s.$$=s.$$;for(var C=s.$$.ptrType.registeredClass,E=s.$$.ptr;a.baseClass;)_=a.upcast(_),a=a.baseClass;for(;C.baseClass;)E=C.upcast(E),C=C.baseClass;return a===C&&_===E},clone(){if(this.$$.ptr||Ge(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var s=fn(Object.create(Object.getPrototypeOf(this),{$$:{value:Ce(this.$$)}}));return s.$$.count.value+=1,s.$$.deleteScheduled=!1,s},delete(){this.$$.ptr||Ge(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ue("Object already scheduled for deletion"),nt(this),Oe(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Ge(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ue("Object already scheduled for deletion"),ye.push(this),ye.length===1&&xe&&xe(ge),this.$$.deleteScheduled=!0,this}})};function vn(){}var _n=(s,a)=>Object.defineProperty(a,"name",{value:s}),qn=(s,a,_)=>{if(s[a].overloadTable===void 0){var C=s[a];s[a]=function(...E){return s[a].overloadTable.hasOwnProperty(E.length)||ue(`Function '${_}' called with an invalid number of arguments (${E.length}) - expects one of (${s[a].overloadTable})!`),s[a].overloadTable[E.length].apply(this,E)},s[a].overloadTable=[],s[a].overloadTable[C.argCount]=C}},xn=(s,a,_)=>{e.hasOwnProperty(s)?((_===void 0||e[s].overloadTable!==void 0&&e[s].overloadTable[_]!==void 0)&&ue(`Cannot register public name '${s}' twice`),qn(e,s,s),e.hasOwnProperty(_)&&ue(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`),e[s].overloadTable[_]=a):(e[s]=a,_!==void 0&&(e[s].numArguments=_))},Ne=48,qe=57,Cn=s=>{if(s===void 0)return"_unknown";s=s.replace(/[^a-zA-Z0-9_]/g,"$");var a=s.charCodeAt(0);return a>=Ne&&a<=qe?`_${s}`:s};function mr(s,a,_,C,E,S,R,P){this.name=s,this.constructor=a,this.instancePrototype=_,this.rawDestructor=C,this.baseClass=E,this.getActualType=S,this.upcast=R,this.downcast=P,this.pureVirtualFunctions=[]}var nn=(s,a,_)=>{for(;a!==_;)a.upcast||ue(`Expected null or instance of ${_.name}, got an instance of ${a.name}`),s=a.upcast(s),a=a.baseClass;return s};function hn(s,a){if(a===null)return this.isReference&&ue(`null is not a valid ${this.name}`),0;a.$$||ue(`Cannot pass "${ln(a)}" as a ${this.name}`),a.$$.ptr||ue(`Cannot pass deleted object as a pointer of type ${this.name}`);var _=a.$$.ptrType.registeredClass,C=nn(a.$$.ptr,_,this.registeredClass);return C}function nr(s,a){var _;if(a===null)return this.isReference&&ue(`null is not a valid ${this.name}`),this.isSmartPointer?(_=this.rawConstructor(),s!==null&&s.push(this.rawDestructor,_),_):0;(!a||!a.$$)&&ue(`Cannot pass "${ln(a)}" as a ${this.name}`),a.$$.ptr||ue(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&a.$$.ptrType.isConst&&ue(`Cannot convert argument of type ${a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name} to parameter type ${this.name}`);var C=a.$$.ptrType.registeredClass;if(_=nn(a.$$.ptr,C,this.registeredClass),this.isSmartPointer)switch(a.$$.smartPtr===void 0&&ue("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:a.$$.smartPtrType===this?_=a.$$.smartPtr:ue(`Cannot convert argument of type ${a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:_=a.$$.smartPtr;break;case 2:if(a.$$.smartPtrType===this)_=a.$$.smartPtr;else{var E=a.clone();_=this.rawShare(_,Hn.toHandle(()=>E.delete())),s!==null&&s.push(this.rawDestructor,_)}break;default:ue("Unsupporting sharing policy")}return _}function rr(s,a){if(a===null)return this.isReference&&ue(`null is not a valid ${this.name}`),0;a.$$||ue(`Cannot pass "${ln(a)}" as a ${this.name}`),a.$$.ptr||ue(`Cannot pass deleted object as a pointer of type ${this.name}`),a.$$.ptrType.isConst&&ue(`Cannot convert argument of type ${a.$$.ptrType.name} to parameter type ${this.name}`);var _=a.$$.ptrType.registeredClass,C=nn(a.$$.ptr,_,this.registeredClass);return C}var Ir=()=>{Object.assign(pn.prototype,{getPointee(s){return this.rawGetPointee&&(s=this.rawGetPointee(s)),s},destructor(s){var a;(a=this.rawDestructor)==null||a.call(this,s)},argPackAdvance:M,readValueFromPointer:qt,fromWireType:Tn})};function pn(s,a,_,C,E,S,R,P,G,W,J){this.name=s,this.registeredClass=a,this.isReference=_,this.isConst=C,this.isSmartPointer=E,this.pointeeType=S,this.sharingPolicy=R,this.rawGetPointee=P,this.rawConstructor=G,this.rawShare=W,this.rawDestructor=J,!E&&a.baseClass===void 0?C?(this.toWireType=hn,this.destructorFunction=null):(this.toWireType=rr,this.destructorFunction=null):this.toWireType=nr}var xt=(s,a,_)=>{e.hasOwnProperty(s)||Zt("Replacing nonexistent public symbol"),e[s].overloadTable!==void 0&&_!==void 0?e[s].overloadTable[_]=a:(e[s]=a,e[s].argCount=_)},vr=(s,a,_)=>{I("dynCall_"+s in e,`bad function pointer type - dynCall function not found for sig '${s}'`),_!=null&&_.length?I(_.length===s.substring(1).replace(/j/g,"--").length):I(s.length==1);var C=e["dynCall_"+s];return C(a,..._)},Yn=[],On,je=s=>{var a=Yn[s];return a||(s>=Yn.length&&(Yn.length=s+1),Yn[s]=a=On.get(s)),I(On.get(s)==a,"JavaScript-side Wasm function table mirror is out of date!"),a},kr=(s,a,_=[])=>{if(s.includes("j"))return vr(s,a,_);I(je(a),`missing table entry in dynCall: ${a}`);var C=je(a)(..._);return C},qr=(s,a)=>(I(s.includes("j")||s.includes("p"),"getDynCaller should only be called with i64 sigs"),(..._)=>kr(s,a,_)),Tt=(s,a)=>{s=at(s);function _(){return s.includes("j")?qr(s,a):je(a)}var C=_();return typeof C!="function"&&ue(`unknown function pointer with signature ${s}: ${a}`),C},pi=(s,a)=>{var _=_n(a,function(C){this.name=a,this.message=C;var E=new Error(C).stack;E!==void 0&&(this.stack=this.toString()+`
`+E.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(s.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},Dr,Tr=s=>{var a=ji(s),_=at(a);return Yt(a),_},Gn=(s,a)=>{var _=[],C={};function E(S){if(!C[S]&&!Pt[S]){if(zt[S]){zt[S].forEach(E);return}_.push(S),C[S]=!0}}throw a.forEach(E),new Dr(`${s}: `+_.map(Tr).join([", "]))},mi=(s,a,_,C,E,S,R,P,G,W,J,_e,Le)=>{J=at(J),S=Tt(E,S),P&&(P=Tt(R,P)),W&&(W=Tt(G,W)),Le=Tt(_e,Le);var Et=Cn(J);xn(Et,function(){Gn(`Cannot construct ${J} due to unbound types`,[C])}),Gt([s,a,_],C?[C]:[],et=>{var Cs;et=et[0];var Bt,En;C?(Bt=et.registeredClass,En=Bt.instancePrototype):En=vn.prototype;var bn=_n(J,function(...ls){if(Object.getPrototypeOf(this)!==Zn)throw new wt("Use 'new' to construct "+J);if($t.constructor_body===void 0)throw new wt(J+" has no accessible constructor");var ys=$t.constructor_body[ls.length];if(ys===void 0)throw new wt(`Tried to invoke ctor of ${J} with invalid number of parameters (${ls.length}) - expected (${Object.keys($t.constructor_body).toString()}) parameters instead!`);return ys.apply(this,ls)}),Zn=Object.create(En,{constructor:{value:bn}});bn.prototype=Zn;var $t=new mr(J,bn,Zn,Le,Bt,S,P,W);$t.baseClass&&((Cs=$t.baseClass).__derivedClasses??(Cs.__derivedClasses=[]),$t.baseClass.__derivedClasses.push($t));var jr=new pn(J,$t,!0,!1,!1),Xr=new pn(J+"*",$t,!1,!1,!1),vs=new pn(J+" const*",$t,!1,!0,!1);return _t[s]={pointerType:Xr,constPointerType:vs},xt(Et,bn),[jr,Xr,vs]})},ir=(s,a)=>{for(var _=[],C=0;C<s;C++)_.push(Y[a+C*4>>2]);return _};function Fr(s){for(var a=1;a<s.length;++a)if(s[a]!==null&&s[a].destructorFunction===void 0)return!0;return!1}function Cr(s,a){if(!(s instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof s} which is not a function`);var _=_n(s.name||"unknownFunctionName",function(){});_.prototype=s.prototype;var C=new _,E=s.apply(C,a);return E instanceof Object?E:C}function zr(s,a,_,C){for(var E=Fr(s),S=s.length,R="",P="",G=0;G<S-2;++G)R+=(G!==0?", ":"")+"arg"+G,P+=(G!==0?", ":"")+"arg"+G+"Wired";var W=`
        return function (${R}) {
        if (arguments.length !== ${S-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${S-2}');
        }`;E&&(W+=`var destructors = [];
`);var J=E?"destructors":"null",_e=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];a&&(W+="var thisWired = classParam['toWireType']("+J+`, this);
`);for(var G=0;G<S-2;++G)W+="var arg"+G+"Wired = argType"+G+"['toWireType']("+J+", arg"+G+`);
`,_e.push("argType"+G);if(a&&(P="thisWired"+(P.length>0?", ":"")+P),W+=(_||C?"var rv = ":"")+"invoker(fn"+(P.length>0?", ":"")+P+`);
`,E)W+=`runDestructors(destructors);
`;else for(var G=a?1:2;G<s.length;++G){var Le=G===1?"thisWired":"arg"+(G-2)+"Wired";s[G].destructorFunction!==null&&(W+=`${Le}_dtor(${Le});
`,_e.push(`${Le}_dtor`))}return _&&(W+=`var ret = retType['fromWireType'](rv);
return ret;
`),W+=`}
`,W=`if (arguments.length !== ${_e.length}){ throw new Error(humanName + "Expected ${_e.length} closure arguments " + arguments.length + " given."); }
${W}`,[_e,W]}function sr(s,a,_,C,E,S){var R=a.length;R<2&&ue("argTypes array size mismatch! Must at least get return value and 'this' types!"),I(!S,"Async bindings are only supported with JSPI.");for(var P=a[1]!==null&&_!==null,G=Fr(a),W=a[0].name!=="void",J=[s,ue,C,E,tn,a[0],a[1]],_e=0;_e<R-2;++_e)J.push(a[_e+2]);if(!G)for(var _e=P?1:2;_e<a.length;++_e)a[_e].destructorFunction!==null&&J.push(a[_e].destructorFunction);let[Le,Et]=zr(a,P,W,S);Le.push(Et);var et=Cr(Function,Le)(...J);return _n(s,et)}var Ii=(s,a,_,C,E,S)=>{I(a>0);var R=ir(a,_);E=Tt(C,E),Gt([],[s],P=>{P=P[0];var G=`constructor ${P.name}`;if(P.registeredClass.constructor_body===void 0&&(P.registeredClass.constructor_body=[]),P.registeredClass.constructor_body[a-1]!==void 0)throw new wt(`Cannot register multiple constructors with identical number of parameters (${a-1}) for class '${P.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return P.registeredClass.constructor_body[a-1]=()=>{Gn(`Cannot construct ${P.name} due to unbound types`,R)},Gt([],R,W=>(W.splice(1,0,null),P.registeredClass.constructor_body[a-1]=sr(G,W,null,E,S),[])),[]})},Nr=s=>{s=s.trim();const a=s.indexOf("(");return a!==-1?(I(s[s.length-1]==")","Parentheses for argument names should match."),s.substr(0,a)):s},vi=(s,a,_,C,E,S,R,P,G)=>{var W=ir(_,C);a=at(a),a=Nr(a),S=Tt(E,S),Gt([],[s],J=>{J=J[0];var _e=`${J.name}.${a}`;a.startsWith("@@")&&(a=Symbol[a.substring(2)]),P&&J.registeredClass.pureVirtualFunctions.push(a);function Le(){Gn(`Cannot call ${_e} due to unbound types`,W)}var Et=J.registeredClass.instancePrototype,et=Et[a];return et===void 0||et.overloadTable===void 0&&et.className!==J.name&&et.argCount===_-2?(Le.argCount=_-2,Le.className=J.name,Et[a]=Le):(qn(Et,a,_e),Et[a].overloadTable[_-2]=Le),Gt([],W,Bt=>{var En=sr(_e,Bt,J,S,R,G);return Et[a].overloadTable===void 0?(En.argCount=_-2,Et[a]=En):Et[a].overloadTable[_-2]=En,[]}),[]})},ar=[],Ft=[],Rr=s=>{s>9&&--Ft[s+1]===0&&(I(Ft[s]!==void 0,"Decref for unallocated handle."),Ft[s]=void 0,ar.push(s))},Ci=()=>Ft.length/2-5-ar.length,yi=()=>{Ft.push(0,1,void 0,1,null,1,!0,1,!1,1),I(Ft.length===5*2),e.count_emval_handles=Ci},Hn={toValue:s=>(s||ue("Cannot use deleted val. handle = "+s),I(s===2||Ft[s]!==void 0&&s%2===0,`invalid handle: ${s}`),Ft[s]),toHandle:s=>{switch(s){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const a=ar.pop()||Ft.length;return Ft[a]=s,Ft[a+1]=1,a}}}},Ei={name:"emscripten::val",fromWireType:s=>{var a=Hn.toValue(s);return Rr(s),a},toWireType:(s,a)=>Hn.toHandle(a),argPackAdvance:M,readValueFromPointer:qt,destructorFunction:null},Mr=s=>bt(s,Ei),ln=s=>{if(s===null)return"null";var a=typeof s;return a==="object"||a==="array"||a==="function"?s.toString():""+s},yr=(s,a)=>{switch(a){case 4:return function(_){return this.fromWireType(q[_>>2])};case 8:return function(_){return this.fromWireType(K[_>>3])};default:throw new TypeError(`invalid float width (${a}): ${s}`)}},Pr=(s,a,_)=>{a=at(a),bt(s,{name:a,fromWireType:C=>C,toWireType:(C,E)=>{if(typeof E!="number"&&typeof E!="boolean")throw new TypeError(`Cannot convert ${ln(E)} to ${this.name}`);return E},argPackAdvance:M,readValueFromPointer:yr(a,_),destructorFunction:null})},Vn=(s,a,_,C,E,S,R)=>{var P=ir(a,_);s=at(s),s=Nr(s),E=Tt(C,E),xn(s,function(){Gn(`Cannot call ${s} due to unbound types`,P)},a-1),Gt([],P,G=>{var W=[G[0],null].concat(G.slice(1));return xt(s,sr(s,W,null,E,S,R),a-1),[]})},Kr=(s,a,_)=>{switch(a){case 1:return _?C=>T[C]:C=>w[C];case 2:return _?C=>b[C>>1]:C=>x[C>>1];case 4:return _?C=>L[C>>2]:C=>Y[C>>2];default:throw new TypeError(`invalid integer width (${a}): ${s}`)}},Zr=(s,a,_,C,E)=>{a=at(a),E===-1&&(E=4294967295);var S=J=>J;if(C===0){var R=32-8*_;S=J=>J<<R>>>R}var P=a.includes("unsigned"),G=(J,_e)=>{if(typeof J!="number"&&typeof J!="boolean")throw new TypeError(`Cannot convert "${ln(J)}" to ${_e}`);if(J<C||J>E)throw new TypeError(`Passing a number "${ln(J)}" from JS side to C/C++ side to an argument of type "${a}", which is outside the valid range [${C}, ${E}]!`)},W;P?W=function(J,_e){return G(_e,this.name),_e>>>0}:W=function(J,_e){return G(_e,this.name),_e},bt(s,{name:a,fromWireType:S,toWireType:W,argPackAdvance:M,readValueFromPointer:Kr(a,_,C!==0),destructorFunction:null})},bi=(s,a,_)=>{var C=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],E=C[a];function S(R){var P=Y[R>>2],G=Y[R+4>>2];return new E(T.buffer,G,P)}_=at(_),bt(s,{name:_,fromWireType:S,argPackAdvance:M,readValueFromPointer:S},{ignoreDuplicateRegistrations:!0})},Bi=(s,a)=>{Mr(s)},wi=(s,a,_,C)=>{if(I(typeof s=="string",`stringToUTF8Array expects a string (got ${typeof s})`),!(C>0))return 0;for(var E=_,S=_+C-1,R=0;R<s.length;++R){var P=s.charCodeAt(R);if(P>=55296&&P<=57343){var G=s.charCodeAt(++R);P=65536+((P&1023)<<10)|G&1023}if(P<=127){if(_>=S)break;a[_++]=P}else if(P<=2047){if(_+1>=S)break;a[_++]=192|P>>6,a[_++]=128|P&63}else if(P<=65535){if(_+2>=S)break;a[_++]=224|P>>12,a[_++]=128|P>>6&63,a[_++]=128|P&63}else{if(_+3>=S)break;P>1114111&&Qe("Invalid Unicode code point "+Ae(P)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),a[_++]=240|P>>18,a[_++]=128|P>>12&63,a[_++]=128|P>>6&63,a[_++]=128|P&63}}return a[_]=0,_-E},zn=(s,a,_)=>(I(typeof _=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),wi(s,w,a,_)),Lr=s=>{for(var a=0,_=0;_<s.length;++_){var C=s.charCodeAt(_);C<=127?a++:C<=2047?a+=2:C>=55296&&C<=57343?(a+=4,++_):a+=3}return a},Qi=(s,a)=>{a=at(a);var _=a==="std::string";bt(s,{name:a,fromWireType(C){var E=Y[C>>2],S=C+4,R;if(_)for(var P=S,G=0;G<=E;++G){var W=S+G;if(G==E||w[W]==0){var J=W-P,_e=$(P,J);R===void 0?R=_e:(R+="\0",R+=_e),P=W+1}}else{for(var Le=new Array(E),G=0;G<E;++G)Le[G]=String.fromCharCode(w[S+G]);R=Le.join("")}return Yt(C),R},toWireType(C,E){E instanceof ArrayBuffer&&(E=new Uint8Array(E));var S,R=typeof E=="string";R||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int8Array||ue("Cannot pass non-string to std::string"),_&&R?S=Lr(E):S=E.length;var P=Vr(4+S+1),G=P+4;if(Y[P>>2]=S,_&&R)zn(E,G,S+1);else if(R)for(var W=0;W<S;++W){var J=E.charCodeAt(W);J>255&&(Yt(G),ue("String has UTF-16 code units that do not fit in 8 bits")),w[G+W]=J}else for(var W=0;W<S;++W)w[G+W]=E[W];return C!==null&&C.push(Yt,P),P},argPackAdvance:M,readValueFromPointer:qt,destructorFunction(C){Yt(C)}})},Fn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Si=(s,a)=>{I(s%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var _=s,C=_>>1,E=C+a/2;!(C>=E)&&x[C];)++C;if(_=C<<1,_-s>32&&Fn)return Fn.decode(w.subarray(s,_));for(var S="",R=0;!(R>=a/2);++R){var P=b[s+R*2>>1];if(P==0)break;S+=String.fromCharCode(P)}return S},Ur=(s,a,_)=>{if(I(a%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),I(typeof _=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),_??(_=2147483647),_<2)return 0;_-=2;for(var C=a,E=_<s.length*2?_/2:s.length,S=0;S<E;++S){var R=s.charCodeAt(S);b[a>>1]=R,a+=2}return b[a>>1]=0,a-C},ki=s=>s.length*2,Di=(s,a)=>{I(s%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var _=0,C="";!(_>=a/4);){var E=L[s+_*4>>2];if(E==0)break;if(++_,E>=65536){var S=E-65536;C+=String.fromCharCode(55296|S>>10,56320|S&1023)}else C+=String.fromCharCode(E)}return C},xr=(s,a,_)=>{if(I(a%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),I(typeof _=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),_??(_=2147483647),_<4)return 0;for(var C=a,E=C+_-4,S=0;S<s.length;++S){var R=s.charCodeAt(S);if(R>=55296&&R<=57343){var P=s.charCodeAt(++S);R=65536+((R&1023)<<10)|P&1023}if(L[a>>2]=R,a+=4,a+4>E)break}return L[a>>2]=0,a-C},Yr=s=>{for(var a=0,_=0;_<s.length;++_){var C=s.charCodeAt(_);C>=55296&&C<=57343&&++_,a+=4}return a},$r=(s,a,_)=>{_=at(_);var C,E,S,R;a===2?(C=Si,E=Ur,R=ki,S=P=>x[P>>1]):a===4&&(C=Di,E=xr,R=Yr,S=P=>Y[P>>2]),bt(s,{name:_,fromWireType:P=>{for(var G=Y[P>>2],W,J=P+4,_e=0;_e<=G;++_e){var Le=P+4+_e*a;if(_e==G||S(Le)==0){var Et=Le-J,et=C(J,Et);W===void 0?W=et:(W+="\0",W+=et),J=Le+a}}return Yt(P),W},toWireType:(P,G)=>{typeof G!="string"&&ue(`Cannot pass non-string to C++ string type ${_}`);var W=R(G),J=Vr(4+W+a);return Y[J>>2]=W/a,E(G,J+4,W+a),P!==null&&P.push(Yt,J),J},argPackAdvance:M,readValueFromPointer:qt,destructorFunction(P){Yt(P)}})},Or=(s,a,_,C,E,S)=>{Jt[s]={name:at(a),rawConstructor:Tt(_,C),rawDestructor:Tt(E,S),fields:[]}},ei=(s,a,_,C,E,S,R,P,G,W)=>{Jt[s].fields.push({fieldName:at(a),getterReturnType:_,getter:Tt(C,E),getterContext:S,setterArgumentType:R,setter:Tt(P,G),setterContext:W})},Ti=(s,a)=>{a=at(a),bt(s,{isVoid:!0,name:a,argPackAdvance:0,fromWireType:()=>{},toWireType:(_,C)=>{}})},Fi=(s,a)=>{var _=Pt[s];return _===void 0&&ue(`${a} has unknown type ${Tr(s)}`),_},Ni=(s,a)=>{s=Fi(s,"_emval_take_value");var _=s.readValueFromPointer(a);return Hn.toHandle(_)},Ri=()=>{Ie("native code called abort()")},Mi=(s,a,_)=>w.copyWithin(s,a,a+_),Pi=s=>{Ie(`Cannot enlarge memory arrays to size ${s} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${T.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)},Li=s=>{w.length,s>>>=0,Pi(s)},Er=s=>{Ie("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},Kn=(s,a)=>(I(s==s>>>0||s==(s|0)),I(a===(a|0)),a+2097152>>>0<4194305-!!s?(s>>>0)+a*4294967296:NaN);function ti(s,a,_,C,E){return Kn(a,_),70}var Ui=[null,[],[]],xi=(s,a)=>{var _=Ui[s];I(_),a===0||a===10?((s===1?m:v)(oe(_,0)),_.length=0):_.push(a)},Yi=(s,a,_,C)=>{for(var E=0,S=0;S<_;S++){var R=Y[a>>2],P=Y[a+4>>2];a+=8;for(var G=0;G<P;G++)xi(s,w[R+G]);E+=P}return Y[C>>2]=E,0},Oi=s=>{var a=e["_"+s];return I(a,"Cannot call unknown function "+s+", make sure it is exported"),a},Gi=(s,a)=>{I(s.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),T.set(s,a)},Hi=s=>{var a=Lr(s)+1,_=yn(a);return zn(s,_,a),_},Gr=(s,a,_,C,E)=>{var S={string:et=>{var Bt=0;return et!=null&&et!==0&&(Bt=Hi(et)),Bt},array:et=>{var Bt=yn(et.length);return Gi(et,Bt),Bt}};function R(et){return a==="string"?$(et):a==="boolean"?!!et:et}var P=Oi(s),G=[],W=0;if(I(a!=="array",'Return type should not be "array".'),C)for(var J=0;J<C.length;J++){var _e=S[_[J]];_e?(W===0&&(W=it()),G[J]=_e(C[J])):G[J]=C[J]}var Le=P(...G);function Et(et){return W!==0&&$e(W),R(et)}return Le=Et(Le),Le},Vi=(s,a,_,C)=>(...E)=>Gr(s,a,_,E);an=e.InternalError=class extends Error{constructor(a){super(a),this.name="InternalError"}},In(),wt=e.BindingError=class extends Error{constructor(a){super(a),this.name="BindingError"}},pr(),tr(),Ir(),Dr=e.UnboundTypeError=pi(Error,"UnboundTypeError"),yi();function Ji(){Ze("fetchSettings")}var Hr={__assert_fail:gt,__cxa_begin_catch:Wt,__cxa_find_matching_catch_2:Xn,__cxa_find_matching_catch_3:Wn,__cxa_throw:Dn,__resumeException:mn,_embind_finalize_value_object:dn,_embind_register_bigint:on,_embind_register_bool:ce,_embind_register_class:mi,_embind_register_class_constructor:Ii,_embind_register_class_function:vi,_embind_register_emval:Mr,_embind_register_float:Pr,_embind_register_function:Vn,_embind_register_integer:Zr,_embind_register_memory_view:bi,_embind_register_optional:Bi,_embind_register_std_string:Qi,_embind_register_std_wstring:$r,_embind_register_value_object:Or,_embind_register_value_object_field:ei,_embind_register_void:Ti,_emval_decref:Rr,_emval_take_value:Ni,abort:Ri,emscripten_memcpy_js:Mi,emscripten_resize_heap:Li,fd_close:Er,fd_seek:ti,fd_write:Yi,invoke_i:ss,invoke_ii:ts,invoke_iidd:es,invoke_iii:Zi,invoke_iiii:Ki,invoke_iiiii:si,invoke_v:os,invoke_vi:oi,invoke_vii:zi,invoke_viii:$i,invoke_viiif:ii,invoke_viiiffffiiiii:as,invoke_viiifffi:ai,invoke_viiifiiii:br,invoke_viiii:is,invoke_viiiiii:rs,invoke_viiiiiiii:ns,invoke_viiiiiiiiii:ri},Kt=Je();e.__Z15getMorphOutlineiifNSt3__26vectorIhNS_9allocatorIhEEEENS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE=Se("_Z15getMorphOutlineiifNSt3__26vectorIhNS_9allocatorIhEEEENS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE"),e.__Z7getBBoxNSt3__26vectorI11FeatureLineNS_9allocatorIS1_EEEENS0_IdNS2_IdEEEE=Se("_Z7getBBoxNSt3__26vectorI11FeatureLineNS_9allocatorIS1_EEEENS0_IdNS2_IdEEEE"),e.__Z7doMorphiiffffNSt3__26vectorIhNS_9allocatorIhEEEES3_NS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE=Se("_Z7doMorphiiffffNSt3__26vectorIhNS_9allocatorIhEEEES3_NS0_I11FeatureLineNS1_IS4_EEEES6_NS0_IdNS1_IdEEEE");var ji=Se("__getTypeName"),Vr=Se("malloc"),Yt=Se("free"),ht=Se("setThrew"),Jn=Se("setTempRet0"),Jr=()=>(Jr=Kt.emscripten_stack_init)(),or=()=>(or=Kt.emscripten_stack_get_end)(),it=Se("stackSave"),$e=Se("stackRestore"),yn=Se("stackAlloc"),ni=Se("__cxa_increment_exception_refcount"),Xi=Se("__get_exception_message"),Wi=Se("__cxa_can_catch"),qi=Se("__cxa_is_pointer_type");e.dynCall_jiji=Se("dynCall_jiji");function zi(s,a,_){var C=it();try{je(s)(a,_)}catch(E){if($e(C),!(E instanceof Fe))throw E;ht(1,0)}}function Ki(s,a,_,C){var E=it();try{return je(s)(a,_,C)}catch(S){if($e(E),!(S instanceof Fe))throw S;ht(1,0)}}function Zi(s,a,_){var C=it();try{return je(s)(a,_)}catch(E){if($e(C),!(E instanceof Fe))throw E;ht(1,0)}}function $i(s,a,_,C){var E=it();try{je(s)(a,_,C)}catch(S){if($e(E),!(S instanceof Fe))throw S;ht(1,0)}}function es(s,a,_,C){var E=it();try{return je(s)(a,_,C)}catch(S){if($e(E),!(S instanceof Fe))throw S;ht(1,0)}}function ts(s,a){var _=it();try{return je(s)(a)}catch(C){if($e(_),!(C instanceof Fe))throw C;ht(1,0)}}function ri(s,a,_,C,E,S,R,P,G,W,J){var _e=it();try{je(s)(a,_,C,E,S,R,P,G,W,J)}catch(Le){if($e(_e),!(Le instanceof Fe))throw Le;ht(1,0)}}function ns(s,a,_,C,E,S,R,P,G){var W=it();try{je(s)(a,_,C,E,S,R,P,G)}catch(J){if($e(W),!(J instanceof Fe))throw J;ht(1,0)}}function rs(s,a,_,C,E,S,R){var P=it();try{je(s)(a,_,C,E,S,R)}catch(G){if($e(P),!(G instanceof Fe))throw G;ht(1,0)}}function ii(s,a,_,C,E){var S=it();try{je(s)(a,_,C,E)}catch(R){if($e(S),!(R instanceof Fe))throw R;ht(1,0)}}function si(s,a,_,C,E){var S=it();try{return je(s)(a,_,C,E)}catch(R){if($e(S),!(R instanceof Fe))throw R;ht(1,0)}}function ai(s,a,_,C,E,S,R,P){var G=it();try{je(s)(a,_,C,E,S,R,P)}catch(W){if($e(G),!(W instanceof Fe))throw W;ht(1,0)}}function is(s,a,_,C,E){var S=it();try{je(s)(a,_,C,E)}catch(R){if($e(S),!(R instanceof Fe))throw R;ht(1,0)}}function ss(s){var a=it();try{return je(s)()}catch(_){if($e(a),!(_ instanceof Fe))throw _;ht(1,0)}}function oi(s,a){var _=it();try{je(s)(a)}catch(C){if($e(_),!(C instanceof Fe))throw C;ht(1,0)}}function as(s,a,_,C,E,S,R,P,G,W,J,_e,Le){var Et=it();try{je(s)(a,_,C,E,S,R,P,G,W,J,_e,Le)}catch(et){if($e(Et),!(et instanceof Fe))throw et;ht(1,0)}}function br(s,a,_,C,E,S,R,P,G){var W=it();try{je(s)(a,_,C,E,S,R,P,G)}catch(J){if($e(W),!(J instanceof Fe))throw J;ht(1,0)}}function os(s){var a=it();try{je(s)()}catch(_){if($e(a),!(_ instanceof Fe))throw _;ht(1,0)}}e.ccall=Gr,e.cwrap=Vi;var li=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","growMemory","isLeapYear","ydayFromDate","arraySum","addDays","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","Browser_asyncPrepareDataCounter","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_createDataFile","FS_unlink","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","getFunctionArgsName","createJsInvokerSignature","registerInheritedInstance","unregisterInheritedInstance","enumReadValueFromPointer","validateThis","getStringOrSymbol","emval_get_global","emval_returnValue","emval_lookupTypes","emval_addMethodCaller"];li.forEach(he);var c=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","abortOnCannotGrowMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","jstoi_s","dynCallLegacy","getDynCaller","dynCall","wasmTable","noExitRuntime","getCFunc","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","getPreloadedImageData__data","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","createJsInvoker","UnboundTypeError","PureVirtualError","GenericWireTypeSize","EmValType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","getBasestPointer","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","registeredPointers","registerType","integerReadValueFromPointer","floatReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","finalizationRegistry","detachFinalizer_deps","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","deletionQueue","flushPendingDeletes","delayFunction","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","char_0","char_9","makeLegalFunctionName","emval_freelist","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_methodCallers","reflectConstruct"];c.forEach(se);var f;ft=function s(){f||F(),f||(ft=s)};function y(){Jr(),me()}function F(){if(We>0||(y(),Ve(),We>0))return;function s(){f||(f=!0,e.calledRun=!0,!D&&(we(),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),I(!e._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),Ke()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),s()},1)):s(),de()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return F(),t.ready}})();const z={J:10001,U:10002,S:10003,I:10004};function Hs(n,t){return[n[0]*t[0]+n[1]*t[3],n[0]*t[1]+n[1]*t[4],n[0]*t[2]+n[1]*t[5]+n[2],n[3]*t[0]+n[4]*t[3],n[3]*t[1]+n[4]*t[4],n[3]*t[2]+n[4]*t[5]+n[5]]}function Pl(n,t){return[t.x-n.x,n.y-t.y,n.x,t.y-n.y,t.x-n.x,n.y]}const Ll=function(){const n=[z.J,z.J,z.J],t=[z.S,z.J,z.S,z.S,z.S],e=[z.S,z.J,z.J,z.S],r=[z.S,z.J,z.S,z.J],i=[z.S,z.S,z.S],o=[z.S,z.J],A=[z.J],p=[z.S],u=[z.U,z.J],l=[z.U,z.S,z.S],g=[z.J,z.I],h=[z.S,z.I,z.S],m=[z.I,z.J],v=[z.I,z.S],B=[z.U],Q=[z.I],D=[z.S,z.J,z.J],I=[z.J,z.J,z.I],T=[z.S,z.S,z.J,z.S],w=[z.S,z.S,z.J,z.I],b=[z.J,z.J,z.S],x=[z.S,z.I,z.I],L=[z.J,z.I,z.I],Y=[z.J,z.J],q=[z.I,z.I],K=[z.J,z.S],ae=[z.S,z.S,z.S,z.S],me=[z.J,z.S,z.S],de=[z.I,z.S,z.I,z.S],Ee=[z.J,z.I,z.S],pe=[z.I,z.I,z.I,z.S],X=[z.S,z.S],Me=[z.S,z.I],Ve=[z.U,z.I],we=[z.U,z.S],Ke=[z.I,z.I,z.I],ee=[z.I,z.S,z.I],be=[z.I,z.S,z.S],Te=[0,1,2,0,1,2],We=[0,0,1,2,2,1],Ue=[0,1,0,2,1,2],ft=[0,1,2,3,1,4],tt=[0,1,2,2,1,3],Xt=[0,1,2,3,1,3],lt=[0,0,1,1,2,2],Ie=[0,1,1,0,1,1],j=[0,0,0,0,0,0],ct=[0,1,2,0,2,1],Nt=[0,1,0,0,1,0],Rt=[0,1,2,2,1,0],Se=[0,1,1,1,1,0],Fe=[0,1,1,2,2],kt=[0,0,1,2,1],Ye=[0,1,2,3,2],yt=[0,1,2,1,2],st=[0,1,1,1,1],At=[0,1,2,0],ut=[0,1,1,0],Je=[0,0,0,0],Pe=[0,1,0],Ze=[0,1,0,1],N=[0,1,0,2],te=[0,0,1,1],he=[0,1,2,3],se=[0,0,1,2],ke=[0,1,2],U=[0,0,1],V=[0,0,0],oe=[!1,!1,!1,!1,!1,!1,!1,!0,!1,!0,!1,!0],$=[!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1,!0],Z=[!1,!1,!1,!1,!0,!0,!1,!1,!1,!0,!0,!0],le=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1],Ae=[!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1,!1],Qe=[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0],gt=[!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0],Wt=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],Mt=[!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0],rn=[!1,!1,!1,!1,!0,!0,!1,!0,!1,!0,!0,!1],mn=[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1],sn=[!1,!1,!1,!1,!0,!0,!1,!0,!0,!1,!0,!1],Xn=[!1,!1,!1,!1,!1,!1,!0,!1,!0,!1,!0,!1],Wn=[!1,!1,!1,!1,!1,!0,!0,!0,!0,!1,!0,!1],Dn=[!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!0,!1],Jt=[!1,!1,!1,!1,!1,!0,!1,!1,!1,!0],tn=[!1,!1,!0,!0,!1,!1,!1,!1,!1,!0],qt=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0],jt=[!1,!1,!0,!1,!1,!1,!1,!1,!0,!1],Pt=[!1,!1,!1,!1,!1,!1,!0,!0,!0,!0],zt=[!1,!1,!1,!1,!1,!0,!0,!0,!0,!1],an=[!1,!1,!1,!1,!1,!1,!1,!0],Zt=[!1,!1,!1,!1,!1,!0,!1,!0],Gt=[!1,!1,!1,!1,!0,!1,!0,!1],dn=[!1,!1,!1,!0,!1,!1,!1,!0],on=[!1,!1,!0,!1,!0,!0,!1,!0],In=[!1,!1,!0,!1,!1,!1,!0,!1],An=[!1,!1,!1,!1,!1,!0],at=[!1,!1,!1,!1,!0,!1],wt=[!1,!1,!1,!1,!1,!0,!1,!1],ue=[!1,!1,!1,!1,!1,!0,!0,!0],Un=[!1,!1,!0,!0,!1,!1,!0,!0],bt=[!1,!1,!1,!1,!0,!0,!1,!1],M=[!1,!1,!1,!1,!1,!1,!1,!1],ce=[!1,!1,!1,!1,!0,!0,!0,!0],Ce=[!1,!1,!0,!0,!1,!1,!1,!1],Ge=[!1,!1,!1,!0,!1,!1,!1,!1],ve=[!1,!1,!1,!1,!1,!0,!0,!1],nt=[!1,!1,!1,!1,!0,!1,!1,!1],dt=[!1,!1,!0,!0,!1,!0,!0,!1],Oe=[!1,!1,!1,!0,!0,!0,!0,!1],rt=[!1,!1,!1,!1,!1,!1],_t=[!1,!1,!0,!0,!1,!1],Qt=[!1,!1,!1,!0,!1,!1],De=[!1,!1,!0,!1,!1,!1],ye=[.12239750492,.5,.143395479017,.625],ge=[.12239750492,.5,.225335752741,.225335752741],xe=[.12239750492,.5,.225335752741,.625],He=[.12239750492,.5,.315470053838,.5,.315470053838,.5],tr=[.12239750492,.5,.225335752741,.225335752741,.5],Ct=[.12239750492,.5,.225335752741,.625,.5],Sr=[.6,.196416770201],hr=[.12239750492,.5,.225335752741],ot=[],Tn=[.12239750492,.225335752741],fn=[.12239750492,.225335752741,.5],pr=[.12239750492,.225335752741,.225335752741],vn=[.216506350946],_n=[.104512294489,.65],qn=[.230769230769,.5,.225335752741],xn=[.230769230769,.5,.225335752741,.5],Ne=[.230769230769,.225335752741],qe=[.141304,.465108,.534891],Cn=[.452827026611,.5],mr=[.366873818946],nn=[.230769230769],hn=[.230769230769,.5],nr=[.5,.102564102564],rr=[.230769230769,.869565217391],Ir=[.5,.230769230769,.5,.5],pn=[.230769230769,.5,.230769230769],xt=[.5,.5,.6],vr=[.5,.102564102564,.102564102564],Yn=[.230769230769,.230769230769],On=[.5],je=[.105263157895],kr=[.196416770201],qr=[.5,.196416770201],Tt=[0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,5.5,0,-.4,0,5,0,-4,.5,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1,0,0,-5.5,0,.5,0,0,0,4,-2],pi=[3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,0,3.5,-.4,0,5,0,0,-2,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1,0,0,-3.5,0,.5,0,0,0,0,.5,0,0,0,0,0,0,0,0,0,0],Dr=[0,0,-3.5,0,.5,0,0,0,4,-2,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,3.5,0,-.4,0,5,0,4,-4.5,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1],Tr=[0,0,-2.5,0,0,0,.5,0,0,0,3,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,0,0,.1,0,5,0,0,0,0,-2.5,3.9,0,0,0,2.5,0,-.4,0,5,0,0,0,3,-3.5,3.9,0,0,0,0,0,.1,0,5,0,0,0,0,-1.5,0,0,0,0,0,0,0,0,0,0,0,0,0,1],Gn=[3.9,0,0,3.5,0,-.4,0,5,0,0,5,-4.5,3.9,0,0,0,0,.1,0,5,0,0,0,-1.5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,-3.5,0,0,.5,0,0,0,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,0,.1,0,5,0,0,0,-2.5],mi=[3.9,0,3.5,0,0,-.4,0,-5,0,4,0,.5,3.9,0,0,0,5,-2.4,0,5,0,0,0,-1.5,0,0,0,0,5,-2.5,0,0,0,0,0,1,0,0,-3.5,0,0,.5,0,0,0,4,0,-2,0,0,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,0,.1,0,-5,0,0,0,2.5],ir=[0,0,0,0,0,0,0,0,.5,0,0,-.288675134595,0,0,1,0,0,0,2.5,1.12583302492,-.721132486541,-1.44337567297,1.95,1.06036297108,5,0,-2.5,0,3.9,.1,2.5,-1.12583302492,-1.27886751346,1.44337567297,1.95,-.671687836487],Fr=[0,0,0,0,0,0,0,0,3.9,0,0,.1,0,5,0,-2.5,3.9,0,3.5,-.4,0,5,0,-2,3.9,0,0,.1,0,5,0,-1.5,0,0,0,0,0,0,0,1,0,0,-3.5,.5,0,0,0,.5],Cr=[1,0,.5,.866025403784,-.5,.866025403784,-1,0,-.5,-.866025403784,.5,-.866025403784],zr=[0,0,0,0,0,0,3.9,0,.1,0,0,0,3.9,3.5,-.4,0,0,.5,3.9,0,.1,0,0,1,0,0,0,0,0,1,0,-3.5,.5,0,0,.5],sr=[0,0,0,0,0,0,0,0,3.9,0,0,.1,0,0,0,0,3.9,3.5,0,-.4,0,0,5,-2,3.9,0,0,.1,0,0,0,1,0,0,0,0,0,0,0,1,0,-3.5,0,.5,0,0,5,-2],Ii=[3.9,3.5,-.4,0,0,.5,3.9,0,.1,0,0,1,0,0,0,0,0,1,0,-3.5,.5,0,0,.5,0,0,0,0,0,0,3.9,0,.1,0,0,0],Nr=[0,-3.5,0,.5,0,0,0,.5,0,0,0,0,0,0,0,0,3.9,0,0,.1,0,0,0,0,3.9,0,3.5,-.4,0,0,0,.5,3.9,0,0,.1,0,0,0,1,0,0,0,0,0,0,0,1],vi=[0,.5,0,-.288675134595,0,1,0,0,1.15470053838,.75,2,.144337567297,0,.5,4,0,-1.15470053838,.25,2,.144337567297,0,0,0,0],ar=[0,0,1,0,0,0,0,5,-2.5,5.1,0,-.1,-1.47224318643,2.5,-1.22113248654,2.55,1.44337567297,-.771687836487,0,0,0,0,0,0,0,0,.5,0,0,-.866025403784],Ft=[3.9,0,0,.1,0,5,0,-2.5,3.9,0,3.5,-.4,0,5,0,-2,3.9,0,0,.1,0,5,0,-1.5,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],Rr=[3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,3.5,0,-.4,0,5,0,4,-4,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],Ci=[3.9,0,.1,0,0,0,3.9,3.5,-.4,0,0,.5,3.9,0,.1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0],yi=[0,0,5,-2.5,0,0,0,1,0,0,-5,2.5,0,10,0,-4,0,0,0,0,0,0,0,0,3.9,0,0,.1,0,-5,0,2.5,3.9,0,5,-2.4,0,5,0,-1.5],Hn=[0,0,0,0,0,1,0,0,0,0,0,0,1.95,2.5,-.95,-1.95,2.5,-1.05,3.9,0,.1,0,5,-2,1.95,-2.5,1.55,1.95,2.5,-.45],Ei=[0,-1,0,0,0,1,0,0,4.95,.55,4.95,.55,0,0,9.9,.1,-4.95,-.55,4.95,.55],Mr=[0,1,0,0,2.925,.075,1.68874953738,.0433012701892,0,0,0,0,-2.925,1.425,1.68874953738,-.822724133595],ln=[1,0,.75,.433012701892,0,0,.75,-.433012701892],yr=[.5,0,0,.866025403784,-.5,0,0,-.866025403784],Pr=[0,.57735026919,-1,0,1,0],Vn=[0,0,0,0,0,0,3.9,0,.1,0,5,-2.5,3.9,0,.1,0,5,-1.5,0,0,0,0,0,1],Kr=[5,0,-2,0,-3.9,-.1,0,0,1,0,0,0,5,0,-2,0,3.9,.1,0,0,0,0,0,0],Zr=[0,0,1,0,0,0,0,-3.45,4,3.9,0,.1,0,3.45,-3,3.9,0,.1,0,0,0,0,0,0],bi=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,5,0,0,0,-1.5,0,3.9,0,0,.1,0,0,5,0,-2.5,0,0,0,5,-1.5],Bi=[0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-5,3.9,2.6,3.9,0,0,.1,0,-5,0,2.5,3.9,0,0,.1],wi=[0,0,0,0,0,0,0,0,0,0,0,1,-10,0,0,5,0,10,0,-4,10,0,10,-10,0,10,0,-5,0,0,10,-5],zn=[0,0,0,0,0,1,0,0,0,1,3.9,.1,0,0,3.9,.1],Lr=[0,0,0,1,0,0,0,0,0,0,0,.5,0,0,3.9,.1,0,0,0,0,0,0,0,0,5,0,0,-2,0,-3.9,0,-.1],Qi=[0,0,0,0,0,1,0,0,0,0,0,0,3.9,0,.1,0,0,0,3.9,0,.1,0,3.9,.1],Fn=[1,0,1,1,0,1,0,0],Si=[1.8,.1,0,0,0,1,0,1,0,0,-1.8,1.9,0,0,0,0],Ur=[3.8,.1,0,0,0,0,-3.8,.9,-3.8,-.1,0,0,0,0,3.8,-.9],ki=[0,0,.57735026919,0,0,1],Di=[0,0,0,0,0,1,0,0,0,0,3.9,.1],xr=[.5,.5,0,0,1,0],Yr=[0,1,0,0,0,.5,3.9,.1,0,0,0,0],$r=[0,0,0,0,0,0,0,0,1,0,0,0,5,0,-2,0,3.9,.1],Or=[1,0,-.5,.866025403784,-.5,-.866025403784],ei=[0,0,0,0,0,0,0,0,0,-1,3.9,0,5.5,0,-.4,0,5,0,-4,-.5],Ti=[0,0,0,0,0,0,0,0,0,1,7.8,0,3.5,3.5,-.8,0,0,0,0,0],Fi=[0,0,0,0,0,0,0,0,0,-1,-7.8,0,-7,0,.8,0,0,0,0,-1],Ni=[0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-7.8,0,-2.5,0,-2.5,0,.8,0,-10,0,3,0,-3,4],Ri=[0,0,0,0,0,0,0,0,0,0,0,1,-15.6,0,-7,-7,0,1.6,0,0,0,0,0,-2],Mi=[0,0,0,0,0,0,0,10,0,0,0,-3,7.8,0,7,0,0,-.8,0,0,0,0,0,0],Pi=[-2.5,-3.37749907476,.663397459622,4.33012701892,-1.95,-3.08108891325,-2.5,3.37749907476,2.33660254038,-4.33012701892,-1.95,2.11506350946],Li=[0,0,0,0,0,0,0,-1,7.8,0,7,-.8,0,0,0,0],Er=[1.5,.866025403784,1.5,-.866025403784],Kn=[1.5,.866025403784,0,1.73205080757],ti=[0,0,0,0,0,-1,3.9,3.5,-.4,0,0,-.5],Ui=[0,0,0,0,0,0,0,-1,7.8,7,0,-.8,0,0,0,0],xi=[3.9,3.5,-.4,0,0,.5,3.9,3.5,-.4,0,0,-.5],Yi=[0,0,0,0,0,0,0,-1,-7.8,-3.5,-3.5,.8,0,0,0,0],Oi=[0,0,-4,-.866025403784,3.46410161514,.75,-2,-.433012701892],Gi=[4.4167295593,-2.5,2.66339745962,-2.55,-4.33012701892,1.34903810568,0,-5,2.5,-5.1,0,-1.63205080757],Hi=[-7.8,0,-3.5,.3,0,0,0,-.5,-7.8,0,-3.5,.3,0,0,0,.5],Gr=[0,0,0,0,0,0,0,0,0,1,7.8,0,3.5,0,-.3,0,10,0,4,-7.5],Vi=[0,0,0,0,0,0,0,0,0,-1,15.6,0,7,0,-.6,0,0,0,0,0],Ji=[0,0,0,0,0,0,0,1,-15.6,0,-7,.6,0,0,0,0],Hr=[0,0,0,0,0,1,-7.8,-3.5,.3,0,0,.5],Kt=[0,0,0,0,0,10,0,-3,-7.8,0,-10,4.8,0,0,0,0],ji=[-3.9,5,-3.1,-3.9,-5,1.9,-3.9,-5,1.9,3.9,-5,3.1],Vr=[9.9,1.1,-9.9,-1.1,-9.9,-1.1,-9.9,-1.1],Yt=[0,0,0,1.73205080757,0,1.5,0,-.866025403784],ht=[-1.5,.866025403784,-1.5,-.866025403784],Jn=[0,1.73205080757,1.5,-.866025403784],Jr=[-1,1.73205080757,1,1.73205080757],or=[1,1.73205080757,-1,1.73205080757],it=[1,1.73205080757,2,0],$e=[0,0,0,0,0,-1,3.9,0,.1,0,5,-2.5],yn=[0,0,0,0,0,-1,7.8,0,.2,0,0,0],ni=[0,0,0,0,-7.8,-.2,0,0,1,0,0,0],Xi=[0,-6.9,8,0,0,0,0,-3.45,4,-3.9,0,-.1],Wi=[-5,0,-5,0,5,0,-3.9,0,-5,1.4,-5,0,0,0,1.5,0,-3.9,0,0,-.1],qi=[0,0,0,0,0,-1,7.8,0,.2,0,10,-5],zi=[0,0,0,0,-7.8,0,0,-.2,0,0,3.9,1.1,0,0,0,0],Ki=[-15.6,0,-.4,0,0,0,0,0,0,0,0,-1],Zi=[0,0,0,0,-20,0,-20,20,0,0,0,-2,0,0,0,0],$i=[0,2,0,0,0,0,-7.8,-.2],es=[0,0,0,-1,0,0,0,0,0,0,0,0,0,-7.8,-7.8,-.4],ts=[-7.8,0,-.2,0,0,0,-3.9,0,-.1,0,3.9,1.1],ri=[0,2,2,0],ns=[0,0,0,4,0,-2,0,2],rs=[0,0,-7.6,1.8,7.6,.2,-7.6,1.8],ii=[1,1,1,-1],si=[1,0,0,1],ai=[0,0,-3.9,-.1,0,1,0,0],is=[0,0,-3.9,-.1,0,2,0,0],ss=[0,-3.45,4,-3.9,0,-.1,0,-3.45,4,3.9,0,.1],oi=[3.8,.1,-3.8,.9,-3.8,-.1,-3.8,.9],as=[0,2,-1.73205080757,1],br=[0,2,0,0,0,1,3.9,.1],os=[0,1,-1,0],li=[-1,1,-2,0],c=[0,1,1,0],f=[0,.5,-3.9,-.1,0,-.5,-3.9,-.1],y=[-5,0,2,0,-3.9,-.1,-5,0,3,0,-3.9,-.1],F=[0,0,1,0,0,0,0,0,0,0,7.8,.2],s=[0,1,0,0,0,0,7.8,.2],a=[-1.5,2.59807621135,-3,0],_=[0,-.5,-3.9,-.1,0,.5,-3.9,-.1],C=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],E=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,7.8,0,0,3.5,-.3,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-.5],S=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-3.9,0,-3.5,0,.4,0,0,0,0,0,0,0,0,0,-1,0,5,0,4,-4.5],R=[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,-2.5,0,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,3,0,0,-1],P=[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,7.8,0,0,3.5,0,-.3,0,0,0,0,0,0,0,0,0,0,0,-1,0,10,0,0,5,-6,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,-3.5,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-.5,0,0,0,0,0,1,0,0,0,0,0,0,-7.8,0,-3.5,-3.5,0,.8,0,0,0,0,0,0,0,0,0,0,0,-1,0,10,0,0,5,-7.5],G=[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,7.8,0,3.5,0,5,-2.8,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,4,0,-1,0,0,0,0,0,-1,0,0,0,0,0,0,3.9,0,0,0,5,-2.4,0,0,0,0,0,0,0,0,0,0,0,1,0,5,0,0,0,-1.5,0,0,0,0,0,1,0,0,0,0,0,0,3.9,0,3.5,0,0,-.4,0,0,0,0,0,0,0,0,0,0,0,-1,0,-5,0,4,0,.5],W=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-.5,0,0,-.866025403784,0,0,.5,0,0,.866025403784,0,0,-.5,0,0,-.866025403784,0,0,-.5,0,0,.866025403784,0,0,1,0,0,-.866025403784,0,0,-.5,0,0,0],J=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,7.8,0,3.5,-.3,0,0,0,0,0,0,0,1,0,0,0,-.5],_e=[1,0,0,0,1,0],Le=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],Et=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,7.8,3.5,0,-.3,0,0,0,0,0,0,0,-1,0,0,5,-2],et=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-3.5,0,.5,0,0,0,0,0,0,0,-1,0,0,0,.5],Bt=[0,1,0,0,0,0,0,0,0,1,0,0,0,.5,0,.866025403784,0,.5,0,.866025403784,0,-.5,0,-.866025403784,0,-.5,0,-.866025403784,0,.5,0,.866025403784,0,-.5,0,-.866025403784],En=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,.5,0,0,.866025403784,0,0,1,0,0,-.866025403784,0,0,.5,0,0,0,0,0,-.5,0,0,.866025403784,0,0,1.5,0,0,-.866025403784,0,0,-.5,0,0,-.866025403784,0,0,-1,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,-1.73205080757,0,0,-.5,0,0,-.866025403784,0,0,0,0,0,.866025403784,0,0,-.5,0,0,-1.73205080757,0,0,.5,0,0,-.866025403784,0,0,-.5,0,0,.866025403784,0,0,.5,0,0,-.866025403784],bn=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],Zn=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,7.8,0,3.5,0,-.3,0,0,0,0,0,0,0,0,0,-1,0,10,0,4,-6.5],$t=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,7.8,0,3.5,0,-.3,0,0,0,0,0,0,0,0,0,-1,0,10,0,4,-6.5,0,0,0,0,-1,0,0,0,0,0,15.6,0,7,0,-.6,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,7.8,0,3.5,0,-.3,0,0,0,0,0,0,0,0,0,-1,0,10,0,4,-6.5],jr=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,1,0,0,0,-1,0,0,0,0,-7.8,0,-3.5,.3,0,0,0,0,0,0,0,1,0,0,0,-.5,0,0,0,1,0,0,0,0,-7.8,0,-3.5,.3,0,0,0,0,0,0,0,-1,0,0,0,.5],Xr=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,1],vs=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,10,0,-3,0,0,0,1,0,0,0,0,-3.9,0,-5,2.4,0,0,0,0,0,0,0,-1,0,5,0,-1.5,0,0,0,-1,0,0,0,0,3.9,0,5,-2.4,0,0,0,0,0,0,0,1,0,5,0,-1.5],Cs=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,1,0,0,0,0,0,-1,-3.9,0,-.1,0,0,1,0,0,0,0,-5,3,0,0,0,0,0,1,-3.9,0,-1.1,0,0,-1,0,0,0,0,-5,3],ls=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-1,9.9,1.1,0,1,0,0,0,0,0,0,0,1,-9.9,-1.1,0,1,0,0,0,0],ys=[0,1,0,0,0,0,0,0,0,1,0,0,0,-.5,0,.866025403784,0,1.5,0,-.866025403784,0,-.5,0,.866025403784,0,-.5,0,-.866025403784,0,1.5,0,.866025403784,0,-.5,0,-.866025403784,0,.5,0,.866025403784,0,0,0,.866025403784,0,-.5,0,0,0,-1,0,0,0,1.5,0,0,0,1,0,.866025403784,0,.5,0,-.866025403784,0,0,0,-.866025403784,0,-.5,0,1.73205080757],Yo=[1,0,0,0,1,0,.5,-.866025403784,0,.866025403784,.5,0,-.5,-.866025403784,0,.866025403784,-.5,0,-1,0,0,0,-1,0,-.5,.866025403784,0,-.866025403784,-.5,0,.5,.866025403784,0,-.866025403784,.5,0],Oo=[1,0,0,0,1,0,-.5,-.866025403784,1.5,.866025403784,-.5,-.866025403784,-.5,.866025403784,1.5,-.866025403784,-.5,.866025403784,.5,.866025403784,0,.866025403784,-.5,0,.5,-.866025403784,0,-.866025403784,-.5,1.73205080757,-1,0,1.5,0,1,.866025403784],Go=[1,0,0,0,1,0,-.5,.866025403784,.75,-.866025403784,-.5,.433012701892,-.5,-.866025403784,.75,.866025403784,-.5,-.433012701892],Ho=[1,0,0,0,1,0,.5,-.866025403784,.75,.866025403784,.5,.433012701892,-.5,-.866025403784,.75,.866025403784,-.5,1.29903810568],Vo=[1,0,0,0,1,0,.5,.866025403784,.75,.866025403784,-.5,.433012701892,-.5,-.866025403784,.75,.866025403784,-.5,-.433012701892],Jo=[1,0,0,0,1,0,-.5,-.866025403784,.75,-.866025403784,.5,.433012701892,-.5,.866025403784,.75,.866025403784,.5,-.433012701892],jo=[1,0,0,0,1,0,-.5,.866025403784,-.5,-.866025403784,-.5,.866025403784,-.5,-.866025403784,.5,.866025403784,-.5,.866025403784,-.5,.866025403784,-1.5,.866025403784,.5,.866025403784,-.5,-.866025403784,-.5,-.866025403784,.5,.866025403784,1,0,-1,0,-1,1.73205080757],Xo=[1,0,0,0,1,0,-.5,.866025403784,-.5,-.866025403784,-.5,.866025403784,-.5,-.866025403784,.5,.866025403784,-.5,.866025403784,.5,-.866025403784,-.5,.866025403784,.5,.866025403784,.5,.866025403784,-1.5,-.866025403784,.5,.866025403784,-1,0,-1,0,-1,1.73205080757],Wo=[1,0,0,0,1,0,-.5,-.866025403784,.5,.866025403784,-.5,.866025403784,-.5,.866025403784,-.5,-.866025403784,-.5,.866025403784,.5,.866025403784,.5,-.866025403784,.5,.866025403784,.5,-.866025403784,1.5,.866025403784,.5,.866025403784,-1,0,1,0,-1,1.73205080757],sa=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,7.8,0,.2,0,0,0,0,0,1,0,0,0],qo=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,3.9,0,.1,0,0,0,0,0,-1,0,5,-1.5],zo=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,5,0,-1,0,0,0,0,0,1,0,-3.9,-.1],Ko=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,-3.45,4,0,0,0,0,0,-1,3.9,0,.1],Zo=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0],$o=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,7.8,0,.2,0,0,0,0,0,-1,0,10,-4],e0=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-5,3.9,3.6,0,0,0,0,0,0,0,-1,3.9,0,0,.1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-5,3.9,3.6,0,0,0,0,0,0,0,1,3.9,0,0,.1],t0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,1,0,0,-1,0,0,0,7.8,0,.2,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,-7.8,0,-.2,0,0,0,0,0,-1,0,0,1],n0=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,10,0,-5,0,0,0,0,0,0,0,-1,0,0,10,-5,0,0,0,-1,0,0,0,0,0,10,0,-4,0,0,0,0,0,0,0,1,-10,0,-10,10,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,-1,-10,0,0,5],r0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,2,0,0,0,-1,0,0,0,-1,0,0,0,1,0,0,0,1,-3.9,-.1,0,1,0,0,0,1,0,0,0,-1,3.9,.1],i0=[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,5,0,0,-2,0,0,0,0,0,0,0,-1,0,-3.9,0,-.1,0,0,0,1,0,0,0,0,0,0,0,.5,0,0,0,0,0,0,0,-1,0,0,3.9,.1,0,0,0,-1,0,0,0,0,5,0,0,-2.5,0,0,0,0,0,0,0,1,0,-3.9,-3.9,-.2],s0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,3.9,0,.1,0,0,0,0,0,-1,0,3.9,1.1,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,-3.9,0,-.1,0,0,0,0,0,-1,0,3.9,1.1],a0=[1,0,0,0,1,0,0,1,0,-1,0,2,-1,0,2,0,-1,2,0,-1,2,1,0,0],o0=[0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,-1,0,0,0,2,0,-1,0,0,0,2,0,0,0,-1,0,2,0,0,0,-1,0,2,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,4,0,0,0,1,0,0,0,1,0,0,0,2,0,-1,0,0,0,2,0,0,0,1,0,2,0,0,0,-1,0,2,0,-1,0,0,0,4],l0=[0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,3.8,.1,0,0,0,-1,-3.8,.9],aa=[1,0,0,0,1,0,0,-1,2,1,0,0],Es=[0,1,0,0,0,0,0,0,0,1,0,0],c0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,2,0,0,0,-1,3.9,.1],A0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,-3.45,5,0,0,0,0,0,-1,3.9,0,.1],f0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,5,0,-1,0,0,0,0,0,-1,0,-3.9,-.1],u0=[1,0,0,0,1,0,0,-1,2,1,0,0,-1,0,2,0,-1,2,0,1,0,-1,0,2],g0=[1,0,0,0,1,0,.5,.866025403784,-.866025403784,-.866025403784,.5,.5,-.5,.866025403784,-.866025403784,-.866025403784,-.5,1.5,-1,0,0,0,-1,2,-.5,-.866025403784,.866025403784,.866025403784,-.5,1.5,.5,-.866025403784,.866025403784,.866025403784,.5,.5,-1,0,0,0,1,0,-.5,.866025403784,-.866025403784,.866025403784,.5,.5,.5,.866025403784,-.866025403784,.866025403784,-.5,1.5,1,0,0,0,-1,2,.5,-.866025403784,.866025403784,-.866025403784,-.5,1.5,-.5,-.866025403784,.866025403784,-.866025403784,.5,.5],d0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,1,0,0,0,-1,3.9,.1,0,-1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,3.9,.1],_0=[1,0,0,0,1,0,0,1,0,-1,0,1,-1,0,1,0,-1,1,0,-1,1,1,0,0],h0=[1,0,0,0,1,0,0,1,0,-1,0,1,-1,0,1,0,-1,1,0,-1,1,1,0,0,-1,0,0,0,1,0,0,-1,0,-1,0,1,1,0,-1,0,-1,1,0,1,-1,1,0,0],p0=[1,0,0,0,1,0,0,-1,1,1,0,0,-1,0,1,0,-1,1,0,1,0,-1,0,1],m0=[0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,-1,0,0],I0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0],v0=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,5,0,-1,0,0,0,0,0,-1,0,3.9,.1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-1,0,7.8,.2,0,0,-1,0,0,0,5,0,-1,0,0,0,0,0,1,0,3.9,.1],C0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,1,0,0,0,-1,7.8,.2,0,1,0,0,0,.5,0,0,0,-1,3.9,.1,0,-1,0,0,0,1.5,0,0,0,1,3.9,.1],y0=[1,0,0,0,1,0,.5,-.866025403784,.5,.866025403784,.5,.866025403784,-.5,-.866025403784,0,.866025403784,-.5,1.73205080757,-1,0,-1,0,-1,1.73205080757,-.5,.866025403784,-1.5,-.866025403784,-.5,.866025403784,.5,.866025403784,-1,-.866025403784,.5,0],oa=[1,0,0,0,1,0,-1,0,.5,0,-1,.866025403784],E0=[0,1,0,0,0,0,0,0,0,1,0,0,0,-1,0,0,0,1,0,0,0,-1,0,0],lr=[0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,2,0,1,3],la=[0,1,0,0,0,0,0,0,0,0,0,0,1,2,0,0,1,2,3],ca=[0,1,0,0,0,0,0,0,0,0,0,0,2,0,1,2,0,1,3],b0=[0,1,2,1,0,0,0,0,0,0,0,0,2,0,1,2,0,1,3],Aa=[0,1,2,2,0,0,0,0,0,0,0,0,1,2,0,0,1,2,3],ci=[0,1,2,0,0,0,0,0,0,0,0,0,0,1,2,0,1,2,3],bs=[0,1,0,0,0,0,0,0,0,0,0,0,2,0,1,0,1,2,3],B0=[0,1,0,1,0,1,0,0,0,0,0,0,1,2,0,2,0,1,3],w0=[0,1,0,0,0,0,0,0,0,0,0,0,1,2,0,2,0,1,3],Q0=[0,1,2,0,0,0,0,0,0,0,0,0,2,0,1,1,2,0,3],S0=[0,1,2,0,0,0,0,0,0,0,0,0,2,0,1,0,1,2,3],k0=[0,1,2,2,0,0,0,0,0,0,0,0,0,1,2,1,2,0,3],D0=[0,1,2,0,0,0,0,0,0,0,0,0,1,2,0,0,1,2,3],T0=[0,1,2,1,2,0,0,0,0,0,0,0,1,2,0,2,0,1,3],F0=[0,1,2,0,1,2,0,0,0,0,0,0,0,1,2,0,1,2,3],fa=[0,2,1,1,0,2,0,0,0,0,0,0,1,2,0,2,0,1,3],N0=[0,2,1,0,1,2,0,0,0,0,0,0,2,0,1,1,2,0,3],R0=[1,0,2,2,0,1,0,0,0,0,0,0,1,2,0,2,0,1,3],Br=[0,0,0,0,0,0,0,0,0,0,0,0,1,0,2,1,0,2,2],cs=[0,1,0,0,0,0,0,0,0,0,0,0,1,0,2,0,1,2,2],Bn=[0,1,0,0,0,0,0,0,0,0,0,0,0,1,2,0,1,2,2],As=[0,1,1,0,0,0,0,0,0,0,0,0,0,1,2,0,1,2,2],xs=[0,1,1,0,0,0,0,0,0,0,0,0,0,1,2,1,0,2,2],M0=[0,0,1,1,0,0,0,0,0,0,0,0,0,1,2,0,1,2,2],ua=[0,1,0,1,0,0,0,0,0,0,0,0,0,1,2,0,1,2,2],ga=[0,1,0,1,1,0,1,0,0,0,0,0,0,1,2,0,1,2,2],P0=[0,0,0,0,0,0,1,1,1,1,1,1,0,1,2,0,1,2,2],da=[0,1,0,1,0,0,0,0,0,0,0,0,1,0,2,1,0,2,2];return[null,{num_params:4,num_aspects:1,num_vertices:6,num_edge_shapes:3,edge_shapes:n,edge_orientations:oe,edge_shape_ids:Te,default_params:ye,vertex_coeffs:Tt,translation_coeffs:ei,aspect_coeffs:C,colouring:lr},{num_params:4,num_aspects:2,num_vertices:6,num_edge_shapes:3,edge_shapes:n,edge_orientations:$,edge_shape_ids:We,default_params:ge,vertex_coeffs:pi,translation_coeffs:Ti,aspect_coeffs:E,colouring:la},{num_params:4,num_aspects:2,num_vertices:6,num_edge_shapes:3,edge_shapes:n,edge_orientations:Z,edge_shape_ids:Ue,default_params:xe,vertex_coeffs:Dr,translation_coeffs:Fi,aspect_coeffs:S,colouring:ca},{num_params:6,num_aspects:2,num_vertices:6,num_edge_shapes:5,edge_shapes:t,edge_orientations:le,edge_shape_ids:ft,default_params:He,vertex_coeffs:Tr,translation_coeffs:Ni,aspect_coeffs:R,colouring:ca},{num_params:5,num_aspects:4,num_vertices:6,num_edge_shapes:4,edge_shapes:e,edge_orientations:Ae,edge_shape_ids:tt,default_params:tr,vertex_coeffs:Gn,translation_coeffs:Ri,aspect_coeffs:P,colouring:b0},{num_params:5,num_aspects:4,num_vertices:6,num_edge_shapes:4,edge_shapes:r,edge_orientations:Qe,edge_shape_ids:Xt,default_params:Ct,vertex_coeffs:mi,translation_coeffs:Mi,aspect_coeffs:G,colouring:Aa},{num_params:2,num_aspects:3,num_vertices:6,num_edge_shapes:3,edge_shapes:n,edge_orientations:gt,edge_shape_ids:lt,default_params:Sr,vertex_coeffs:ir,translation_coeffs:Pi,aspect_coeffs:W,colouring:ci},{num_params:4,num_aspects:1,num_vertices:6,num_edge_shapes:3,edge_shapes:i,edge_orientations:Wt,edge_shape_ids:Te,default_params:ye,vertex_coeffs:Tt,translation_coeffs:ei,aspect_coeffs:C,colouring:lr},{num_params:3,num_aspects:2,num_vertices:6,num_edge_shapes:2,edge_shapes:o,edge_orientations:Mt,edge_shape_ids:Ie,default_params:hr,vertex_coeffs:Fr,translation_coeffs:Li,aspect_coeffs:J,colouring:bs},{num_params:0,num_aspects:1,num_vertices:6,num_edge_shapes:1,edge_shapes:A,edge_orientations:gt,edge_shape_ids:j,default_params:ot,vertex_coeffs:Cr,translation_coeffs:Er,aspect_coeffs:_e,colouring:lr},{num_params:0,num_aspects:1,num_vertices:6,num_edge_shapes:1,edge_shapes:p,edge_orientations:Wt,edge_shape_ids:j,default_params:ot,vertex_coeffs:Cr,translation_coeffs:Kn,aspect_coeffs:_e,colouring:lr},{num_params:2,num_aspects:1,num_vertices:6,num_edge_shapes:2,edge_shapes:u,edge_orientations:rn,edge_shape_ids:Ie,default_params:Tn,vertex_coeffs:zr,translation_coeffs:ti,aspect_coeffs:Le,colouring:lr},{num_params:3,num_aspects:2,num_vertices:6,num_edge_shapes:3,edge_shapes:l,edge_orientations:mn,edge_shape_ids:ct,default_params:fn,vertex_coeffs:sr,translation_coeffs:Ui,aspect_coeffs:Et,colouring:bs},{num_params:2,num_aspects:1,num_vertices:6,num_edge_shapes:2,edge_shapes:g,edge_orientations:sn,edge_shape_ids:Nt,default_params:Tn,vertex_coeffs:Ii,translation_coeffs:xi,aspect_coeffs:Le,colouring:lr},{num_params:3,num_aspects:2,num_vertices:6,num_edge_shapes:3,edge_shapes:h,edge_orientations:Xn,edge_shape_ids:Rt,default_params:pr,vertex_coeffs:Nr,translation_coeffs:Yi,aspect_coeffs:et,colouring:bs},{num_params:1,num_aspects:3,num_vertices:6,num_edge_shapes:2,edge_shapes:m,edge_orientations:Wn,edge_shape_ids:Se,default_params:vn,vertex_coeffs:vi,translation_coeffs:Oi,aspect_coeffs:Bt,colouring:ci},{num_params:2,num_aspects:1,num_vertices:6,num_edge_shapes:2,edge_shapes:v,edge_orientations:Dn,edge_shape_ids:Ie,default_params:Tn,vertex_coeffs:zr,translation_coeffs:ti,aspect_coeffs:Le,colouring:lr},{num_params:0,num_aspects:1,num_vertices:6,num_edge_shapes:1,edge_shapes:B,edge_orientations:gt,edge_shape_ids:j,default_params:ot,vertex_coeffs:Cr,translation_coeffs:Kn,aspect_coeffs:_e,colouring:lr},null,{num_params:0,num_aspects:1,num_vertices:6,num_edge_shapes:1,edge_shapes:Q,edge_orientations:Wt,edge_shape_ids:j,default_params:ot,vertex_coeffs:Cr,translation_coeffs:Kn,aspect_coeffs:_e,colouring:lr},{num_params:2,num_aspects:6,num_vertices:5,num_edge_shapes:3,edge_shapes:D,edge_orientations:Jt,edge_shape_ids:Fe,default_params:_n,vertex_coeffs:ar,translation_coeffs:Gi,aspect_coeffs:En,colouring:B0},{num_params:3,num_aspects:2,num_vertices:5,num_edge_shapes:3,edge_shapes:I,edge_orientations:tn,edge_shape_ids:kt,default_params:qn,vertex_coeffs:Ft,translation_coeffs:Hi,aspect_coeffs:bn,colouring:bs},{num_params:4,num_aspects:2,num_vertices:5,num_edge_shapes:4,edge_shapes:T,edge_orientations:qt,edge_shape_ids:Ye,default_params:xn,vertex_coeffs:Rr,translation_coeffs:Gr,aspect_coeffs:Zn,colouring:w0},{num_params:4,num_aspects:4,num_vertices:5,num_edge_shapes:4,edge_shapes:w,edge_orientations:qt,edge_shape_ids:Ye,default_params:xn,vertex_coeffs:Rr,translation_coeffs:Vi,aspect_coeffs:$t,colouring:Q0},{num_params:3,num_aspects:4,num_vertices:5,num_edge_shapes:3,edge_shapes:b,edge_orientations:tn,edge_shape_ids:kt,default_params:qn,vertex_coeffs:Ft,translation_coeffs:Ji,aspect_coeffs:jr,colouring:S0},{num_params:2,num_aspects:2,num_vertices:5,num_edge_shapes:3,edge_shapes:x,edge_orientations:jt,edge_shape_ids:kt,default_params:Ne,vertex_coeffs:Ci,translation_coeffs:Hr,aspect_coeffs:Xr,colouring:la},{num_params:3,num_aspects:4,num_vertices:5,num_edge_shapes:3,edge_shapes:D,edge_orientations:Pt,edge_shape_ids:yt,default_params:qe,vertex_coeffs:yi,translation_coeffs:Kt,aspect_coeffs:vs,colouring:k0},{num_params:2,num_aspects:4,num_vertices:5,num_edge_shapes:3,edge_shapes:D,edge_orientations:Jt,edge_shape_ids:Fe,default_params:Cn,vertex_coeffs:Hn,translation_coeffs:ji,aspect_coeffs:Cs,colouring:D0},{num_params:1,num_aspects:4,num_vertices:5,num_edge_shapes:2,edge_shapes:m,edge_orientations:zt,edge_shape_ids:st,default_params:mr,vertex_coeffs:Ei,translation_coeffs:Vr,aspect_coeffs:ls,colouring:Aa},{num_params:1,num_aspects:6,num_vertices:4,num_edge_shapes:3,edge_shapes:L,edge_orientations:an,edge_shape_ids:At,default_params:nn,vertex_coeffs:Mr,translation_coeffs:Yt,aspect_coeffs:ys,colouring:T0},{num_params:0,num_aspects:6,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:Zt,edge_shape_ids:ut,default_params:ot,vertex_coeffs:ln,translation_coeffs:ht,aspect_coeffs:Yo,colouring:F0},{num_params:0,num_aspects:6,num_vertices:4,num_edge_shapes:2,edge_shapes:q,edge_orientations:Gt,edge_shape_ids:ut,default_params:ot,vertex_coeffs:ln,translation_coeffs:Jn,aspect_coeffs:Oo,colouring:fa},{num_params:0,num_aspects:3,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:Zt,edge_shape_ids:ut,default_params:ot,vertex_coeffs:yr,translation_coeffs:Er,aspect_coeffs:Go,colouring:ci},{num_params:0,num_aspects:3,num_vertices:4,num_edge_shapes:1,edge_shapes:A,edge_orientations:dn,edge_shape_ids:Je,default_params:ot,vertex_coeffs:yr,translation_coeffs:Kn,aspect_coeffs:Ho,colouring:ci},null,{num_params:0,num_aspects:3,num_vertices:4,num_edge_shapes:1,edge_shapes:A,edge_orientations:on,edge_shape_ids:Je,default_params:ot,vertex_coeffs:yr,translation_coeffs:Er,aspect_coeffs:Vo,colouring:ci},{num_params:0,num_aspects:3,num_vertices:4,num_edge_shapes:1,edge_shapes:Q,edge_orientations:In,edge_shape_ids:Je,default_params:ot,vertex_coeffs:yr,translation_coeffs:Er,aspect_coeffs:Jo,colouring:ci},{num_params:0,num_aspects:6,num_vertices:3,num_edge_shapes:2,edge_shapes:g,edge_orientations:An,edge_shape_ids:Pe,default_params:ot,vertex_coeffs:Pr,translation_coeffs:Jr,aspect_coeffs:jo,colouring:fa},{num_params:0,num_aspects:6,num_vertices:3,num_edge_shapes:2,edge_shapes:K,edge_orientations:An,edge_shape_ids:Pe,default_params:ot,vertex_coeffs:Pr,translation_coeffs:or,aspect_coeffs:Xo,colouring:N0},{num_params:0,num_aspects:6,num_vertices:3,num_edge_shapes:2,edge_shapes:q,edge_orientations:at,edge_shape_ids:Pe,default_params:ot,vertex_coeffs:Pr,translation_coeffs:it,aspect_coeffs:Wo,colouring:R0},{num_params:2,num_aspects:1,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:Zt,edge_shape_ids:Ze,default_params:hn,vertex_coeffs:Vn,translation_coeffs:$e,aspect_coeffs:Le,colouring:Br},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:3,edge_shapes:L,edge_orientations:wt,edge_shape_ids:N,default_params:hn,vertex_coeffs:Vn,translation_coeffs:yn,aspect_coeffs:sa,colouring:cs},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:ue,edge_shape_ids:Ze,default_params:hn,vertex_coeffs:Vn,translation_coeffs:yn,aspect_coeffs:qo,colouring:cs},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:Un,edge_shape_ids:te,default_params:nr,vertex_coeffs:Kr,translation_coeffs:ni,aspect_coeffs:zo,colouring:Bn},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:3,edge_shapes:L,edge_orientations:bt,edge_shape_ids:N,default_params:rr,vertex_coeffs:Zr,translation_coeffs:Xi,aspect_coeffs:Ko,colouring:Bn},{num_params:4,num_aspects:2,num_vertices:4,num_edge_shapes:4,edge_shapes:ae,edge_orientations:M,edge_shape_ids:he,default_params:Ir,vertex_coeffs:bi,translation_coeffs:Wi,aspect_coeffs:Zo,colouring:Bn},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:3,edge_shapes:me,edge_orientations:wt,edge_shape_ids:N,default_params:hn,vertex_coeffs:Vn,translation_coeffs:qi,aspect_coeffs:$o,colouring:cs},null,{num_params:3,num_aspects:4,num_vertices:4,num_edge_shapes:4,edge_shapes:de,edge_orientations:M,edge_shape_ids:he,default_params:pn,vertex_coeffs:Bi,translation_coeffs:zi,aspect_coeffs:e0,colouring:As},{num_params:2,num_aspects:4,num_vertices:4,num_edge_shapes:3,edge_shapes:Ee,edge_orientations:wt,edge_shape_ids:N,default_params:hn,vertex_coeffs:Vn,translation_coeffs:Ki,aspect_coeffs:t0,colouring:xs},{num_params:3,num_aspects:4,num_vertices:4,num_edge_shapes:3,edge_shapes:me,edge_orientations:bt,edge_shape_ids:N,default_params:xt,vertex_coeffs:wi,translation_coeffs:Zi,aspect_coeffs:n0,colouring:As},{num_params:1,num_aspects:4,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:ce,edge_shape_ids:Ze,default_params:nn,vertex_coeffs:zn,translation_coeffs:$i,aspect_coeffs:r0,colouring:M0},{num_params:3,num_aspects:4,num_vertices:4,num_edge_shapes:3,edge_shapes:me,edge_orientations:Ce,edge_shape_ids:se,default_params:vr,vertex_coeffs:Lr,translation_coeffs:es,aspect_coeffs:i0,colouring:As},{num_params:2,num_aspects:4,num_vertices:4,num_edge_shapes:4,edge_shapes:pe,edge_orientations:M,edge_shape_ids:he,default_params:Yn,vertex_coeffs:Qi,translation_coeffs:ts,aspect_coeffs:s0,colouring:xs},{num_params:0,num_aspects:4,num_vertices:4,num_edge_shapes:2,edge_shapes:Y,edge_orientations:dn,edge_shape_ids:te,default_params:ot,vertex_coeffs:Fn,translation_coeffs:ri,aspect_coeffs:a0,colouring:ua},{num_params:1,num_aspects:8,num_vertices:4,num_edge_shapes:3,edge_shapes:L,edge_orientations:Ge,edge_shape_ids:se,default_params:On,vertex_coeffs:Si,translation_coeffs:ns,aspect_coeffs:o0,colouring:ga},{num_params:2,num_aspects:1,num_vertices:4,num_edge_shapes:2,edge_shapes:X,edge_orientations:M,edge_shape_ids:Ze,default_params:hn,vertex_coeffs:Vn,translation_coeffs:$e,aspect_coeffs:Le,colouring:Br},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:Me,edge_orientations:M,edge_shape_ids:Ze,default_params:hn,vertex_coeffs:Vn,translation_coeffs:yn,aspect_coeffs:sa,colouring:cs},{num_params:1,num_aspects:2,num_vertices:4,num_edge_shapes:1,edge_shapes:A,edge_orientations:Un,edge_shape_ids:Je,default_params:je,vertex_coeffs:Ur,translation_coeffs:rs,aspect_coeffs:l0,colouring:Bn},null,{num_params:0,num_aspects:2,num_vertices:4,num_edge_shapes:1,edge_shapes:A,edge_orientations:dn,edge_shape_ids:Je,default_params:ot,vertex_coeffs:Fn,translation_coeffs:ii,aspect_coeffs:aa,colouring:Bn},{num_params:0,num_aspects:1,num_vertices:4,num_edge_shapes:1,edge_shapes:p,edge_orientations:M,edge_shape_ids:Je,default_params:ot,vertex_coeffs:Fn,translation_coeffs:si,aspect_coeffs:_e,colouring:Br},null,{num_params:1,num_aspects:1,num_vertices:4,num_edge_shapes:2,edge_shapes:Ve,edge_orientations:ve,edge_shape_ids:Ze,default_params:nn,vertex_coeffs:zn,translation_coeffs:ai,aspect_coeffs:Es,colouring:Br},null,{num_params:1,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:we,edge_orientations:ve,edge_shape_ids:Ze,default_params:nn,vertex_coeffs:zn,translation_coeffs:is,aspect_coeffs:c0,colouring:cs},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:3,edge_shapes:x,edge_orientations:nt,edge_shape_ids:N,default_params:rr,vertex_coeffs:Zr,translation_coeffs:ss,aspect_coeffs:A0,colouring:Bn},{num_params:1,num_aspects:1,num_vertices:4,num_edge_shapes:1,edge_shapes:A,edge_orientations:dt,edge_shape_ids:Je,default_params:je,vertex_coeffs:Ur,translation_coeffs:oi,aspect_coeffs:Es,colouring:Br},{num_params:2,num_aspects:2,num_vertices:4,num_edge_shapes:2,edge_shapes:X,edge_orientations:In,edge_shape_ids:te,default_params:nr,vertex_coeffs:Kr,translation_coeffs:ni,aspect_coeffs:f0,colouring:Bn},null,{num_params:0,num_aspects:4,num_vertices:4,num_edge_shapes:1,edge_shapes:A,edge_orientations:Oe,edge_shape_ids:Je,default_params:ot,vertex_coeffs:Fn,translation_coeffs:ri,aspect_coeffs:u0,colouring:ua},{num_params:1,num_aspects:1,num_vertices:4,num_edge_shapes:2,edge_shapes:q,edge_orientations:M,edge_shape_ids:Ze,default_params:nn,vertex_coeffs:zn,translation_coeffs:ai,aspect_coeffs:Es,colouring:Br},{num_params:0,num_aspects:2,num_vertices:4,num_edge_shapes:1,edge_shapes:B,edge_orientations:dn,edge_shape_ids:Je,default_params:ot,vertex_coeffs:Fn,translation_coeffs:ii,aspect_coeffs:aa,colouring:Bn},{num_params:1,num_aspects:1,num_vertices:4,num_edge_shapes:1,edge_shapes:p,edge_orientations:In,edge_shape_ids:Je,default_params:je,vertex_coeffs:Ur,translation_coeffs:oi,aspect_coeffs:Es,colouring:Br},null,{num_params:0,num_aspects:1,num_vertices:4,num_edge_shapes:1,edge_shapes:Q,edge_orientations:M,edge_shape_ids:Je,default_params:ot,vertex_coeffs:Fn,translation_coeffs:si,aspect_coeffs:_e,colouring:Br},{num_params:0,num_aspects:12,num_vertices:3,num_edge_shapes:3,edge_shapes:Ke,edge_orientations:rt,edge_shape_ids:ke,default_params:ot,vertex_coeffs:ki,translation_coeffs:as,aspect_coeffs:g0,colouring:P0},{num_params:1,num_aspects:4,num_vertices:3,num_edge_shapes:3,edge_shapes:ee,edge_orientations:rt,edge_shape_ids:ke,default_params:nn,vertex_coeffs:Di,translation_coeffs:br,aspect_coeffs:d0,colouring:xs},{num_params:0,num_aspects:4,num_vertices:3,num_edge_shapes:2,edge_shapes:K,edge_orientations:An,edge_shape_ids:Pe,default_params:ot,vertex_coeffs:xr,translation_coeffs:os,aspect_coeffs:_0,colouring:da},null,{num_params:0,num_aspects:8,num_vertices:3,num_edge_shapes:2,edge_shapes:g,edge_orientations:An,edge_shape_ids:Pe,default_params:ot,vertex_coeffs:xr,translation_coeffs:li,aspect_coeffs:h0,colouring:ga},{num_params:0,num_aspects:4,num_vertices:3,num_edge_shapes:2,edge_shapes:q,edge_orientations:at,edge_shape_ids:Pe,default_params:ot,vertex_coeffs:xr,translation_coeffs:c,aspect_coeffs:p0,colouring:da},{num_params:1,num_aspects:2,num_vertices:3,num_edge_shapes:2,edge_shapes:g,edge_orientations:_t,edge_shape_ids:U,default_params:kr,vertex_coeffs:Yr,translation_coeffs:f,aspect_coeffs:m0,colouring:Bn},{num_params:2,num_aspects:2,num_vertices:3,num_edge_shapes:3,edge_shapes:i,edge_orientations:rt,edge_shape_ids:ke,default_params:qr,vertex_coeffs:$r,translation_coeffs:y,aspect_coeffs:I0,colouring:Bn},{num_params:2,num_aspects:4,num_vertices:3,num_edge_shapes:3,edge_shapes:be,edge_orientations:rt,edge_shape_ids:ke,default_params:qr,vertex_coeffs:$r,translation_coeffs:F,aspect_coeffs:v0,colouring:As},{num_params:1,num_aspects:4,num_vertices:3,num_edge_shapes:2,edge_shapes:K,edge_orientations:_t,edge_shape_ids:U,default_params:kr,vertex_coeffs:Yr,translation_coeffs:s,aspect_coeffs:C0,colouring:As},null,{num_params:0,num_aspects:6,num_vertices:3,num_edge_shapes:2,edge_shapes:K,edge_orientations:Qt,edge_shape_ids:U,default_params:ot,vertex_coeffs:Or,translation_coeffs:a,aspect_coeffs:y0,colouring:[0,1,0,1,0,1,0,0,0,0,0,0,0,1,2,0,1,2,2]},null,{num_params:0,num_aspects:2,num_vertices:3,num_edge_shapes:1,edge_shapes:p,edge_orientations:rt,edge_shape_ids:V,default_params:ot,vertex_coeffs:Or,translation_coeffs:Kn,aspect_coeffs:oa,colouring:Bn},{num_params:1,num_aspects:2,num_vertices:3,num_edge_shapes:2,edge_shapes:Me,edge_orientations:De,edge_shape_ids:U,default_params:kr,vertex_coeffs:Yr,translation_coeffs:_,aspect_coeffs:E0,colouring:Bn},null,{num_params:0,num_aspects:2,num_vertices:3,num_edge_shapes:1,edge_shapes:Q,edge_orientations:rt,edge_shape_ids:V,default_params:ot,vertex_coeffs:Or,translation_coeffs:Kn,aspect_coeffs:oa,colouring:Bn}]}();function Vs(n,t,e){let r=new ze(0,0);for(let i=0;i<e.length;++i)r.x+=n[t+i]*e[i],r.y+=n[t+e.length+i]*e[i];return r}function Ul(n,t,e){let r=[];for(let i=0;i<2;++i)for(let o=0;o<3;++o){let A=0;for(let p=0;p<e.length;++p)A+=n[t+p]*e[p];r.push(A),t+=e.length}return r}const xl=[[1,0,0,0,1,0],[-1,0,1,0,-1,0],[-1,0,1,0,1,0],[1,0,0,0,-1,0]],Yl=[[.5,0,0,0,.5,0],[-.5,0,1,0,.5,0]],Ol=[[.5,0,0,0,.5,0],[-.5,0,1,0,-.5,0]];class Fa{constructor(t){Xe(this,"tiling_type");Xe(this,"ttd");Xe(this,"parameters");Xe(this,"verts");Xe(this,"reversals");Xe(this,"edges");Xe(this,"aspects");Xe(this,"t1");Xe(this,"t2");this.reset(t)}reset(t){this.tiling_type=t,this.ttd=Ll[t],this.parameters=this.ttd.default_params.slice(0),this.parameters.push(1),this.recompute()}recompute(){const t=this.numVertices(),e=this.numParameters(),r=this.numAspects();this.verts=[];for(let i=0;i<t;++i)this.verts.push(Vs(this.ttd.vertex_coeffs,i*(2*(e+1)),this.parameters));this.reversals=[],this.edges=[];for(let i=0;i<t;++i){const o=this.ttd.edge_orientations[2*i],A=this.ttd.edge_orientations[2*i+1];this.reversals.push(o!=A),this.edges.push(Hs(Pl(this.verts[i],this.verts[(i+1)%t]),xl[2*(o?1:0)+(A?1:0)]))}this.aspects=[];for(let i=0;i<r;++i)this.aspects.push(Ul(this.ttd.aspect_coeffs,6*(e+1)*i,this.parameters));this.t1=Vs(this.ttd.translation_coeffs,0,this.parameters),this.t2=Vs(this.ttd.translation_coeffs,2*(e+1),this.parameters)}getTilingType(){return this.tiling_type}numParameters(){return this.ttd.num_params}setParameters(t){t.length==this.parameters.length-1&&(this.parameters=t.slice(0),this.parameters.push(1),this.recompute())}getParameters(){return this.parameters.slice(0,-1)}numEdgeShapes(){return this.ttd.num_edge_shapes}getEdgeShape(t){return this.ttd.edge_shapes[t]}*shape(){for(let t=0;t<this.numVertices();++t){const e=this.ttd.edge_shape_ids[t];yield{T:this.edges[t],id:e,shape:this.ttd.edge_shapes[e],rev:this.reversals[t]}}}*parts(){for(let t=0;t<this.numVertices();++t){const e=this.ttd.edge_shape_ids[t],r=this.ttd.edge_shapes[e];if(r==z.J||r==z.I)yield{T:this.edges[t],id:e,shape:r,rev:this.reversals[t],second:!1};else{const i=this.reversals[t]?[1,0]:[0,1],o=r==z.U?Yl:Ol;yield{T:Hs(this.edges[t],o[i[0]]),id:e,shape:r,rev:!1,second:!1},yield{T:Hs(this.edges[t],o[i[1]]),id:e,shape:r,rev:!0,second:!0}}}}numVertices(){return this.ttd.num_vertices}getVertex(t){return{...this.verts[t]}}vertices(){return this.verts.map(t=>({...t}))}numAspects(){return this.ttd.num_aspects}getAspectTransform(t){return[...this.aspects[t]]}getT1(){return{...this.t1}}getT2(){return{...this.t2}}*fillRegionBounds(t,e,r,i){yield*this.fillRegionQuad(new ze(t,e),new ze(r,e),new ze(r,i),new ze(t,i))}*fillRegionQuad(t,e,r,i){const o=this.getT1(),A=this.getT2(),p=this.ttd,u=this.aspects;let l;function g(T,w){return new ze(T[0]*w.x+T[1]*w.y,T[2]*w.x+T[3]*w.y)}function h(T,w,b){const x=(b-T.y)/(w.y-T.y);return new ze((1-x)*T.x+x*w.x,b)}function*m(T,w,b,x,L){let Y=T.x;const q=(x.x-T.x)/(x.y-T.y);let K=w.x;const ae=(b.x-w.x)/(b.y-w.y),me=T.y;let de=b.y;L&&(de=de+1);let Ee=Math.floor(me);for(l&&(Ee=Math.max(l,Ee));Ee<de;){const pe=Math.trunc(Ee);let X=Math.floor(Y);for(;X<K+1e-7;){const Me=Math.trunc(X);for(let Ve=0;Ve<p.num_aspects;++Ve){let we=u[Ve].slice(0);we[2]+=Me*o.x+pe*A.x,we[5]+=Me*o.y+pe*A.y,yield{T:we,t1:Me,t2:pe,aspect:Ve}}X+=1}Y+=q,K+=ae,Ee+=1}l=Ee}function*v(T,w,b,x,L){T.x>w.x?yield*m(w,T,x,b,L):yield*m(T,w,b,x,L)}function*B(T,w,b,x,L){T.y>b.y?yield*m(b,x,T,w,L):yield*m(T,w,b,x,L)}const Q=1/(o.x*A.y-A.x*o.y),D=[A.y*Q,-A.x*Q,-o.y*Q,o.x*Q];let I=[g(D,t),g(D,e),g(D,r),g(D,i)];if(Q<0){let T=I[1];I[1]=I[3],I[3]=T}if(Math.abs(I[0].y-I[1].y)<1e-7)yield*B(I[0],I[1],I[2],I[3],!0);else if(Math.abs(I[1].y-I[2].y)<1e-7)yield*B(I[1],I[2],I[3],I[0],!0);else{let T=0;for(let Y=1;Y<4;++Y)I[Y].y<I[T].y&&(T=Y);let w=I[T],b=I[(T+1)%4],x=I[(T+2)%4],L=I[(T+3)%4];if(b.x>L.x){let Y=b;b=L,L=Y}if(b.y<L.y){const Y=h(w,L,b.y),q=h(b,x,L.y);yield*v(w,w,Y,b,!1),yield*v(b,Y,L,q,!1),yield*v(q,L,x,x,!0)}else{const Y=h(w,b,L.y),q=h(L,x,b.y);yield*v(w,w,L,Y,!1),yield*v(Y,L,q,b,!1),yield*v(b,q,x,x,!0)}}}getColour(t,e,r){const i=this.ttd.colouring,o=i[18];let A=t%o;A<0&&(A+=o);let p=e%o;p<0&&(p+=o);let u=i[r];for(let l=0;l<A;++l)u=i[12+u];for(let l=0;l<p;++l)u=i[15+u];return u}}var Gl={grad:.9,turn:360,rad:360/(2*Math.PI)},cr=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},en=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*n)/e+0},Rn=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),n>e?e:n>t?n:t},Po=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Na=function(n){return{r:Rn(n.r,0,255),g:Rn(n.g,0,255),b:Rn(n.b,0,255),a:Rn(n.a)}},Js=function(n){return{r:en(n.r),g:en(n.g),b:en(n.b),a:en(n.a,3)}},Hl=/^#([0-9a-f]{3,8})$/i,ws=function(n){var t=n.toString(16);return t.length<2?"0"+t:t},Lo=function(n){var t=n.r,e=n.g,r=n.b,i=n.a,o=Math.max(t,e,r),A=o-Math.min(t,e,r),p=A?o===t?(e-r)/A:o===e?2+(r-t)/A:4+(t-e)/A:0;return{h:60*(p<0?p+6:p),s:o?A/o*100:0,v:o/255*100,a:i}},Uo=function(n){var t=n.h,e=n.s,r=n.v,i=n.a;t=t/360*6,e/=100,r/=100;var o=Math.floor(t),A=r*(1-e),p=r*(1-(t-o)*e),u=r*(1-(1-t+o)*e),l=o%6;return{r:255*[r,p,A,A,u,r][l],g:255*[u,r,r,p,A,A][l],b:255*[A,A,u,r,r,p][l],a:i}},Ra=function(n){return{h:Po(n.h),s:Rn(n.s,0,100),l:Rn(n.l,0,100),a:Rn(n.a)}},Ma=function(n){return{h:en(n.h),s:en(n.s),l:en(n.l),a:en(n.a,3)}},Pa=function(n){return Uo((e=(t=n).s,{h:t.h,s:(e*=((r=t.l)<50?r:100-r)/100)>0?2*e/(r+e)*100:0,v:r+e,a:t.a}));var t,e,r},hs=function(n){return{h:(t=Lo(n)).h,s:(i=(200-(e=t.s))*(r=t.v)/100)>0&&i<200?e*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,e,r,i},Vl=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Jl=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jl=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xl=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,La={string:[[function(n){var t=Hl.exec(n);return t?(n=t[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?en(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?en(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var t=jl.exec(n)||Xl.exec(n);return t?t[2]!==t[4]||t[4]!==t[6]?null:Na({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(n){var t=Vl.exec(n)||Jl.exec(n);if(!t)return null;var e,r,i=Ra({h:(e=t[1],r=t[2],r===void 0&&(r="deg"),Number(e)*(Gl[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Pa(i)},"hsl"]],object:[[function(n){var t=n.r,e=n.g,r=n.b,i=n.a,o=i===void 0?1:i;return cr(t)&&cr(e)&&cr(r)?Na({r:Number(t),g:Number(e),b:Number(r),a:Number(o)}):null},"rgb"],[function(n){var t=n.h,e=n.s,r=n.l,i=n.a,o=i===void 0?1:i;if(!cr(t)||!cr(e)||!cr(r))return null;var A=Ra({h:Number(t),s:Number(e),l:Number(r),a:Number(o)});return Pa(A)},"hsl"],[function(n){var t=n.h,e=n.s,r=n.v,i=n.a,o=i===void 0?1:i;if(!cr(t)||!cr(e)||!cr(r))return null;var A=function(p){return{h:Po(p.h),s:Rn(p.s,0,100),v:Rn(p.v,0,100),a:Rn(p.a)}}({h:Number(t),s:Number(e),v:Number(r),a:Number(o)});return Uo(A)},"hsv"]]},Ua=function(n,t){for(var e=0;e<t.length;e++){var r=t[e][0](n);if(r)return[r,t[e][1]]}return[null,void 0]},Wl=function(n){return typeof n=="string"?Ua(n.trim(),La.string):typeof n=="object"&&n!==null?Ua(n,La.object):[null,void 0]},js=function(n,t){var e=hs(n);return{h:e.h,s:Rn(e.s+100*t,0,100),l:e.l,a:e.a}},Xs=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},xa=function(n,t){var e=hs(n);return{h:e.h,s:e.s,l:Rn(e.l+100*t,0,100),a:e.a}},Ya=function(){function n(t){this.parsed=Wl(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return en(Xs(this.rgba),2)},n.prototype.isDark=function(){return Xs(this.rgba)<.5},n.prototype.isLight=function(){return Xs(this.rgba)>=.5},n.prototype.toHex=function(){return t=Js(this.rgba),e=t.r,r=t.g,i=t.b,A=(o=t.a)<1?ws(en(255*o)):"","#"+ws(e)+ws(r)+ws(i)+A;var t,e,r,i,o,A},n.prototype.toRgb=function(){return Js(this.rgba)},n.prototype.toRgbString=function(){return t=Js(this.rgba),e=t.r,r=t.g,i=t.b,(o=t.a)<1?"rgba("+e+", "+r+", "+i+", "+o+")":"rgb("+e+", "+r+", "+i+")";var t,e,r,i,o},n.prototype.toHsl=function(){return Ma(hs(this.rgba))},n.prototype.toHslString=function(){return t=Ma(hs(this.rgba)),e=t.h,r=t.s,i=t.l,(o=t.a)<1?"hsla("+e+", "+r+"%, "+i+"%, "+o+")":"hsl("+e+", "+r+"%, "+i+"%)";var t,e,r,i,o},n.prototype.toHsv=function(){return t=Lo(this.rgba),{h:en(t.h),s:en(t.s),v:en(t.v),a:en(t.a,3)};var t},n.prototype.invert=function(){return wn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},n.prototype.saturate=function(t){return t===void 0&&(t=.1),wn(js(this.rgba,t))},n.prototype.desaturate=function(t){return t===void 0&&(t=.1),wn(js(this.rgba,-t))},n.prototype.grayscale=function(){return wn(js(this.rgba,-1))},n.prototype.lighten=function(t){return t===void 0&&(t=.1),wn(xa(this.rgba,t))},n.prototype.darken=function(t){return t===void 0&&(t=.1),wn(xa(this.rgba,-t))},n.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},n.prototype.alpha=function(t){return typeof t=="number"?wn({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):en(this.rgba.a,3);var e},n.prototype.hue=function(t){var e=hs(this.rgba);return typeof t=="number"?wn({h:t,s:e.s,l:e.l,a:e.a}):en(e.h)},n.prototype.isEqual=function(t){return this.toHex()===wn(t).toHex()},n}(),wn=function(n){return n instanceof Ya?n:new Ya(n)};function Oa(n){let t;return{c(){t=O("input"),d(t,"type","hidden"),d(t,"name",n[3]),t.value=n[0]},m(e,r){re(e,t,r)},p(e,r){r&8&&d(t,"name",e[3]),r&1&&(t.value=e[0])},d(e){e&&ne(t)}}}function ql(n){let t,e,r,i,o,A,p,u,l,g=n[3]&&Oa(n);return{c(){t=O("div"),e=O("div"),r=ie(),i=O("div"),A=ie(),g&&g.c(),p=Ut(),d(e,"class","track svelte-x7oaj0"),d(i,"class","thumb svelte-x7oaj0"),d(t,"class","slider svelte-x7oaj0"),d(t,"role","slider"),d(t,"aria-orientation",n[4]),d(t,"aria-valuemax",n[11]),d(t,"aria-valuemin",n[10]),d(t,"aria-valuenow",n[0]),d(t,"aria-valuetext",o=n[2](n[0])),d(t,"aria-label",n[7]),d(t,"aria-labelledby",n[8]),d(t,"aria-controls",n[9]),d(t,"tabindex","0"),_r(t,"reverse",n[5]),Vt(t,"--position",n[12])},m(h,m){re(h,t,m),k(t,e),k(t,r),k(t,i),n[22](t),re(h,A,m),g&&g.m(h,m),re(h,p,m),u||(l=[fe(window,"mousemove",n[15]),fe(window,"mouseup",n[16]),fe(t,"keydown",n[13]),fe(t,"mousedown",q0(function(){fr(n[6]?void 0:n[14])&&(n[6]?void 0:n[14]).apply(this,arguments)})),fe(t,"touchstart",ur(function(){fr(n[6]?void 0:n[17])&&(n[6]?void 0:n[17]).apply(this,arguments)}),{passive:!1}),fe(t,"touchmove",ur(function(){fr(n[6]?void 0:n[17])&&(n[6]?void 0:n[17]).apply(this,arguments)}),{passive:!1}),fe(t,"touchend",ur(function(){fr(n[6]?void 0:n[17])&&(n[6]?void 0:n[17]).apply(this,arguments)}),{passive:!1})],u=!0)},p(h,[m]){n=h,m&16&&d(t,"aria-orientation",n[4]),m&2048&&d(t,"aria-valuemax",n[11]),m&1024&&d(t,"aria-valuemin",n[10]),m&1&&d(t,"aria-valuenow",n[0]),m&5&&o!==(o=n[2](n[0]))&&d(t,"aria-valuetext",o),m&128&&d(t,"aria-label",n[7]),m&256&&d(t,"aria-labelledby",n[8]),m&512&&d(t,"aria-controls",n[9]),m&32&&_r(t,"reverse",n[5]),m&4096&&Vt(t,"--position",n[12]),n[3]?g?g.p(n,m):(g=Oa(n),g.c(),g.m(p.parentNode,p)):g&&(g.d(1),g=null)},i:St,o:St,d(h){h&&(ne(t),ne(A),ne(p)),n[22](null),g&&g.d(h),u=!1,cn(l)}}}function zl(n,t,e){let r,i,o,A,{min:p=0}=t,{max:u=100}=t,{step:l=1}=t,{value:g=50}=t,{ariaValueText:h=X=>X.toString()}=t,{name:m=void 0}=t,{direction:v="horizontal"}=t,{reverse:B=!1}=t,{keyboardOnly:Q=!1}=t,{slider:D=void 0}=t,{ariaLabel:I=void 0}=t,{ariaLabelledBy:T=void 0}=t,{ariaControls:w=void 0}=t,{isDragging:b=!1}=t;const x=Is();function L(X){const Me=1/o,Ve=Math.round(X*Me)/Me;return Math.max(r,Math.min(i,Ve))}function Y(X){const Me=X.shiftKey?o*10:o;X.key==="ArrowUp"||X.key==="ArrowRight"?(e(0,g+=Me),X.preventDefault()):X.key==="ArrowDown"||X.key==="ArrowLeft"?(e(0,g-=Me),X.preventDefault()):X.key==="Home"?(e(0,g=r),X.preventDefault()):X.key==="End"?(e(0,g=i),X.preventDefault()):X.key==="PageUp"?(e(0,g+=o*10),X.preventDefault()):X.key==="PageDown"&&(e(0,g-=o*10),X.preventDefault()),e(0,g=L(g)),x("input",g)}const q={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function K(X){const Me=(D==null?void 0:D[q[v].clientSize])||120,Ve=(D==null?void 0:D.getBoundingClientRect()[q[v].offset])||0;let we=X[q[v].client]-Ve;v==="vertical"&&(we=-1*we+Me),B?e(0,g=i-we/Me*(i-r)):e(0,g=we/Me*(i-r)+r),e(0,g=L(g)),x("input",g)}function ae(X){K(X),e(18,b=!0)}function me(X){b&&K(X)}function de(){e(18,b=!1)}function Ee(X){K({clientX:X.changedTouches[0].clientX,clientY:X.changedTouches[0].clientY})}function pe(X){Dt[X?"unshift":"push"](()=>{D=X,e(1,D)})}return n.$$set=X=>{"min"in X&&e(19,p=X.min),"max"in X&&e(20,u=X.max),"step"in X&&e(21,l=X.step),"value"in X&&e(0,g=X.value),"ariaValueText"in X&&e(2,h=X.ariaValueText),"name"in X&&e(3,m=X.name),"direction"in X&&e(4,v=X.direction),"reverse"in X&&e(5,B=X.reverse),"keyboardOnly"in X&&e(6,Q=X.keyboardOnly),"slider"in X&&e(1,D=X.slider),"ariaLabel"in X&&e(7,I=X.ariaLabel),"ariaLabelledBy"in X&&e(8,T=X.ariaLabelledBy),"ariaControls"in X&&e(9,w=X.ariaControls),"isDragging"in X&&e(18,b=X.isDragging)},n.$$.update=()=>{n.$$.dirty&524288&&e(10,r=typeof p=="string"?parseFloat(p):p),n.$$.dirty&1048576&&e(11,i=typeof u=="string"?parseFloat(u):u),n.$$.dirty&2097152&&(o=typeof l=="string"?parseFloat(l):l),n.$$.dirty&3073&&e(12,A=((g-r)/(i-r)*1).toFixed(4))},[g,D,h,m,v,B,Q,I,T,w,r,i,A,Y,ae,me,de,Ee,b,p,u,l,pe]}class Ms extends Ln{constructor(t){super(),Pn(this,t,zl,ql,kn,{min:19,max:20,step:21,value:0,ariaValueText:2,name:3,direction:4,reverse:5,keyboardOnly:6,slider:1,ariaLabel:7,ariaLabelledBy:8,ariaControls:9,isDragging:18})}}function Kl(n){let t,e,r,i,o,A,p,u,l,g,h,m,v;var B=n[2].pickerIndicator;function Q(b,x){return{props:{pos:b[6],isDark:b[3]}}}B&&(e=Mn(B,Q(n)));function D(b){n[13](b)}let I={keyboardOnly:!0,ariaValueText:Zl,ariaLabel:"saturation color"};n[0]!==void 0&&(I.value=n[0]),o=new Ms({props:I}),Dt.push(()=>Sn(o,"value",D));function T(b){n[14](b)}let w={keyboardOnly:!0,ariaValueText:$l,direction:"vertical",ariaLabel:"brightness color"};return n[1]!==void 0&&(w.value=n[1]),l=new Ms({props:w}),Dt.push(()=>Sn(l,"value",T)),{c(){t=O("div"),e&&It(e.$$.fragment),r=ie(),i=O("div"),It(o.$$.fragment),p=ie(),u=O("div"),It(l.$$.fragment),d(i,"class","s svelte-amfbfx"),Vt(i,"--pos-y",n[6].y),d(u,"class","v svelte-amfbfx"),Vt(u,"--pos-x",n[6].x),d(t,"class","picker svelte-amfbfx"),Vt(t,"--picker-color-bg",n[5])},m(b,x){re(b,t,x),e&&pt(e,t,null),k(t,r),k(t,i),pt(o,i,null),k(t,p),k(t,u),pt(l,u,null),n[15](t),h=!0,m||(v=[fe(window,"mouseup",n[8]),fe(window,"mousedown",n[10]),fe(window,"mousemove",n[9]),fe(t,"mousedown",ur(n[7])),fe(t,"touchstart",n[11],{passive:!1}),fe(t,"touchmove",ur(n[11]),{passive:!1}),fe(t,"touchend",n[11],{passive:!1})],m=!0)},p(b,[x]){if(x&4&&B!==(B=b[2].pickerIndicator)){if(e){un();const q=e;Re(q.$$.fragment,1,0,()=>{mt(q,1)}),gn()}B?(e=Mn(B,Q(b)),It(e.$$.fragment),Be(e.$$.fragment,1),pt(e,t,r)):e=null}else if(B){const q={};x&64&&(q.pos=b[6]),x&8&&(q.isDark=b[3]),e.$set(q)}const L={};!A&&x&1&&(A=!0,L.value=b[0],er(()=>A=!1)),o.$set(L),x&64&&Vt(i,"--pos-y",b[6].y);const Y={};!g&&x&2&&(g=!0,Y.value=b[1],er(()=>g=!1)),l.$set(Y),x&64&&Vt(u,"--pos-x",b[6].x),x&32&&Vt(t,"--picker-color-bg",b[5])},i(b){h||(e&&Be(e.$$.fragment,b),Be(o.$$.fragment,b),Be(l.$$.fragment,b),h=!0)},o(b){e&&Re(e.$$.fragment,b),Re(o.$$.fragment,b),Re(l.$$.fragment,b),h=!1},d(b){b&&ne(t),e&&mt(e),mt(o),mt(l),n[15](null),m=!1,cn(v)}}}function Qs(n,t,e){return Math.min(Math.max(t,n),e)}const Zl=n=>`${n}%`,$l=n=>`${n}%`;function ec(n,t,e){const r=Is();let{components:i}=t,{h:o}=t,{s:A}=t,{v:p}=t,{isDark:u}=t,l,g=!1,h,m={x:100,y:0};function v(L){const{width:Y,left:q,height:K,top:ae}=l.getBoundingClientRect(),me={x:Qs(L.clientX-q,0,Y),y:Qs(L.clientY-ae,0,K)};e(0,A=Qs(me.x/Y,0,1)*100),e(1,p=Qs((K-me.y)/K,0,1)*100)}function B(L){L.button===0&&(g=!0,v(L))}function Q(){g=!1}function D(L){g&&v(L)}function I(L){L.target.isSameNode(l)}function T(L){L.preventDefault(),v(L.changedTouches[0])}function w(L){A=L,e(0,A)}function b(L){p=L,e(1,p)}function x(L){Dt[L?"unshift":"push"](()=>{l=L,e(4,l)})}return n.$$set=L=>{"components"in L&&e(2,i=L.components),"h"in L&&e(12,o=L.h),"s"in L&&e(0,A=L.s),"v"in L&&e(1,p=L.v),"isDark"in L&&e(3,u=L.isDark)},n.$$.update=()=>{n.$$.dirty&4096&&typeof o=="number"&&e(5,h=wn({h:o,s:100,v:100,a:1}).toHex()),n.$$.dirty&19&&typeof A=="number"&&typeof p=="number"&&l&&e(6,m={x:A,y:100-p}),n.$$.dirty&3&&r("input",{s:A,v:p})},[A,p,i,u,l,h,m,B,Q,D,I,T,o,w,b,x]}class tc extends Ln{constructor(t){super(),Pn(this,t,ec,Kl,kn,{components:2,h:12,s:0,v:1,isDark:3})}}function nc(n){let t;return{c(){t=O("div"),d(t,"class","picker-indicator svelte-i5mg2p"),_r(t,"is-dark",n[1]),Vt(t,"--pos-x",n[0].x),Vt(t,"--pos-y",n[0].y)},m(e,r){re(e,t,r)},p(e,[r]){r&2&&_r(t,"is-dark",e[1]),r&1&&Vt(t,"--pos-x",e[0].x),r&1&&Vt(t,"--pos-y",e[0].y)},i:St,o:St,d(e){e&&ne(t)}}}function rc(n,t,e){let{pos:r}=t,{isDark:i}=t;return n.$$set=o=>{"pos"in o&&e(0,r=o.pos),"isDark"in o&&e(1,i=o.isDark)},[r,i]}class ic extends Ln{constructor(t){super(),Pn(this,t,rc,nc,kn,{pos:0,isDark:1})}}function sc(n){let t,e,r,i,o,A,p,u,l,g;return{c(){t=O("input"),r=ie(),i=O("input"),A=ie(),p=O("input"),d(t,"aria-label",e=n[4].label.h),t.value=n[9],d(t,"type","number"),d(t,"min","0"),d(t,"max","360"),d(t,"class","svelte-p68edl"),d(i,"aria-label",o=n[4].label.s),i.value=n[8],d(i,"type","number"),d(i,"min","0"),d(i,"max","100"),d(i,"class","svelte-p68edl"),d(p,"aria-label",u=n[4].label.v),p.value=n[7],d(p,"type","number"),d(p,"min","0"),d(p,"max","100"),d(p,"class","svelte-p68edl")},m(h,m){re(h,t,m),re(h,r,m),re(h,i,m),re(h,A,m),re(h,p,m),l||(g=[fe(t,"input",n[12]("h")),fe(i,"input",n[12]("s")),fe(p,"input",n[12]("v"))],l=!0)},p(h,m){m&16&&e!==(e=h[4].label.h)&&d(t,"aria-label",e),m&512&&t.value!==h[9]&&(t.value=h[9]),m&16&&o!==(o=h[4].label.s)&&d(i,"aria-label",o),m&256&&i.value!==h[8]&&(i.value=h[8]),m&16&&u!==(u=h[4].label.v)&&d(p,"aria-label",u),m&128&&p.value!==h[7]&&(p.value=h[7])},d(h){h&&(ne(t),ne(r),ne(i),ne(A),ne(p)),l=!1,cn(g)}}}function ac(n){let t,e,r,i,o,A,p,u,l,g,h,m,v;return{c(){t=O("input"),i=ie(),o=O("input"),u=ie(),l=O("input"),d(t,"aria-label",e=n[4].label.r),t.value=r=n[0].r,d(t,"type","number"),d(t,"min","0"),d(t,"max","255"),d(t,"class","svelte-p68edl"),d(o,"aria-label",A=n[4].label.g),o.value=p=n[0].g,d(o,"type","number"),d(o,"min","0"),d(o,"max","255"),d(o,"class","svelte-p68edl"),d(l,"aria-label",g=n[4].label.b),l.value=h=n[0].b,d(l,"type","number"),d(l,"min","0"),d(l,"max","255"),d(l,"class","svelte-p68edl")},m(B,Q){re(B,t,Q),re(B,i,Q),re(B,o,Q),re(B,u,Q),re(B,l,Q),m||(v=[fe(t,"input",n[11]("r")),fe(o,"input",n[11]("g")),fe(l,"input",n[11]("b"))],m=!0)},p(B,Q){Q&16&&e!==(e=B[4].label.r)&&d(t,"aria-label",e),Q&1&&r!==(r=B[0].r)&&t.value!==r&&(t.value=r),Q&16&&A!==(A=B[4].label.g)&&d(o,"aria-label",A),Q&1&&p!==(p=B[0].g)&&o.value!==p&&(o.value=p),Q&16&&g!==(g=B[4].label.b)&&d(l,"aria-label",g),Q&1&&h!==(h=B[0].b)&&l.value!==h&&(l.value=h)},d(B){B&&(ne(t),ne(i),ne(o),ne(u),ne(l)),m=!1,cn(v)}}}function oc(n){let t,e,r,i;return{c(){t=O("input"),d(t,"aria-label",e=n[4].label.hex),t.value=n[1],d(t,"class","svelte-p68edl"),Vt(t,"flex",3)},m(o,A){re(o,t,A),r||(i=fe(t,"input",n[10]),r=!0)},p(o,A){A&16&&e!==(e=o[4].label.hex)&&d(t,"aria-label",e),A&2&&t.value!==o[1]&&(t.value=o[1])},d(o){o&&ne(t),r=!1,i()}}}function Ga(n){let t,e,r,i;return{c(){t=O("input"),d(t,"aria-label",e=n[4].label.a),t.value=n[6],d(t,"type","number"),d(t,"min","0"),d(t,"max","1"),d(t,"step","0.01"),d(t,"class","svelte-p68edl")},m(o,A){re(o,t,A),r||(i=fe(t,"input",function(){fr(n[5]<=1?n[11]("a"):n[12]("a"))&&(n[5]<=1?n[11]("a"):n[12]("a")).apply(this,arguments)}),r=!0)},p(o,A){n=o,A&16&&e!==(e=n[4].label.a)&&d(t,"aria-label",e),A&64&&t.value!==n[6]&&(t.value=n[6])},d(o){o&&ne(t),r=!1,i()}}}function Ha(n){let t,e,r=n[4].color[n[3][n[5]]]+"",i,o,A,p=n[4].changeTo+"",u,l,g=n[4].color[n[3][(n[5]+1)%3]]+"",h,m,v;return{c(){t=O("button"),e=O("span"),i=Ot(r),o=ie(),A=O("span"),u=Ot(p),l=ie(),h=Ot(g),d(e,"class","disappear svelte-p68edl"),d(e,"aria-hidden","true"),d(A,"class","appear svelte-p68edl"),d(t,"class","svelte-p68edl")},m(B,Q){re(B,t,Q),k(t,e),k(e,i),k(t,o),k(t,A),k(A,u),k(A,l),k(A,h),m||(v=fe(t,"click",n[14]),m=!0)},p(B,Q){Q&56&&r!==(r=B[4].color[B[3][B[5]]]+"")&&jn(i,r),Q&16&&p!==(p=B[4].changeTo+"")&&jn(u,p),Q&56&&g!==(g=B[4].color[B[3][(B[5]+1)%3]]+"")&&jn(h,g)},d(B){B&&ne(t),m=!1,v()}}}function lc(n){let t,e,r,i;function o(g,h){return g[5]===0?oc:g[5]===1?ac:sc}let A=o(n),p=A(n),u=n[2]&&Ga(n),l=n[3].length>1&&Ha(n);return{c(){t=O("div"),e=O("div"),p.c(),r=ie(),u&&u.c(),i=ie(),l&&l.c(),d(e,"class","input-container svelte-p68edl"),d(t,"class","text-input svelte-p68edl")},m(g,h){re(g,t,h),k(t,e),p.m(e,null),k(e,r),u&&u.m(e,null),k(t,i),l&&l.m(t,null)},p(g,[h]){A===(A=o(g))&&p?p.p(g,h):(p.d(1),p=A(g),p&&(p.c(),p.m(e,r))),g[2]?u?u.p(g,h):(u=Ga(g),u.c(),u.m(e,null)):u&&(u.d(1),u=null),g[3].length>1?l?l.p(g,h):(l=Ha(g),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i:St,o:St,d(g){g&&ne(t),p.d(),u&&u.d(),l&&l.d()}}}const cc=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;function Ac(n,t,e){let r,i,o,A;const p=Is();let{isAlpha:u}=t,{rgb:l}=t,{hsv:g}=t,{hex:h}=t,{textInputModes:m}=t,{texts:v}=t,B=0;function Q(w){const b=w.target;cc.test(b.value)&&(e(1,h=b.value),p("input",{hex:h}))}function D(w){return function(b){e(0,l={...l,[w]:parseFloat(b.target.value)}),p("input",{rgb:l})}}function I(w){return function(b){e(13,g={...g,[w]:parseFloat(b.target.value)}),p("input",{hsv:g})}}const T=()=>e(5,B=(B+1)%3);return n.$$set=w=>{"isAlpha"in w&&e(2,u=w.isAlpha),"rgb"in w&&e(0,l=w.rgb),"hsv"in w&&e(13,g=w.hsv),"hex"in w&&e(1,h=w.hex),"textInputModes"in w&&e(3,m=w.textInputModes),"texts"in w&&e(4,v=w.texts)},n.$$.update=()=>{n.$$.dirty&8192&&e(9,r=Math.round(g.h)),n.$$.dirty&8192&&e(8,i=Math.round(g.s)),n.$$.dirty&8192&&e(7,o=Math.round(g.v)),n.$$.dirty&8192&&e(6,A=g.a===void 0?1:Math.round(g.a*100)/100)},[l,h,u,m,v,B,A,o,i,r,Q,D,I,g,T]}class fc extends Ln{constructor(t){super(),Pn(this,t,Ac,lc,kn,{isAlpha:2,rgb:0,hsv:13,hex:1,textInputModes:3,texts:4})}}function uc(n){let t,e,r,i,o,A,p,u,l,g,h;return{c(){t=O("label"),e=O("div"),r=O("input"),i=ie(),o=O("div"),A=ie(),p=O("div"),u=ie(),l=Ot(n[2]),d(r,"type","color"),d(r,"name",n[3]),r.value=n[1],d(r,"aria-haspopup","dialog"),d(r,"class","svelte-r4tbal"),d(o,"class","alpha svelte-r4tbal"),d(p,"class","color svelte-r4tbal"),Vt(p,"background",n[1]),d(e,"class","container svelte-r4tbal"),d(t,"class","svelte-r4tbal")},m(m,v){re(m,t,v),k(t,e),k(e,r),k(e,i),k(e,o),k(e,A),k(e,p),k(t,u),k(t,l),n[5](t),g||(h=[fe(r,"click",ur(Ss)),fe(r,"mousedown",ur(Ss)),fe(t,"click",ur(Ss)),fe(t,"mousedown",ur(Ss))],g=!0)},p(m,[v]){v&8&&d(r,"name",m[3]),v&2&&(r.value=m[1]),v&2&&Vt(p,"background",m[1]),v&4&&jn(l,m[2])},i:St,o:St,d(m){m&&ne(t),n[5](null),g=!1,cn(h)}}}function Ss(){}function gc(n,t,e){let{labelElement:r}=t,{hex:i}=t,{label:o}=t,{name:A=void 0}=t,{isOpen:p}=t;function u(l){Dt[l?"unshift":"push"](()=>{r=l,e(0,r)})}return n.$$set=l=>{"labelElement"in l&&e(0,r=l.labelElement),"hex"in l&&e(1,i=l.hex),"label"in l&&e(2,o=l.label),"name"in l&&e(3,A=l.name),"isOpen"in l&&e(4,p=l.isOpen)},[r,i,o,A,p,u]}class dc extends Ln{constructor(t){super(),Pn(this,t,gc,uc,kn,{labelElement:0,hex:1,label:2,name:3,isOpen:4})}}function _c(n){let t,e,r;const i=n[4].default,o=G0(i,n,n[3],null);return{c(){t=O("div"),o&&o.c(),d(t,"class","wrapper svelte-1h4o41o"),d(t,"role",e=n[2]?"dialog":void 0),d(t,"aria-label","color picker"),_r(t,"is-open",n[1])},m(A,p){re(A,t,p),o&&o.m(t,null),n[5](t),r=!0},p(A,[p]){o&&o.p&&(!r||p&8)&&V0(o,i,A,A[3],r?H0(i,A[3],p,null):J0(A[3]),null),(!r||p&4&&e!==(e=A[2]?"dialog":void 0))&&d(t,"role",e),(!r||p&2)&&_r(t,"is-open",A[1])},i(A){r||(Be(o,A),r=!0)},o(A){Re(o,A),r=!1},d(A){A&&ne(t),o&&o.d(A),n[5](null)}}}function hc(n,t,e){let{$$slots:r={},$$scope:i}=t,{wrapper:o}=t,{isOpen:A}=t,{isDialog:p}=t;function u(l){Dt[l?"unshift":"push"](()=>{o=l,e(0,o)})}return n.$$set=l=>{"wrapper"in l&&e(0,o=l.wrapper),"isOpen"in l&&e(1,A=l.isOpen),"isDialog"in l&&e(2,p=l.isDialog),"$$scope"in l&&e(3,i=l.$$scope)},[o,A,p,i,r,u]}class pc extends Ln{constructor(t){super(),Pn(this,t,hc,_c,kn,{wrapper:0,isOpen:1,isDialog:2})}}const Ws={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to "},xo="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function mc(n){return function(t){if(t.target===window)return;const e=t.target;if(!n.contains(e))return;const r=n.querySelectorAll(xo),i=r[0],o=r[r.length-1];function A(u){return u.code==="Tab"&&!u.shiftKey}function p(u){return u.code==="Tab"&&u.shiftKey}A(t)&&t.target===o?(t.preventDefault(),i.focus()):p(t)&&t.target===i&&(t.preventDefault(),o.focus())}}const Ic=n=>{const t=n.querySelector(xo);t&&t.focus();const e=mc(n);return document.addEventListener("keydown",e),{destroy(){document.removeEventListener("keydown",e)}}};function vc(n){let t,e,r,i,o,A,p=n[1].label.withoutColor+"",u,l,g;return{c(){t=O("label"),e=O("div"),r=O("input"),i=ie(),o=O("span"),A=ie(),u=Ot(p),d(r,"type","checkbox"),d(r,"class","svelte-pt866j"),d(o,"class","svelte-pt866j"),d(e,"class","svelte-pt866j"),d(t,"class","nullability-checkbox svelte-pt866j")},m(h,m){re(h,t,m),k(t,e),k(e,r),r.checked=n[0],k(e,i),k(e,o),k(t,A),k(t,u),l||(g=fe(r,"change",n[2]),l=!0)},p(h,[m]){m&1&&(r.checked=h[0]),m&2&&p!==(p=h[1].label.withoutColor+"")&&jn(u,p)},i:St,o:St,d(h){h&&ne(t),l=!1,g()}}}function Cc(n,t,e){let{isUndefined:r}=t,{texts:i}=t;function o(){r=this.checked,e(0,r)}return n.$$set=A=>{"isUndefined"in A&&e(0,r=A.isUndefined),"texts"in A&&e(1,i=A.texts)},[r,i,o]}class yc extends Ln{constructor(t){super(),Pn(this,t,Cc,vc,kn,{isUndefined:0,texts:1})}}function Ec(n){let t;return{c(){t=O("input"),d(t,"type","hidden"),t.value=n[2],d(t,"name",n[6])},m(e,r){re(e,t,r)},p(e,r){r[0]&4&&(t.value=e[2]),r[0]&64&&d(t,"name",e[6])},i:St,o:St,d(e){e&&ne(t)}}}function bc(n){let t,e,r,i;function o(u){n[33](u)}var A=n[23]().input;function p(u,l){let g={isOpen:!0,hex:u[2],label:u[5],name:u[6]};return u[21]!==void 0&&(g.labelElement=u[21]),{props:g}}return A&&(t=Mn(A,p(n)),Dt.push(()=>Sn(t,"labelElement",o))),{c(){t&&It(t.$$.fragment),r=Ut()},m(u,l){t&&pt(t,u,l),re(u,r,l),i=!0},p(u,l){if(A!==(A=u[23]().input)){if(t){un();const g=t;Re(g.$$.fragment,1,0,()=>{mt(g,1)}),gn()}A?(t=Mn(A,p(u)),Dt.push(()=>Sn(t,"labelElement",o)),It(t.$$.fragment),Be(t.$$.fragment,1),pt(t,r.parentNode,r)):t=null}else if(A){const g={};l[0]&4&&(g.hex=u[2]),l[0]&32&&(g.label=u[5]),l[0]&64&&(g.name=u[6]),!e&&l[0]&2097152&&(e=!0,g.labelElement=u[21],er(()=>e=!1)),t.$set(g)}},i(u){i||(t&&Be(t.$$.fragment,u),i=!0)},o(u){t&&Re(t.$$.fragment,u),i=!1},d(u){u&&ne(r),t&&mt(t,u)}}}function Va(n){let t,e,r,i;function o(u){n[34](u)}var A=n[23]().nullabilityCheckbox;function p(u,l){let g={texts:u[24]()};return u[16]!==void 0&&(g.isUndefined=u[16]),{props:g}}return A&&(t=Mn(A,p(n)),Dt.push(()=>Sn(t,"isUndefined",o))),{c(){t&&It(t.$$.fragment),r=Ut()},m(u,l){t&&pt(t,u,l),re(u,r,l),i=!0},p(u,l){if(A!==(A=u[23]().nullabilityCheckbox)){if(t){un();const g=t;Re(g.$$.fragment,1,0,()=>{mt(g,1)}),gn()}A?(t=Mn(A,p(u)),Dt.push(()=>Sn(t,"isUndefined",o)),It(t.$$.fragment),Be(t.$$.fragment,1),pt(t,r.parentNode,r)):t=null}else if(A){const g={};!e&&l[0]&65536&&(e=!0,g.isUndefined=u[16],er(()=>e=!1)),t.$set(g)}},i(u){i||(t&&Be(t.$$.fragment,u),i=!0)},o(u){t&&Re(t.$$.fragment,u),i=!1},d(u){u&&ne(r),t&&mt(t,u)}}}function Ja(n){var i;let t,e,r;return e=new Ms({props:{min:0,max:1,step:.01,value:((i=n[1])==null?void 0:i.a)??n[18].a,direction:n[12],reverse:n[12]==="vertical",ariaLabel:n[24]().label.a}}),e.$on("input",n[27]("a")),{c(){t=O("div"),It(e.$$.fragment),d(t,"class","a svelte-1n1d6qa"),Vt(t,"--alphaless-color",(n[2]?n[2]:n[19]).substring(0,7))},m(o,A){re(o,t,A),pt(e,t,null),r=!0},p(o,A){var u;const p={};A[0]&262146&&(p.value=((u=o[1])==null?void 0:u.a)??o[18].a),A[0]&4096&&(p.direction=o[12]),A[0]&4096&&(p.reverse=o[12]==="vertical"),e.$set(p),A[0]&524292&&Vt(t,"--alphaless-color",(o[2]?o[2]:o[19]).substring(0,7))},i(o){r||(Be(e.$$.fragment,o),r=!0)},o(o){Re(e.$$.fragment,o),r=!1},d(o){o&&ne(t),mt(e)}}}function ja(n){let t,e,r;var i=n[23]().textInput;function o(A,p){return{props:{hex:A[2]??A[19],rgb:A[0]??A[17],hsv:A[1]??A[18],isAlpha:A[8],textInputModes:A[11],texts:A[24]()}}}return i&&(t=Mn(i,o(n)),t.$on("input",n[35])),{c(){t&&It(t.$$.fragment),e=Ut()},m(A,p){t&&pt(t,A,p),re(A,e,p),r=!0},p(A,p){if(i!==(i=A[23]().textInput)){if(t){un();const u=t;Re(u.$$.fragment,1,0,()=>{mt(u,1)}),gn()}i?(t=Mn(i,o(A)),t.$on("input",A[35]),It(t.$$.fragment),Be(t.$$.fragment,1),pt(t,e.parentNode,e)):t=null}else if(i){const u={};p[0]&524292&&(u.hex=A[2]??A[19]),p[0]&131073&&(u.rgb=A[0]??A[17]),p[0]&262146&&(u.hsv=A[1]??A[18]),p[0]&256&&(u.isAlpha=A[8]),p[0]&2048&&(u.textInputModes=A[11]),t.$set(u)}},i(A){r||(t&&Be(t.$$.fragment,A),r=!0)},o(A){t&&Re(t.$$.fragment,A),r=!1},d(A){A&&ne(e),t&&mt(t,A)}}}function Bc(n){let t,e,r;var i=n[23]().a11yNotice;function o(A,p){return{props:{components:A[23](),a11yColors:A[13],hex:A[2]||"#00000000",a11yTexts:A[15],a11yLevel:A[14]}}}return i&&(t=Mn(i,o(n))),{c(){t&&It(t.$$.fragment),e=Ut()},m(A,p){t&&pt(t,A,p),re(A,e,p),r=!0},p(A,p){if(i!==(i=A[23]().a11yNotice)){if(t){un();const u=t;Re(u.$$.fragment,1,0,()=>{mt(u,1)}),gn()}i?(t=Mn(i,o(A)),It(t.$$.fragment),Be(t.$$.fragment,1),pt(t,e.parentNode,e)):t=null}else if(i){const u={};p[0]&8192&&(u.a11yColors=A[13]),p[0]&4&&(u.hex=A[2]||"#00000000"),p[0]&32768&&(u.a11yTexts=A[15]),p[0]&16384&&(u.a11yLevel=A[14]),t.$set(u)}},i(A){r||(t&&Be(t.$$.fragment,A),r=!0)},o(A){t&&Re(t.$$.fragment,A),r=!1},d(A){A&&ne(e),t&&mt(t,A)}}}function wc(n){var D,I,T,w;let t,e,r,i,o,A,p,u,l=n[23]().a11yNotice,g,h,m=n[7]&&Va(n);e=new tc({props:{components:n[23](),h:((D=n[1])==null?void 0:D.h)??n[18].h,s:((I=n[1])==null?void 0:I.s)??n[18].s,v:((T=n[1])==null?void 0:T.v)??n[18].v,isDark:n[3]}}),e.$on("input",n[28](["s","v"])),o=new Ms({props:{min:0,max:360,step:1,value:((w=n[1])==null?void 0:w.h)??n[18].h,direction:n[12],reverse:n[12]==="vertical",ariaLabel:n[24]().label.h}}),o.$on("input",n[27]("h"));let v=n[8]&&Ja(n),B=n[10]&&ja(n),Q=l&&Bc(n);return{c(){m&&m.c(),t=ie(),It(e.$$.fragment),r=ie(),i=O("div"),It(o.$$.fragment),A=ie(),v&&v.c(),p=ie(),B&&B.c(),u=ie(),Q&&Q.c(),g=Ut(),d(i,"class","h svelte-1n1d6qa")},m(b,x){m&&m.m(b,x),re(b,t,x),pt(e,b,x),re(b,r,x),re(b,i,x),pt(o,i,null),re(b,A,x),v&&v.m(b,x),re(b,p,x),B&&B.m(b,x),re(b,u,x),Q&&Q.m(b,x),re(b,g,x),h=!0},p(b,x){var q,K,ae,me;b[7]?m?(m.p(b,x),x[0]&128&&Be(m,1)):(m=Va(b),m.c(),Be(m,1),m.m(t.parentNode,t)):m&&(un(),Re(m,1,1,()=>{m=null}),gn());const L={};x[0]&262146&&(L.h=((q=b[1])==null?void 0:q.h)??b[18].h),x[0]&262146&&(L.s=((K=b[1])==null?void 0:K.s)??b[18].s),x[0]&262146&&(L.v=((ae=b[1])==null?void 0:ae.v)??b[18].v),x[0]&8&&(L.isDark=b[3]),e.$set(L);const Y={};x[0]&262146&&(Y.value=((me=b[1])==null?void 0:me.h)??b[18].h),x[0]&4096&&(Y.direction=b[12]),x[0]&4096&&(Y.reverse=b[12]==="vertical"),o.$set(Y),b[8]?v?(v.p(b,x),x[0]&256&&Be(v,1)):(v=Ja(b),v.c(),Be(v,1),v.m(p.parentNode,p)):v&&(un(),Re(v,1,1,()=>{v=null}),gn()),b[10]?B?(B.p(b,x),x[0]&1024&&Be(B,1)):(B=ja(b),B.c(),Be(B,1),B.m(u.parentNode,u)):B&&(un(),Re(B,1,1,()=>{B=null}),gn()),l&&Q.p(b,x)},i(b){h||(Be(m),Be(e.$$.fragment,b),Be(o.$$.fragment,b),Be(v),Be(B),Be(Q),h=!0)},o(b){Re(m),Re(e.$$.fragment,b),Re(o.$$.fragment,b),Re(v),Re(B),Re(Q),h=!1},d(b){b&&(ne(t),ne(r),ne(i),ne(A),ne(p),ne(u),ne(g)),m&&m.d(b),mt(e,b),mt(o),v&&v.d(b),B&&B.d(b),Q&&Q.d(b)}}}function Qc(n){let t,e,r,i,o,A,p,u,l,g;const h=[bc,Ec],m=[];function v(I,T){return I[9]?0:I[6]?1:-1}~(e=v(n))&&(r=m[e]=h[e](n));function B(I){n[36](I)}var Q=n[23]().wrapper;function D(I,T){let w={isOpen:I[4],isDialog:I[9],$$slots:{default:[wc]},$$scope:{ctx:I}};return I[22]!==void 0&&(w.wrapper=I[22]),{props:w}}return Q&&(o=Mn(Q,D(n)),Dt.push(()=>Sn(o,"wrapper",B))),{c(){t=O("span"),r&&r.c(),i=ie(),o&&It(o.$$.fragment),d(t,"class",p="color-picker "+n[12]+" svelte-1n1d6qa")},m(I,T){re(I,t,T),~e&&m[e].m(t,null),k(t,i),o&&pt(o,t,null),n[37](t),u=!0,l||(g=[fe(window,"mousedown",n[25]),fe(window,"keyup",n[26])],l=!0)},p(I,T){let w=e;if(e=v(I),e===w?~e&&m[e].p(I,T):(r&&(un(),Re(m[w],1,1,()=>{m[w]=null}),gn()),~e?(r=m[e],r?r.p(I,T):(r=m[e]=h[e](I),r.c()),Be(r,1),r.m(t,i)):r=null),Q!==(Q=I[23]().wrapper)){if(o){un();const b=o;Re(b.$$.fragment,1,0,()=>{mt(b,1)}),gn()}Q?(o=Mn(Q,D(I)),Dt.push(()=>Sn(o,"wrapper",B)),It(o.$$.fragment),Be(o.$$.fragment,1),pt(o,t,null)):o=null}else if(Q){const b={};T[0]&16&&(b.isOpen=I[4]),T[0]&512&&(b.isDialog=I[9]),T[0]&1047951|T[1]&4096&&(b.$$scope={dirty:T,ctx:I}),!A&&T[0]&4194304&&(A=!0,b.wrapper=I[22],er(()=>A=!1)),o.$set(b)}(!u||T[0]&4096&&p!==(p="color-picker "+I[12]+" svelte-1n1d6qa"))&&d(t,"class",p)},i(I){u||(Be(r),o&&Be(o.$$.fragment,I),u=!0)},o(I){Re(r),o&&Re(o.$$.fragment,I),u=!1},d(I){I&&ne(t),~e&&m[e].d(),o&&mt(o),n[37](null),l=!1,cn(g)}}}function Sc(n,t,e){const r=Is();let{components:i={}}=t,{label:o="Choose a color"}=t,{name:A=void 0}=t,{nullable:p=!1}=t,{rgb:u=p?void 0:{r:255,g:0,b:0,a:1}}=t,{hsv:l=p?void 0:{h:0,s:100,v:100,a:1}}=t,{hex:g=p?void 0:"#ff0000"}=t,{color:h=void 0}=t,{isDark:m=!1}=t,{isAlpha:v=!0}=t,{isDialog:B=!0}=t,{isOpen:Q=!B}=t,{isTextInput:D=!0}=t,{textInputModes:I=["hex","rgb","hsv"]}=t,{sliderDirection:T="vertical"}=t,{disableCloseClickOutside:w=!1}=t,{a11yColors:b=[{bgHex:"#ffffff"}]}=t,{a11yLevel:x="AA"}=t,{texts:L=void 0}=t,{a11yTexts:Y=void 0}=t,q={r:255,g:0,b:0,a:1},K={h:0,s:100,v:100,a:1},ae="#ff0000",me=!1,de=me,Ee,pe,X,Me;const Ve={pickerIndicator:ic,textInput:fc,input:dc,nullabilityCheckbox:yc,wrapper:pc};function we(){return{...Ve,...i}}function Ke(){return{label:{...Ws.label,...L==null?void 0:L.label},color:{...Ws.color,...L==null?void 0:L.color},changeTo:(L==null?void 0:L.changeTo)??Ws.changeTo}}function ee({target:j}){B&&(pe.contains(j)||pe.isSameNode(j)?e(4,Q=!Q):Q&&!X.contains(j)&&!w&&e(4,Q=!1))}function be({key:j,target:ct}){if(B)j==="Enter"&&pe.contains(ct)?(e(4,Q=!Q),setTimeout(()=>{Me=Ic(X)})):j==="Escape"&&Q&&(e(4,Q=!1),Ee.contains(ct)&&(pe==null||pe.focus(),Me==null||Me.destroy()));else return}function Te(){if(me&&!de){de=!0,e(1,l=e(0,u=e(2,g=void 0))),r("input",{color:h,hsv:l,rgb:u,hex:g});return}else if(de&&!me){de=!1,e(1,l=K),e(0,u=q),e(2,g=ae),r("input",{color:h,hsv:l,rgb:u,hex:g});return}if(!l&&!u&&!g){e(16,me=!0),de=!0,r("input",{color:void 0,hsv:l,rgb:u,hex:g});return}l&&u&&l.h===K.h&&l.s===K.s&&l.v===K.v&&l.a===K.a&&u.r===q.r&&u.g===q.g&&u.b===q.b&&u.a===q.a&&g===ae||(e(16,me=!1),l&&l.a===void 0&&e(1,l.a=1,l),K.a===void 0&&e(18,K.a=1,K),u&&u.a===void 0&&e(0,u.a=1,u),q.a===void 0&&e(17,q.a=1,q),(g==null?void 0:g.substring(7))==="ff"&&e(2,g=g.substring(0,7)),(g==null?void 0:g.substring(7))==="ff"&&e(2,g=g.substring(0,7)),l&&(l.h!==K.h||l.s!==K.s||l.v!==K.v||l.a!==K.a)?(e(29,h=wn(l)),e(0,u=h.toRgb()),e(2,g=h.toHex())):u&&(u.r!==q.r||u.g!==q.g||u.b!==q.b||u.a!==q.a)?(e(29,h=wn(u)),e(2,g=h.toHex()),e(1,l=h.toHsv())):g&&g!==ae&&(e(29,h=wn(g)),e(0,u=h.toRgb()),e(1,l=h.toHsv())),h&&e(3,m=h.isDark()),g&&(e(18,K=Object.assign({},l)),e(17,q=Object.assign({},u)),e(19,ae=g),de=me,r("input",{color:h,hsv:l,rgb:u,hex:g})))}function We(j){return ct=>{l||e(1,l={...K}),e(1,l[j]=ct.detail,l)}}function Ue(j){return ct=>{l||e(1,l={...K}),j.forEach(Nt=>{l&&e(1,l[Nt]=ct.detail[Nt],l)})}}function ft(j){pe=j,e(21,pe)}function tt(j){me=j,e(16,me)}const Xt=({detail:j})=>{j.hsv?e(1,l=j.hsv):j.rgb?e(0,u=j.rgb):j.hex&&e(2,g=j.hex)};function lt(j){X=j,e(22,X)}function Ie(j){Dt[j?"unshift":"push"](()=>{Ee=j,e(20,Ee)})}return n.$$set=j=>{"components"in j&&e(30,i=j.components),"label"in j&&e(5,o=j.label),"name"in j&&e(6,A=j.name),"nullable"in j&&e(7,p=j.nullable),"rgb"in j&&e(0,u=j.rgb),"hsv"in j&&e(1,l=j.hsv),"hex"in j&&e(2,g=j.hex),"color"in j&&e(29,h=j.color),"isDark"in j&&e(3,m=j.isDark),"isAlpha"in j&&e(8,v=j.isAlpha),"isDialog"in j&&e(9,B=j.isDialog),"isOpen"in j&&e(4,Q=j.isOpen),"isTextInput"in j&&e(10,D=j.isTextInput),"textInputModes"in j&&e(11,I=j.textInputModes),"sliderDirection"in j&&e(12,T=j.sliderDirection),"disableCloseClickOutside"in j&&e(31,w=j.disableCloseClickOutside),"a11yColors"in j&&e(13,b=j.a11yColors),"a11yLevel"in j&&e(14,x=j.a11yLevel),"texts"in j&&e(32,L=j.texts),"a11yTexts"in j&&e(15,Y=j.a11yTexts)},n.$$.update=()=>{n.$$.dirty[0]&7&&(l||u||g)&&Te(),n.$$.dirty[0]&65536&&Te()},[u,l,g,m,Q,o,A,p,v,B,D,I,T,b,x,Y,me,q,K,ae,Ee,pe,X,we,Ke,ee,be,We,Ue,h,i,w,L,ft,tt,Xt,lt,Ie]}class us extends Ln{constructor(t){super(),Pn(this,t,Sc,Qc,kn,{components:30,label:5,name:6,nullable:7,rgb:0,hsv:1,hex:2,color:29,isDark:3,isAlpha:8,isDialog:9,isOpen:4,isTextInput:10,textInputModes:11,sliderDirection:12,disableCloseClickOutside:31,a11yColors:13,a11yLevel:14,texts:32,a11yTexts:15},null,[-1,-1])}}const kc="/escherization/assets/p4m-BGTNDhtw.png",Dc="/escherization/assets/p1-C2sy5zxe.png",Tc="/escherization/assets/p2-Cme2Az2_.png",Fc="/escherization/assets/p3-CiPtAfIQ.png",Nc="/escherization/assets/p6-CMcHCcnG.png",Rc="/escherization/assets/p6m-fGbyLxQe.png",Mc="/escherization/assets/p4-2CEXdwG5.png";function Xa(n,t,e){const r=n.slice();return r[34]=t[e],r[105]=e,r}function Wa(n,t,e){const r=n.slice();return r[106]=t[e],r[105]=e,r}function qa(n,t,e){const r=n.slice();return r[106]=t[e],r[105]=e,r}function za(n,t,e){const r=n.slice();return r[109]=t[e],r[105]=e,r}function Ka(n,t,e){const r=n.slice();return r[111]=t[e],r[105]=e,r}function Za(n,t,e){const r=n.slice();return r[113]=t[e],r[105]=e,r}function $a(n,t,e){const r=n.slice();return r[115]=t[e],r[105]=e,r}function eo(n,t,e){const r=n.slice();return r[117]=t[e],r}function to(n,t,e){const r=n.slice();return r[109]=t[e],r[105]=e,r}function Pc(n){let t,e,r=n[121].message+"",i,o;return{c(){t=vt("text"),e=Ot("Error: "),i=Ot(r),o=Ot("."),d(t,"x","250"),d(t,"y","250"),d(t,"text-anchor","middle"),d(t,"class","svgText svelte-1eahhfj")},m(A,p){re(A,t,p),k(t,e),k(t,i),k(t,o)},p(A,p){p[1]&4&&r!==(r=A[121].message+"")&&jn(i,r)},d(A){A&&ne(t)}}}function Lc(n){let t,e=n[2]&&no(n);return{c(){e&&e.c(),t=Ut()},m(r,i){e&&e.m(r,i),re(r,t,i)},p(r,i){r[2]?e?e.p(r,i):(e=no(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(r){r&&ne(t),e&&e.d(r)}}}function no(n){let t,e,r,i,o,A,p=Lt(n[0]),u=[];for(let I=0;I<p.length;I+=1)u[I]=ro(to(n,p,I));let l=Lt(n[6]),g=[];for(let I=0;I<l.length;I+=1)g[I]=so(eo(n,l,I));let h=n[14]&&ao(n),m=Lt(n[5]),v=[];for(let I=0;I<m.length;I+=1)v[I]=co(Ka(n,m,I));let B=Lt(n[0]),Q=[];for(let I=0;I<B.length;I+=1)Q[I]=fo(za(n,B,I));let D=n[18]&&uo(n);return{c(){t=vt("defs");for(let I=0;I<u.length;I+=1)u[I].c();for(let I=0;I<g.length;I+=1)g[I].c();e=Ut(),h&&h.c(),r=Ut();for(let I=0;I<v.length;I+=1)v[I].c();i=Ut();for(let I=0;I<Q.length;I+=1)Q[I].c();o=Ut(),D&&D.c(),A=Ut()},m(I,T){re(I,t,T);for(let w=0;w<u.length;w+=1)u[w]&&u[w].m(t,null);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(I,T);re(I,e,T),h&&h.m(I,T),re(I,r,T);for(let w=0;w<v.length;w+=1)v[w]&&v[w].m(I,T);re(I,i,T);for(let w=0;w<Q.length;w+=1)Q[w]&&Q[w].m(I,T);re(I,o,T),D&&D.m(I,T),re(I,A,T)},p(I,T){if(T[0]&538969089|T[1]&65536){p=Lt(I[0]);let w;for(w=0;w<p.length;w+=1){const b=to(I,p,w);u[w]?u[w].p(b,T):(u[w]=ro(b),u[w].c(),u[w].m(t,null))}for(;w<u.length;w+=1)u[w].d(1);u.length=p.length}if(T[0]&469958720|T[1]&768){l=Lt(I[6]);let w;for(w=0;w<l.length;w+=1){const b=eo(I,l,w);g[w]?g[w].p(b,T):(g[w]=so(b),g[w].c(),g[w].m(e.parentNode,e))}for(;w<g.length;w+=1)g[w].d(1);g.length=l.length}if(I[14]?h?h.p(I,T):(h=ao(I),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null),T[0]&16785440){m=Lt(I[5]);let w;for(w=0;w<m.length;w+=1){const b=Ka(I,m,w);v[w]?v[w].p(b,T):(v[w]=co(b),v[w].c(),v[w].m(i.parentNode,i))}for(;w<v.length;w+=1)v[w].d(1);v.length=m.length}if(T[0]&32769){B=Lt(I[0]);let w;for(w=0;w<B.length;w+=1){const b=za(I,B,w);Q[w]?Q[w].p(b,T):(Q[w]=fo(b),Q[w].c(),Q[w].m(o.parentNode,o))}for(;w<Q.length;w+=1)Q[w].d(1);Q.length=B.length}I[18]?D?D.p(I,T):(D=uo(I),D.c(),D.m(A.parentNode,A)):D&&(D.d(1),D=null)},d(I){I&&(ne(t),ne(e),ne(r),ne(i),ne(o),ne(A)),Nn(u,I),Nn(g,I),h&&h.d(I),Nn(v,I),Nn(Q,I),D&&D.d(I)}}}function ro(n){let t,e,r,i,o,A,p,u,l;return{c(){var g;t=vt("pattern"),e=vt("image"),d(e,"href",r=(g=n[10])==null?void 0:g.src),d(e,"x",0),d(e,"y",0),d(e,"width",i=n[21][2]-n[21][0]),d(e,"height",o=n[21][3]-n[21][1]),d(t,"id",A="pattern_"+n[109].tileIdx),d(t,"patternContentUnits","userSpaceOnUse"),d(t,"patternUnits","userSpaceOnUse"),d(t,"patternTransform",p=ms(n[47](n[109].M,n[109].origin,n[29],!0))),d(t,"width",u=n[21][2]-n[21][0]),d(t,"height",l=n[21][3]-n[21][1])},m(g,h){re(g,t,h),k(t,e)},p(g,h){var m;h[0]&1024&&r!==(r=(m=g[10])==null?void 0:m.src)&&d(e,"href",r),h[0]&2097152&&i!==(i=g[21][2]-g[21][0])&&d(e,"width",i),h[0]&2097152&&o!==(o=g[21][3]-g[21][1])&&d(e,"height",o),h[0]&1&&A!==(A="pattern_"+g[109].tileIdx)&&d(t,"id",A),h[0]&536870913&&p!==(p=ms(g[47](g[109].M,g[109].origin,g[29],!0)))&&d(t,"patternTransform",p),h[0]&2097152&&u!==(u=g[21][2]-g[21][0])&&d(t,"width",u),h[0]&2097152&&l!==(l=g[21][3]-g[21][1])&&d(t,"height",l)},d(g){g&&ne(t)}}}function io(n){let t;function e(o,A){return o[17]?xc:Uc}let r=e(n),i=r(n);return{c(){i.c(),t=Ut()},m(o,A){i.m(o,A),re(o,t,A)},p(o,A){r===(r=e(o))&&i?i.p(o,A):(i.d(1),i=r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&ne(t),i.d(o)}}}function Uc(n){let t,e,r,i;return{c(){t=vt("path"),d(t,"id",e="cell "+n[117].sourceIndex),d(t,"d",r=n[40](n[117])),d(t,"stroke","black"),d(t,"stroke-width","0"),d(t,"fill",i=n[117].color==0?n[26]:n[117].color==1?n[27]:n[28])},m(o,A){re(o,t,A)},p(o,A){A[0]&64&&e!==(e="cell "+o[117].sourceIndex)&&d(t,"id",e),A[0]&64&&r!==(r=o[40](o[117]))&&d(t,"d",r),A[0]&469762112&&i!==(i=o[117].color==0?o[26]:o[117].color==1?o[27]:o[28])&&d(t,"fill",i)},d(o){o&&ne(t)}}}function xc(n){let t,e,r,i;return{c(){t=vt("path"),d(t,"id",e="cell "+n[117].sourceIndex),d(t,"d",r=n[40](n[117])),d(t,"stroke","black"),d(t,"stroke-width","0"),d(t,"fill",i=vo(n[117]))},m(o,A){re(o,t,A)},p(o,A){A[0]&64&&e!==(e="cell "+o[117].sourceIndex)&&d(t,"id",e),A[0]&64&&r!==(r=o[40](o[117]))&&d(t,"d",r),A[0]&64&&i!==(i=vo(o[117]))&&d(t,"fill",i)},d(o){o&&ne(t)}}}function so(n){let t=n[16]&&n[39](n[117]),e,r=t&&io(n);return{c(){r&&r.c(),e=Ut()},m(i,o){r&&r.m(i,o),re(i,e,o)},p(i,o){o[0]&65600&&(t=i[16]&&i[39](i[117])),t?r?r.p(i,o):(r=io(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(i){i&&ne(e),r&&r.d(i)}}}function ao(n){let t,e,r=Lt(n[3]),i=[];for(let p=0;p<r.length;p+=1)i[p]=oo($a(n,r,p));let o=Lt(n[4]),A=[];for(let p=0;p<o.length;p+=1)A[p]=lo(Za(n,o,p));return{c(){for(let p=0;p<i.length;p+=1)i[p].c();t=Ut();for(let p=0;p<A.length;p+=1)A[p].c();e=Ut()},m(p,u){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(p,u);re(p,t,u);for(let l=0;l<A.length;l+=1)A[l]&&A[l].m(p,u);re(p,e,u)},p(p,u){if(u[0]&33554440){r=Lt(p[3]);let l;for(l=0;l<r.length;l+=1){const g=$a(p,r,l);i[l]?i[l].p(g,u):(i[l]=oo(g),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}if(u[0]&33554456){o=Lt(p[4]);let l;for(l=0;l<o.length;l+=1){const g=Za(p,o,l);A[l]?A[l].p(g,u):(A[l]=lo(g),A[l].c(),A[l].m(e.parentNode,e))}for(;l<A.length;l+=1)A[l].d(1);A.length=o.length}},d(p){p&&(ne(t),ne(e)),Nn(i,p),Nn(A,p)}}}function oo(n){let t,e,r;return{c(){t=vt("circle"),d(t,"id","point "+n[105]),d(t,"cx",e=n[115].x),d(t,"cy",r=n[115].y),d(t,"r","2"),d(t,"fill",n[25])},m(i,o){re(i,t,o)},p(i,o){o[0]&8&&e!==(e=i[115].x)&&d(t,"cx",e),o[0]&8&&r!==(r=i[115].y)&&d(t,"cy",r),o[0]&33554432&&d(t,"fill",i[25])},d(i){i&&ne(t)}}}function lo(n){let t,e,r,i,o,A,p,u,l,g,h;return{c(){t=vt("path"),i=vt("circle"),u=vt("circle"),d(t,"id",e="segment "+(n[105]+n[3].length)),d(t,"d",r="M "+n[113].x1+" "+n[113].y1+" L "+n[113].x2+" "+n[113].y2),d(t,"stroke",n[25]),d(t,"stroke-width","0.66"),d(t,"fill","none"),d(i,"id",o="segment "+(n[105]+n[3].length)),d(i,"cx",A=n[113].x1),d(i,"cy",p=n[113].y1),d(i,"r","1"),d(i,"fill",n[25]),d(u,"id",l="segment "+(n[105]+n[3].length)),d(u,"cx",g=n[113].x2),d(u,"cy",h=n[113].y2),d(u,"r","1"),d(u,"fill",n[25])},m(m,v){re(m,t,v),re(m,i,v),re(m,u,v)},p(m,v){v[0]&8&&e!==(e="segment "+(m[105]+m[3].length))&&d(t,"id",e),v[0]&16&&r!==(r="M "+m[113].x1+" "+m[113].y1+" L "+m[113].x2+" "+m[113].y2)&&d(t,"d",r),v[0]&33554432&&d(t,"stroke",m[25]),v[0]&8&&o!==(o="segment "+(m[105]+m[3].length))&&d(i,"id",o),v[0]&16&&A!==(A=m[113].x1)&&d(i,"cx",A),v[0]&16&&p!==(p=m[113].y1)&&d(i,"cy",p),v[0]&33554432&&d(i,"fill",m[25]),v[0]&8&&l!==(l="segment "+(m[105]+m[3].length))&&d(u,"id",l),v[0]&16&&g!==(g=m[113].x2)&&d(u,"cx",g),v[0]&16&&h!==(h=m[113].y2)&&d(u,"cy",h),v[0]&33554432&&d(u,"fill",m[25])},d(m){m&&(ne(t),ne(i),ne(u))}}}function Yc(n){let t,e;return{c(){t=vt("path"),d(t,"id","edge_"+n[105]),d(t,"d",e="M "+n[111].va.x+" "+n[111].va.y+" L "+n[111].vb.x+" "+n[111].vb.y),d(t,"stroke","red"),d(t,"stroke-width","0.66"),d(t,"fill","none")},m(r,i){re(r,t,i)},p(r,i){i[0]&32&&e!==(e="M "+r[111].va.x+" "+r[111].va.y+" L "+r[111].vb.x+" "+r[111].vb.y)&&d(t,"d",e)},d(r){r&&ne(t)}}}function Oc(n){let t;function e(o,A){if(o[111].isCurved&&o[111].controlPoints.length==3)return Hc;if(o[111].isPrimary)return Gc}let r=e(n),i=r&&r(n);return{c(){i&&i.c(),t=Ut()},m(o,A){i&&i.m(o,A),re(o,t,A)},p(o,A){r===(r=e(o))&&i?i.p(o,A):(i&&i.d(1),i=r&&r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&ne(t),i&&i.d(o)}}}function Gc(n){let t,e;return{c(){t=vt("path"),d(t,"id","edge_"+n[105]),d(t,"d",e="M "+n[111].va.x+" "+n[111].va.y+" L "+n[111].vb.x+" "+n[111].vb.y),d(t,"stroke",n[24]),d(t,"stroke-width","0.66"),d(t,"fill","none")},m(r,i){re(r,t,i)},p(r,i){i[0]&32&&e!==(e="M "+r[111].va.x+" "+r[111].va.y+" L "+r[111].vb.x+" "+r[111].vb.y)&&d(t,"d",e),i[0]&16777216&&d(t,"stroke",r[24])},d(r){r&&ne(t)}}}function Hc(n){let t,e;return{c(){t=vt("path"),d(t,"id","edge_"+n[105]),d(t,"d",e="M "+n[111].controlPoints[0].x+" "+n[111].controlPoints[0].y+" Q "+n[111].controlPoints[1].x+" "+n[111].controlPoints[1].y+" "+n[111].controlPoints[2].x+" "+n[111].controlPoints[2].y),d(t,"stroke",n[24]),d(t,"stroke-width","0.66"),d(t,"fill","none")},m(r,i){re(r,t,i)},p(r,i){i[0]&32&&e!==(e="M "+r[111].controlPoints[0].x+" "+r[111].controlPoints[0].y+" Q "+r[111].controlPoints[1].x+" "+r[111].controlPoints[1].y+" "+r[111].controlPoints[2].x+" "+r[111].controlPoints[2].y)&&d(t,"d",e),i[0]&16777216&&d(t,"stroke",r[24])},d(r){r&&ne(t)}}}function co(n){let t;function e(o,A){if(o[111].isValid&&!o[111].isWithinCell&&o[13])return Oc;if(!o[111].isValid)return Yc}let r=e(n),i=r&&r(n);return{c(){i&&i.c(),t=Ut()},m(o,A){i&&i.m(o,A),re(o,t,A)},p(o,A){r===(r=e(o))&&i?i.p(o,A):(i&&i.d(1),i=r&&r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&ne(t),i&&i.d(o)}}}function Ao(n){let t,e,r;return{c(){t=vt("circle"),d(t,"id","origin "+n[105]),d(t,"cx",e=n[109].origin.x),d(t,"cy",r=n[109].origin.y),d(t,"r","2"),d(t,"fill","pink")},m(i,o){re(i,t,o)},p(i,o){o[0]&1&&e!==(e=i[109].origin.x)&&d(t,"cx",e),o[0]&1&&r!==(r=i[109].origin.y)&&d(t,"cy",r)},d(i){i&&ne(t)}}}function fo(n){let t,e=n[15]&&Ao(n);return{c(){e&&e.c(),t=Ut()},m(r,i){e&&e.m(r,i),re(r,t,i)},p(r,i){r[15]?e?e.p(r,i):(e=Ao(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(r){r&&ne(t),e&&e.d(r)}}}function uo(n){let t,e,r,i,o,A,p=Lt(n[1]),u=[];for(let h=0;h<p.length;h+=1)u[h]=go(qa(n,p,h));let l=Lt(n[19]),g=[];for(let h=0;h<l.length;h+=1)g[h]=_o(Wa(n,l,h));return{c(){for(let h=0;h<u.length;h+=1)u[h].c();t=Ut();for(let h=0;h<g.length;h+=1)g[h].c();e=vt("rect"),d(e,"x",r=n[22].xl),d(e,"y",i=n[22].yl),d(e,"width",o=n[22].xh-n[22].xl),d(e,"height",A=n[22].yh-n[22].yl),d(e,"stroke","green"),Vt(e,"fill","none")},m(h,m){for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(h,m);re(h,t,m);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(h,m);re(h,e,m)},p(h,m){if(m[0]&2){p=Lt(h[1]);let v;for(v=0;v<p.length;v+=1){const B=qa(h,p,v);u[v]?u[v].p(B,m):(u[v]=go(B),u[v].c(),u[v].m(t.parentNode,t))}for(;v<u.length;v+=1)u[v].d(1);u.length=p.length}if(m[0]&1572864|m[1]&65536){l=Lt(h[19]);let v;for(v=0;v<l.length;v+=1){const B=Wa(h,l,v);g[v]?g[v].p(B,m):(g[v]=_o(B),g[v].c(),g[v].m(e.parentNode,e))}for(;v<g.length;v+=1)g[v].d(1);g.length=l.length}m[0]&4194304&&r!==(r=h[22].xl)&&d(e,"x",r),m[0]&4194304&&i!==(i=h[22].yl)&&d(e,"y",i),m[0]&4194304&&o!==(o=h[22].xh-h[22].xl)&&d(e,"width",o),m[0]&4194304&&A!==(A=h[22].yh-h[22].yl)&&d(e,"height",A)},d(h){h&&(ne(t),ne(e)),Nn(u,h),Nn(g,h)}}}function go(n){let t,e;return{c(){t=vt("path"),d(t,"id","outline_"+n[105]),d(t,"d",e="M "+n[106].startPoint.x+" "+n[106].startPoint.y+" L "+n[106].endPoint.x+" "+n[106].endPoint.y),d(t,"stroke","yellow"),d(t,"stroke-width","0.66"),d(t,"fill","none")},m(r,i){re(r,t,i)},p(r,i){i[0]&2&&e!==(e="M "+r[106].startPoint.x+" "+r[106].startPoint.y+" L "+r[106].endPoint.x+" "+r[106].endPoint.y)&&d(t,"d",e)},d(r){r&&ne(t)}}}function _o(n){let t,e,r,i;return{c(){t=vt("g"),e=vt("path"),d(e,"id","outlineMorphed_"+n[105]),d(e,"d",r="M "+n[106].x1+" "+n[106].y1+" L "+n[106].x2+" "+n[106].y2),d(e,"stroke","#c300ff"),d(e,"stroke-width","2"),d(e,"fill","none"),d(t,"transform",i=ms(n[47](n[20].M,n[20].origin,!1,!0)))},m(o,A){re(o,t,A),k(t,e)},p(o,A){A[0]&524288&&r!==(r="M "+o[106].x1+" "+o[106].y1+" L "+o[106].x2+" "+o[106].y2)&&d(e,"d",r),A[0]&1048576&&i!==(i=ms(o[47](o[20].M,o[20].origin,!1,!0)))&&d(t,"transform",i)},d(o){o&&ne(t)}}}function Vc(n){let t,e;return{c(){t=vt("text"),e=Ot("Loading..."),d(t,"x","250"),d(t,"y","220"),d(t,"text-anchor","middle"),d(t,"class","svgText svelte-1eahhfj")},m(r,i){re(r,t,i),k(t,e)},p:St,d(r){r&&ne(t)}}}function ho(n){let t,e,r=n[36][n[23]].parameterNames[n[105]].name+"",i,o,A,p,u,l;function g(...h){return n[56](n[105],...h)}return p=new dr({props:{id:n[105],min:n[36][n[23]].parameterNames[n[105]].min*100,max:n[36][n[23]].parameterNames[n[105]].max*100,stepSize:n[36][n[23]].parameterNames[n[105]].stepSize,initialValue:n[36][n[23]].parameterNames[n[105]].initialValue??n[34],decimalPlaces:2}}),p.$on("change",g),{c(){t=O("div"),e=O("p"),i=Ot(r),o=ie(),A=O("div"),It(p.$$.fragment),u=ie(),d(e,"class","basis-1/3"),d(A,"class","min-w-72"),d(t,"class","tilingParam flex flex-row gap-4")},m(h,m){re(h,t,m),k(t,e),k(e,i),k(t,o),k(t,A),pt(p,A,null),k(t,u),l=!0},p(h,m){n=h,(!l||m[0]&8388608)&&r!==(r=n[36][n[23]].parameterNames[n[105]].name+"")&&jn(i,r);const v={};m[0]&8388608&&(v.min=n[36][n[23]].parameterNames[n[105]].min*100),m[0]&8388608&&(v.max=n[36][n[23]].parameterNames[n[105]].max*100),m[0]&8388608&&(v.stepSize=n[36][n[23]].parameterNames[n[105]].stepSize),m[0]&8392704&&(v.initialValue=n[36][n[23]].parameterNames[n[105]].initialValue??n[34]),p.$set(v)},i(h){l||(Be(p.$$.fragment,h),l=!0)},o(h){Re(p.$$.fragment,h),l=!1},d(h){h&&ne(t),mt(p)}}}function po(n){let t,e,r=n[36][n[23]].parameterNames[n[105]]&&ho(n);return{c(){r&&r.c(),t=Ut()},m(i,o){r&&r.m(i,o),re(i,t,o),e=!0},p(i,o){i[36][i[23]].parameterNames[i[105]]?r?(r.p(i,o),o[0]&8388608&&Be(r,1)):(r=ho(i),r.c(),Be(r,1),r.m(t.parentNode,t)):r&&(un(),Re(r,1,1,()=>{r=null}),gn())},i(i){e||(Be(r),e=!0)},o(i){Re(r),e=!1},d(i){i&&ne(t),r&&r.d(i)}}}function mo(n){let t,e,r,i,o,A,p,u,l,g,h,m,v,B,Q,D,I,T,w,b,x,L,Y,q,K,ae,me,de,Ee,pe,X,Me,Ve;return A=new dr({props:{min:0,max:100,stepSize:.01,initialValue:n[32],decimalPlaces:2}}),A.$on("change",n[58]),B=new dr({props:{min:0,max:100,stepSize:.01,initialValue:n[34],decimalPlaces:2}}),B.$on("change",n[59]),L=new dr({props:{min:1,max:300,stepSize:.01,initialValue:n[30],decimalPlaces:2}}),L.$on("change",n[60]),pe=new dr({props:{min:50,max:200,stepSize:.01,initialValue:n[31],decimalPlaces:2}}),pe.$on("change",n[61]),{c(){t=O("div"),e=O("div"),r=O("p"),r.textContent="no morph",i=ie(),o=O("div"),It(A.$$.fragment),p=ie(),u=O("p"),u.textContent="full morph",l=ie(),g=O("div"),h=O("p"),h.textContent="all lines same",m=ie(),v=O("div"),It(B.$$.fragment),Q=ie(),D=O("p"),D.textContent="long lines stronger",I=ie(),T=O("div"),w=O("p"),w.textContent="precision",b=ie(),x=O("div"),It(L.$$.fragment),Y=ie(),q=O("p"),q.textContent="smoothness",K=ie(),ae=O("div"),me=O("p"),me.textContent="all lines same",de=ie(),Ee=O("div"),It(pe.$$.fragment),X=ie(),Me=O("p"),Me.textContent="close lines stronger",d(r,"class","pr-5 text-right basis-1/4 min-w-40"),d(o,"class","min-w-72 basis-1/2"),d(u,"class","pl-5 basis-1/4 min-w-40"),d(e,"class","flex flex-row"),d(h,"class","pr-5 text-right basis-1/4 min-w-40"),d(v,"class","min-w-72"),d(D,"class","pl-5 basis-1/4 min-w-40"),d(g,"class","flex flex-row"),d(w,"class","pr-5 text-right basis-1/4 min-w-40"),d(x,"class","min-w-72"),d(q,"class","pl-5 basis-1/4"),d(T,"class","flex flex-row"),d(me,"class","pr-5 text-right basis-1/4 min-w-40"),d(Ee,"class","min-w-72"),d(Me,"class","pl-5 basis-1/4 min-w-40"),d(ae,"class","flex flex-row"),d(t,"class","flex flex-col")},m(we,Ke){re(we,t,Ke),k(t,e),k(e,r),k(e,i),k(e,o),pt(A,o,null),k(e,p),k(e,u),k(t,l),k(t,g),k(g,h),k(g,m),k(g,v),pt(B,v,null),k(g,Q),k(g,D),k(t,I),k(t,T),k(T,w),k(T,b),k(T,x),pt(L,x,null),k(T,Y),k(T,q),k(t,K),k(t,ae),k(ae,me),k(ae,de),k(ae,Ee),pt(pe,Ee,null),k(ae,X),k(ae,Me),Ve=!0},p(we,Ke){const ee={};Ke[1]&2&&(ee.initialValue=we[32]),A.$set(ee);const be={};Ke[1]&8&&(be.initialValue=we[34]),B.$set(be);const Te={};Ke[0]&1073741824&&(Te.initialValue=we[30]),L.$set(Te);const We={};Ke[1]&1&&(We.initialValue=we[31]),pe.$set(We)},i(we){Ve||(Be(A.$$.fragment,we),Be(B.$$.fragment,we),Be(L.$$.fragment,we),Be(pe.$$.fragment,we),Ve=!0)},o(we){Re(A.$$.fragment,we),Re(B.$$.fragment,we),Re(L.$$.fragment,we),Re(pe.$$.fragment,we),Ve=!1},d(we){we&&ne(t),mt(A),mt(B),mt(L),mt(pe)}}}function Jc(n){let t,e,r,i,o,A,p,u,l,g,h,m,v,B,Q,D,I,T,w,b,x,L,Y,q,K,ae,me,de,Ee,pe,X,Me,Ve,we,Ke,ee,be,Te,We,Ue,ft=n[36][n[23]].name+"",tt,Xt,lt,Ie,j,ct,Nt,Rt,Se,Fe,kt,Ye,yt,st,At,ut,Je,Pe,Ze,N,te,he,se,ke,U,V,oe,$,Z,le,Ae,Qe,gt,Wt,Mt,rn,mn,sn,Xn,Wn,Dn,Jt,tn,qt,jt,Pt,zt,an,Zt,Gt,dn,on,In,An,at,wt,ue,Un,bt,M,ce,Ce,Ge,ve,nt,dt,Oe,rt,_t,Qt,De,ye,ge={ctx:n,current:null,token:null,hasCatch:!0,pending:Vc,then:Lc,catch:Pc,error:121};ma(o=n[33],ge),L=new dr({props:{min:50,max:300,stepSize:1,initialValue:n[8]*100,decimalPlaces:0}}),L.$on("change",n[51]),de=new dr({props:{min:0,max:360,stepSize:1,initialValue:n[9],decimalPlaces:0}}),de.$on("change",n[52]),we=new dr({props:{min:50,max:250,stepSize:1,initialValue:n[7],decimalPlaces:0}}),we.$on("change",n[53]);let xe=Lt(n[12]),He=[];for(let Ne=0;Ne<xe.length;Ne+=1)He[Ne]=po(Xa(n,xe,Ne));const tr=Ne=>Re(He[Ne],1,1,()=>{He[Ne]=null});let Ct=n[29]&&mo(n);function Sr(Ne){n[68](Ne)}let hr={label:"Border"};n[24]!==void 0&&(hr.hex=n[24]),on=new us({props:hr}),Dt.push(()=>Sn(on,"hex",Sr));function ot(Ne){n[69](Ne)}let Tn={label:"Skelleton"};n[25]!==void 0&&(Tn.hex=n[25]),wt=new us({props:Tn}),Dt.push(()=>Sn(wt,"hex",ot));function fn(Ne){n[70](Ne)}let pr={label:"Background 1"};n[26]!==void 0&&(pr.hex=n[26]),M=new us({props:pr}),Dt.push(()=>Sn(M,"hex",fn));function vn(Ne){n[71](Ne)}let _n={label:"Background 2"};n[27]!==void 0&&(_n.hex=n[27]),ve=new us({props:_n}),Dt.push(()=>Sn(ve,"hex",vn));function qn(Ne){n[72](Ne)}let xn={label:"Background 3"};return n[28]!==void 0&&(xn.hex=n[28]),rt=new us({props:xn}),Dt.push(()=>Sn(rt,"hex",qn)),{c(){t=O("div"),e=O("div"),r=vt("svg"),i=vt("rect"),ge.block.c(),A=ie(),p=O("button"),p.innerHTML=`<span class="material-symbols-outlined me-2">refresh</span>
      Update`,u=ie(),l=O("button"),l.innerHTML=`<span class="material-symbols-outlined me-2">download</span>
      Download SVG`,g=ie(),h=O("div"),m=O("p"),v=Ot(n[11]),B=ie(),Q=O("div"),D=O("p"),D.textContent="Tiling Settings",I=ie(),T=O("div"),w=O("p"),w.textContent="Tile Size [%]",b=ie(),x=O("div"),It(L.$$.fragment),Y=ie(),q=O("div"),K=O("p"),K.textContent="Tile Rotation []",ae=ie(),me=O("div"),It(de.$$.fragment),Ee=ie(),pe=O("div"),X=O("p"),X.textContent="Tiling Size [%]",Me=ie(),Ve=O("div"),It(we.$$.fragment),Ke=ie(),ee=O("div"),be=O("button"),be.textContent="<",Te=ie(),We=O("div"),Ue=O("p"),tt=Ot(ft),Xt=ie(),lt=O("img"),j=ie(),ct=O("button"),ct.textContent=">",Nt=ie(),Rt=O("div");for(let Ne=0;Ne<He.length;Ne+=1)He[Ne].c();Se=ie(),Fe=O("p"),Fe.textContent="Morph Settings",kt=ie(),Ye=O("div"),yt=O("label"),st=O("input"),At=Ot(`\r
        Morph`),ut=ie(),Ct&&Ct.c(),Je=ie(),Pe=O("p"),Pe.textContent="Display Settings",Ze=ie(),N=O("div"),te=O("div"),he=O("label"),se=O("input"),ke=Ot(`\r
          Border`),U=ie(),V=O("div"),oe=O("label"),$=O("input"),Z=Ot(`\r
          Skeleton`),le=ie(),Ae=O("div"),Qe=O("label"),gt=O("input"),Wt=Ot(`\r
          Origins`),Mt=ie(),rn=O("div"),mn=O("label"),sn=O("input"),Xn=Ot(`\r
          Background`),Wn=ie(),Dn=O("div"),Jt=O("label"),tn=O("input"),qt=Ot(`\r
          Background Image`),jt=ie(),Pt=O("div"),zt=O("label"),an=O("input"),Zt=Ot(`\r
          Debug Morph Lines`),Gt=ie(),dn=O("div"),It(on.$$.fragment),An=ie(),at=O("div"),It(wt.$$.fragment),Un=ie(),bt=O("div"),It(M.$$.fragment),Ce=ie(),Ge=O("div"),It(ve.$$.fragment),dt=ie(),Oe=O("div"),It(rt.$$.fragment),d(i,"x",n[35].xl+100),d(i,"y",n[35].yl+100),d(i,"width",n[35].xh-200),d(i,"height",n[35].yh-200),d(i,"stroke","rgb(2 132 199)"),d(i,"stroke-width","0.66"),d(i,"fill","white"),d(r,"id","voronoiSvg"),d(r,"width",n[35].xh),d(r,"height",n[35].yh),d(r,"viewBox",n[35].xl+100+" "+(n[35].yl+100)+" "+(n[35].xh-200)+" "+(n[35].yh-200)),d(r,"xmlns","http://www.w3.org/2000/svg"),d(p,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(l,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded inline-flex items-center min-w-52"),d(m,"class","text-red-700 text-sm break-words"),d(h,"class","lastErrorContainer max-w-96 max-h-24"),d(e,"class","flex-1 min-w-fit grid grid-cols-1 justify-items-center content-start gap-4 pl-10"),d(D,"class","text-xl font-sans text-center text-sky-400 p-2"),d(w,"class",""),d(x,"class","col-span-3 min-w-72"),d(T,"class","grid grid-cols-4"),d(K,"class",""),d(me,"class","col-span-3 min-w-72"),d(q,"class","grid grid-cols-4"),d(X,"class",""),d(Ve,"class","col-span-3 min-w-72"),d(pe,"class","grid grid-cols-4"),d(be,"class","bg-sky-300 hover:bg-sky-500 text-black font-bold rounded h-10 w-10"),d(Ue,"class","text-center"),d(We,"class","bg-slate-100 flex items-center justify-center p-4 h-10 min-w-52"),d(lt,"class","max-w-20"),ha(lt.src,Ie=n[36][n[23]].image)||d(lt,"src",Ie),d(lt,"alt","Preview..."),d(ct,"class","bg-sky-300 hover:bg-sky-500 text-black font-bold rounded w-10 h-10"),d(ee,"class","tilingCtrl flex items-center gap-4"),d(Rt,"class","tilingParams"),d(Fe,"class","text-xl font-sans text-center text-sky-400 p-2"),d(st,"type","checkbox"),d(yt,"class","p-4"),d(Ye,"class","bg-slate-100 flex items-center justify-center h-10 rounded"),d(Pe,"class","text-xl font-sans text-center text-sky-400 p-2"),d(se,"type","checkbox"),d(he,"class","p-4"),d(te,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d($,"type","checkbox"),d(oe,"class","p-4"),d(V,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(gt,"type","checkbox"),d(Qe,"class","p-4"),d(Ae,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(sn,"type","checkbox"),d(mn,"class","p-4"),d(rn,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(tn,"type","checkbox"),d(Jt,"class","p-4"),d(Dn,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(an,"type","checkbox"),d(zt,"class","p-4"),d(Pt,"class","bg-slate-100 flex items-center justify-left h-10 rounded"),d(bt,"class","col-start-1"),d(N,"class","displaySettings grid grid-cols-3 gap-4 mr-4 ml-4"),d(Q,"class","flex-1 min-w-fit grid grid-cols-1 justify-items-center gap-2 content-start"),d(t,"class","flex flex-row flex-wrap flex-grow")},m(Ne,qe){re(Ne,t,qe),k(t,e),k(e,r),k(r,i),ge.block.m(r,ge.anchor=null),ge.mount=()=>r,ge.anchor=null,k(e,A),k(e,p),k(e,u),k(e,l),k(e,g),k(e,h),k(h,m),k(m,v),k(t,B),k(t,Q),k(Q,D),k(Q,I),k(Q,T),k(T,w),k(T,b),k(T,x),pt(L,x,null),k(Q,Y),k(Q,q),k(q,K),k(q,ae),k(q,me),pt(de,me,null),k(Q,Ee),k(Q,pe),k(pe,X),k(pe,Me),k(pe,Ve),pt(we,Ve,null),k(Q,Ke),k(Q,ee),k(ee,be),k(ee,Te),k(ee,We),k(We,Ue),k(Ue,tt),k(ee,Xt),k(ee,lt),k(ee,j),k(ee,ct),k(Q,Nt),k(Q,Rt);for(let Cn=0;Cn<He.length;Cn+=1)He[Cn]&&He[Cn].m(Rt,null);k(Q,Se),k(Q,Fe),k(Q,kt),k(Q,Ye),k(Ye,yt),k(yt,st),st.checked=n[29],k(yt,At),k(Q,ut),Ct&&Ct.m(Q,null),k(Q,Je),k(Q,Pe),k(Q,Ze),k(Q,N),k(N,te),k(te,he),k(he,se),se.checked=n[13],k(he,ke),k(N,U),k(N,V),k(V,oe),k(oe,$),$.checked=n[14],k(oe,Z),k(N,le),k(N,Ae),k(Ae,Qe),k(Qe,gt),gt.checked=n[15],k(Qe,Wt),k(N,Mt),k(N,rn),k(rn,mn),k(mn,sn),sn.checked=n[16],k(mn,Xn),k(N,Wn),k(N,Dn),k(Dn,Jt),k(Jt,tn),tn.checked=n[17],k(Jt,qt),k(N,jt),k(N,Pt),k(Pt,zt),k(zt,an),an.checked=n[18],k(zt,Zt),k(N,Gt),k(N,dn),pt(on,dn,null),k(N,An),k(N,at),pt(wt,at,null),k(N,Un),k(N,bt),pt(M,bt,null),k(N,Ce),k(N,Ge),pt(ve,Ge,null),k(N,dt),k(N,Oe),pt(rt,Oe,null),Qt=!0,De||(ye=[fe(r,"click",n[38]),fe(r,"mousemove",n[48]),fe(p,"click",n[49]),fe(l,"click",n[50]),fe(be,"click",n[54]),fe(ct,"click",n[55]),fe(st,"change",n[57]),fe(se,"change",n[62]),fe($,"change",n[63]),fe(gt,"change",n[64]),fe(sn,"change",n[65]),fe(tn,"change",n[66]),fe(an,"change",n[67])],De=!0)},p(Ne,qe){n=Ne,ge.ctx=n,qe[1]&4&&o!==(o=n[33])&&ma(o,ge)||al(ge,n,qe),(!Qt||qe[0]&2048)&&jn(v,n[11]);const Cn={};qe[0]&256&&(Cn.initialValue=n[8]*100),L.$set(Cn);const mr={};qe[0]&512&&(mr.initialValue=n[9]),de.$set(mr);const nn={};if(qe[0]&128&&(nn.initialValue=n[7]),we.$set(nn),(!Qt||qe[0]&8388608)&&ft!==(ft=n[36][n[23]].name+"")&&jn(tt,ft),(!Qt||qe[0]&8388608&&!ha(lt.src,Ie=n[36][n[23]].image))&&d(lt,"src",Ie),qe[0]&8392704|qe[1]&4128){xe=Lt(n[12]);let xt;for(xt=0;xt<xe.length;xt+=1){const vr=Xa(n,xe,xt);He[xt]?(He[xt].p(vr,qe),Be(He[xt],1)):(He[xt]=po(vr),He[xt].c(),Be(He[xt],1),He[xt].m(Rt,null))}for(un(),xt=xe.length;xt<He.length;xt+=1)tr(xt);gn()}qe[0]&536870912&&(st.checked=n[29]),n[29]?Ct?(Ct.p(n,qe),qe[0]&536870912&&Be(Ct,1)):(Ct=mo(n),Ct.c(),Be(Ct,1),Ct.m(Q,Je)):Ct&&(un(),Re(Ct,1,1,()=>{Ct=null}),gn()),qe[0]&8192&&(se.checked=n[13]),qe[0]&16384&&($.checked=n[14]),qe[0]&32768&&(gt.checked=n[15]),qe[0]&65536&&(sn.checked=n[16]),qe[0]&131072&&(tn.checked=n[17]),qe[0]&262144&&(an.checked=n[18]);const hn={};!In&&qe[0]&16777216&&(In=!0,hn.hex=n[24],er(()=>In=!1)),on.$set(hn);const nr={};!ue&&qe[0]&33554432&&(ue=!0,nr.hex=n[25],er(()=>ue=!1)),wt.$set(nr);const rr={};!ce&&qe[0]&67108864&&(ce=!0,rr.hex=n[26],er(()=>ce=!1)),M.$set(rr);const Ir={};!nt&&qe[0]&134217728&&(nt=!0,Ir.hex=n[27],er(()=>nt=!1)),ve.$set(Ir);const pn={};!_t&&qe[0]&268435456&&(_t=!0,pn.hex=n[28],er(()=>_t=!1)),rt.$set(pn)},i(Ne){if(!Qt){Be(L.$$.fragment,Ne),Be(de.$$.fragment,Ne),Be(we.$$.fragment,Ne);for(let qe=0;qe<xe.length;qe+=1)Be(He[qe]);Be(Ct),Be(on.$$.fragment,Ne),Be(wt.$$.fragment,Ne),Be(M.$$.fragment,Ne),Be(ve.$$.fragment,Ne),Be(rt.$$.fragment,Ne),Qt=!0}},o(Ne){Re(L.$$.fragment,Ne),Re(de.$$.fragment,Ne),Re(we.$$.fragment,Ne),He=He.filter(Boolean);for(let qe=0;qe<He.length;qe+=1)Re(He[qe]);Re(Ct),Re(on.$$.fragment,Ne),Re(wt.$$.fragment,Ne),Re(M.$$.fragment,Ne),Re(ve.$$.fragment,Ne),Re(rt.$$.fragment,Ne),Qt=!1},d(Ne){Ne&&ne(t),ge.block.d(),ge.token=null,ge=null,mt(L),mt(de),mt(we),Nn(He,Ne),Ct&&Ct.d(),mt(on),mt(wt),mt(M),mt(ve),mt(rt),De=!1,cn(ye)}}}function Io(n){var t=document.createElement("canvas"),e=t.getContext("2d");t.width=n.width,t.height=n.height,e.putImageData(n,0,0);var r=new Image;return r.src=t.toDataURL(),r}function jc(){const n=document.getElementById("voronoiSvg");if(n!=null){const t=new Blob([n.outerHTML],{type:"image/svg+xml"}),e=document.createElement("a");e.href=URL.createObjectURL(t),e.download="voronoi.svg",e.click()}}function vo(n){return"url(#pattern_"+n.tileIdx+")"}function Xc(n,t,e){let r,i,o=new Ea(0,500,0,500),A=[],p=[],u=[],l=[],g=!1,h=[],m=[],v=300,B=300,Q=[],D=[],I=[],T=1,w=100,b=1,x=0,L=new ze(150,150),Y,q,K,ae,me="",de=[],Ee=!0,pe=!0,X=!1,Me=!0,Ve=!0,we=!1,Ke=[],ee,be=[],Te=new Ea(0,0,0,0);const lt=[{symGroup:"p1",IH:1,origin:"center",name:"Grid Shifted",image:Dc,tilingScaleFactor:.66,parameterNames:{0:{name:"Column Spacing",min:.01,max:.3,stepSize:.01,initialValue:.12239750492},1:{name:"Height Offset",min:0,max:.2,stepSize:.01,initialValue:.1}}},{symGroup:"p4m",IH:76,origin:"ul",name:"Grid",image:kc,tilingScaleFactor:.5,parameterNames:{}},{symGroup:"p2",IH:4,origin:"ul",name:"2 Rotations",image:Tc,tilingScaleFactor:.66,parameterNames:{0:{name:"Spacing Column 1-2",min:.01,max:.6,stepSize:.01,initialValue:.2},1:{name:"Height Offset",min:.12,max:.25,stepSize:.01,initialValue:0}}},{symGroup:"p3",IH:7,origin:"center",name:"3 Rotations",image:Fc,tilingScaleFactor:.66,parameterNames:{0:{name:"Horizontal Spacing",min:.5,max:.8,stepSize:.01,initialValue:.6},1:{name:"Vertical Spacing",min:.1,max:.6,stepSize:.01,initialValue:.196416770201}}},{symGroup:"p4",IH:28,origin:"center",name:"4 Rotations",image:Mc,tilingScaleFactor:.5,parameterNames:{0:{name:"Horizontal Spacing",min:0,max:2,stepSize:.01,initialValue:.230769230769},1:{name:"Vertical Spacing",min:0,max:2,stepSize:.01,initialValue:.230769230769}}},{symGroup:"p6",IH:21,origin:"center",name:"6 Rotations",image:Nc,tilingScaleFactor:.5,parameterNames:{0:{name:"Vertical Spacing",min:0,max:.5,stepSize:.01,initialValue:.104512294489},1:{name:"Horizontal Spacing",min:0,max:1.3,stepSize:.01,initialValue:.65}}},{symGroup:"p6m",IH:37,origin:"center",name:"6 Rotations Mirrored",image:Rc,tilingScaleFactor:.5,parameterNames:{}}];let Ie=0,j=-1,ct="#0000ffff",Nt="#ff0000ff",Rt="#e06d4380",Se="#59da5980",Fe="#c3c63580",kt=!0,Ye=.6,yt=1,st=2,At=1,ut=null;function Je(){e(0,A=[]),e(6,I=[]),e(5,D=[]),e(3,h=[]),e(4,m=[])}async function Pe(){e(2,g=!0),await new Promise((M,ce)=>{setTimeout(()=>{try{let Ce=new Date().getTime();te(),he(),Mo(m)?e(11,me="Collision between tiles detected, please change the paremeters (e.g. decrease Tile Size)"):(e(11,me=""),se(),N())}catch(Ce){throw e(11,me=Ce),ce(Ce),Ce}M()})})}function Ze(M){let ce=new ze((o.xh-o.xl)/2,(o.yh-o.yl)/2),Ce=Number.MAX_VALUE,Ge=-1;for(let ve=0;ve<M.length;ve++){let nt=(M[ve].origin.x-ce.x)*(M[ve].origin.x-ce.x)+(M[ve].origin.y-ce.y)*(M[ve].origin.y-ce.y);nt<Ce&&(Ge=ve,Ce=nt)}return M[Ge]}function N(){e(20,ee=Ze(A)),e(1,l=[]);let M,ce;for(let Ce=0;Ce<A.length;Ce++)A[Ce].tileIdx==ee.tileIdx&&(M=Wt(A[Ce].M,A[Ce].origin,!0),ce=gt(A[Ce].M,A[Ce].origin,!1,!0),I.filter(Ge=>Ge.tileIdx==A[Ce].tileIdx).forEach(Ge=>{Ge.edgeIndices.forEach(ve=>{if(D[ve].isPrimary&&!D[ve].isWithinCell){let nt={startPoint:{x:D[ve].va.x,y:D[ve].va.y},endPoint:{x:D[ve].vb.x,y:D[ve].vb.y}};l.push(nt)}})}));if(e(1,l),ae!=null&&K!=null)if(kt){const Ce=new i.VectorByte;K.data.forEach(ge=>Ce.push_back(ge));const Ge=new i.VectorByte;ae.data.forEach(ge=>Ge.push_back(ge));const ve=new i.VectorFeatureLine;u.forEach(ge=>ve.push_back({startPoint:{x:ge.x1+L.x,y:ge.y1+L.y},endPoint:{x:ge.x2+L.x,y:ge.y2+L.y}}));const nt=new i.VectorFeatureLine;l.forEach(ge=>nt.push_back({startPoint:{x:ge.startPoint.x,y:ge.startPoint.y},endPoint:{x:ge.endPoint.x,y:ge.endPoint.y}}));let dt=[];for(let ge=0;ge<l.length;ge++){let xe=$n(M,new ze(l[ge].startPoint.x,l[ge].startPoint.y)),He=$n(M,new ze(l[ge].endPoint.x,l[ge].endPoint.y));$n(ce,xe),$n(ce,He),dt.push({startPoint:xe,endPoint:He})}we?ea.set(dt):ea.set([]);const Oe=new i.VectorDouble;Oe.push_back(M.a),Oe.push_back(M.b),Oe.push_back(M.c),Oe.push_back(M.d),Oe.push_back(M.e),Oe.push_back(M.f);let rt=i.getBBox(nt,Oe);e(21,be=[]);for(let ge=0;ge<rt.size();ge++)be.push(rt.get(ge));e(21,be);let _t=$n(ce,new ze(be[0],be[1])),Qt=$n(ce,new ze(be[2],be[3]));if(e(22,Te.yl=_t.y,Te),e(22,Te.yh=Qt.y,Te),_t.x<Qt.x?(e(22,Te.xl=_t.x,Te),e(22,Te.xh=Qt.x,Te)):(e(22,Te.xl=Qt.x,Te),e(22,Te.xh=_t.x,Te)),_t.y<Qt.y?(e(22,Te.yl=_t.y,Te),e(22,Te.yh=Qt.y,Te)):(e(22,Te.yl=Qt.y,Te),e(22,Te.yh=_t.y,Te)),we){let ge=i.getMorphOutline(K.width,K.height,At,Ge,ve,nt,Oe);e(19,Ke=[]);for(let xe=0;xe<ge.size();xe++)Ke.push(new Wr(ge.get(xe).startPoint.x,ge.get(xe).startPoint.y,ge.get(xe).endPoint.x,ge.get(xe).endPoint.y));e(19,Ke)}let De=i.doMorph(ae.width,ae.height,Ye,yt,st,At,Ce,Ge,ve,nt,Oe),ye=new ImageData(be[2]-be[0],be[3]-be[1]);for(let ge=0;ge<De.size();ge++)ye.data[ge]=De.get(ge);e(10,q=Io(ye))}else e(10,q=Io(K)),e(21,be=[0,0,v,B])}function te(){var ce;let M=new Fa(Number(lt[Ie].IH));if(j!=Ie)if(M.numParameters()>0){e(12,de=M.getParameters());for(let Ce=0;Ce<de.length;Ce++)e(12,de[Ce]=((ce=lt[Ie].parameterNames[Ce])==null?void 0:ce.initialValue)??de[Ce],de);M.setParameters(de)}else e(12,de=[]);j=Ie}function he(){e(0,A=[]),e(3,h=[]),e(4,m=[]);let M=new Fa(Number(lt[Ie].IH));M.setParameters(de);for(let ce of M.fillRegionBounds(o.xl/(w*T),o.yl/(w*T),o.xh/(w*T),o.yh/(w*T))){const Ce=M.getColour(ce.t1,ce.t2,ce.aspect),Ge=ce.T;let ve={a:Ge[0],b:Ge[3],c:Ge[1],d:Ge[4],e:Ge[2],f:Ge[5]},nt=x*(Math.PI/180),dt=Ar(gs(w*T,w*T),ve,Os(nt)),Oe=$n(dt,{x:0,y:0}),_t={origin:new Qn(Oe.x,Oe.y),M:ve,tileIdx:A.length-1};A.push(_t);let Qt=Ar(dt,gs(b/Ht.x,b/Ht.y));for(let De=0;De<p.length;De++){let ye=$n(Qt,{x:p[De].x,y:p[De].y}),ge=new Qn(ye.x,ye.y,Ce,_t.tileIdx);o.contains(ge.x,ge.y)&&h.push(ge)}for(let De=0;De<u.length;De++){let ye=$n(Qt,{x:u[De].x1,y:u[De].y1}),ge=$n(Qt,{x:u[De].x2,y:u[De].y2}),xe=new Wr(ye.x,ye.y,ge.x,ge.y,Ce,_t.tileIdx);(o.contains(xe.x1,xe.y1)||o.contains(xe.x2,xe.y2))&&m.push(xe)}}}function se(){try{const M=new r.VectorDouble;M.push_back(o.xl),M.push_back(o.yl),M.push_back(o.xh),M.push_back(o.yh);const ce=new r.VectorInt,Ce=new r.VectorInt,Ge=new r.VectorInt;h.forEach(De=>{ce.push_back(De.x),ce.push_back(De.y),Ce.push_back(De.color),Ge.push_back(De.tileIdx)});const ve=new r.VectorInt,nt=new r.VectorInt,dt=new r.VectorInt;m.forEach(De=>{ve.push_back(De.x1),ve.push_back(De.y1),ve.push_back(De.x2),ve.push_back(De.y2),nt.push_back(De.color),dt.push_back(De.tileIdx)});let Oe=r.computevoronoi(M,ce,ve,Ce,nt,Ge,dt),rt=[];for(let De=0;De<Oe.vertices.size();De+=2){let ye=!0;(Number.isNaN(Oe.vertices.get(De))||Number.isNaN(Oe.vertices.get(De+1)))&&(console.log("Vertex "+De+": "+Oe.vertices.get(De)+" "+Oe.vertices.get(De+1)),ye=!1),rt.push({x:Oe.vertices.get(De),y:Oe.vertices.get(De+1),isValid:ye})}let _t=[];for(let De=0;De<Oe.edges.size();De++){let ye=Oe.edges.get(De),ge=[],xe=!0;for(let He=0;He<ye.controll_points.size();He+=2){(Number.isNaN(ye.controll_points.get(He))||Number.isNaN(ye.controll_points.get(He+1)))&&(console.log("CP "+De+" "+He/2+": "+ye.controll_points.get(He)+" "+ye.controll_points.get(He+1)),xe=!1);const tr={x:ye.controll_points.get(He),y:ye.controll_points.get(He+1),isValid:xe};ge.push(tr)}(Number.isNaN(ye.x1)||Number.isNaN(ye.y1)||Number.isNaN(ye.x2)||Number.isNaN(ye.y2))&&(console.log("Edge "+De+": "+ye.x1+" "+ye.y1+" "+ye.x2+" "+ye.y2),xe=!1),_t.push({va:{x:ye.x1,y:ye.y1,isValid:xe},vb:{x:ye.x2,y:ye.y2,isValid:xe},isCurved:ye.isCurved,controlPoints:ge,isPrimary:ye.isPrimary,isValid:xe,isWithinCell:ye.isWithinCell})}let Qt=[];for(let De=0;De<Oe.cells.size();De++){let ye=Oe.cells.get(De),ge={sourceIndex:ye.sourceIndex,sourceCategory:ye.sourceCategory,isDegenerate:ye.isDegenerate,containsPoint:ye.containsPoint,containsSegment:ye.containsSegment,edgeIndices:[],color:ye.color,tileIdx:ye.tileIdx};Qt.push(ge);for(let xe=0;xe<ye.edgeIndices.size();xe++){let He=ye.edgeIndices.get(xe);He>=_t.length?console.warn("Index too high "+He+" for cell "+ye.sourceIndex+" isDegenerate "+ye.isDegenerate):ge.edgeIndices.push(He)}}Q=rt,e(5,D=_t),e(6,I=Qt)}catch(M){throw e(11,me=M),M}}function ke(M){e(3,h=[...h,new Qn(M.offsetX,M.offsetY)]),_s.set({sitePoints:h,siteSegments:m,tileWidth:v,tileHeight:B,tileCenter:L,imageOffset:Y})}function U(M){if(M.edgeIndices.length<=1)return!1;for(let Ce=1;Ce<=M.edgeIndices.length-1;Ce++)if(!D[M.edgeIndices[Ce-1]].isValid||D[M.edgeIndices[Ce-1]].vb.x!=D[M.edgeIndices[Ce]].va.x||D[M.edgeIndices[Ce-1]].vb.y!=D[M.edgeIndices[Ce]].va.y||Number.isNaN(D[M.edgeIndices[Ce]].va.x)||Number.isNaN(D[M.edgeIndices[Ce]].va.y))return!1;let ce=M.edgeIndices.length-1;return!(D[M.edgeIndices[ce]].vb.x!=D[M.edgeIndices[0]].va.x||D[M.edgeIndices[ce]].vb.y!=D[M.edgeIndices[0]].va.y)}function V(M){let ce=D[M.edgeIndices[0]],Ce;ce.isCurved?Ce="M "+ce.controlPoints[0].x+" "+ce.controlPoints[0].y+"Q "+ce.controlPoints[1].x+" "+ce.controlPoints[1].y+" "+ce.controlPoints[2].x+" "+ce.controlPoints[2].y+" ":Ce="M "+D[M.edgeIndices[0]].va.x+" "+D[M.edgeIndices[0]].va.y+" ";for(let nt=1;nt<M.edgeIndices.length;nt++){let dt=D[M.edgeIndices[nt]],Oe=D[M.edgeIndices[nt-1]];dt.isCurved?Ce=Ce+"L "+dt.controlPoints[0].x+" "+dt.controlPoints[0].y+"Q "+dt.controlPoints[1].x+" "+dt.controlPoints[1].y+" "+dt.controlPoints[2].x+" "+dt.controlPoints[2].y+" ":Ce=Ce+"L "+dt.va.x+" "+dt.va.y+" ",(Oe.vb.x!=dt.va.x||Oe.vb.y!=dt.va.y)&&console.log("Inconsistent: ("+Oe.vb.x+" "+Oe.vb.y+") ("+dt.va.x+" "+dt.va.y+")")}let Ge=M.edgeIndices.length-1;ce=D[M.edgeIndices[Ge]];let ve=D[M.edgeIndices[Ge-1]];return ve.isCurved||(Ce=Ce+"L "+ce.vb.x+" "+ce.vb.y+" "),(ve.vb.x!=ce.va.x||ve.vb.y!=ce.va.y)&&console.log("Inconsistent: ("+ve.vb.x+" "+ve.vb.y+") ("+ce.va.x+" "+ce.va.y+")"),(ce.vb.x!=D[M.edgeIndices[0]].va.x||ce.vb.y!=D[M.edgeIndices[0]].va.y)&&console.log("Inconsistent: ("+ce.vb.x+" "+ce.vb.y+") ("+D[M.edgeIndices[0]].va.x+" "+D[M.edgeIndices[0]].va.y+")"),Ce}function oe(){e(23,Ie=(Ie+1)%lt.length),T=lt[Ie].tilingScaleFactor,Ts.set(lt[Ie]),Je(),te()}function $(){e(23,Ie=Ie-1),Ie<0&&e(23,Ie=lt.length-1),T=lt[Ie].tilingScaleFactor,Ts.set(lt[Ie]),Je(),te()}function Z(M,ce){ce<de.length&&e(12,de[ce]=M,de)}function le(M){e(7,w=M)}function Ae(M){e(8,b=M/100)}function Qe(M){e(9,x=M)}function gt(M,ce,Ce,Ge){M.e=0,M.f=0;let ve=Math.sqrt(M.a*M.a+M.b*M.b),nt=Math.sqrt(M.c*M.c+M.d*M.d),dt=Math.atan2(M.b,M.a)+x*(Math.PI/180),Oe=-L.x+ce.x,rt=-L.y+ce.y;Ce&&(Oe=Oe+be[0],rt=rt+be[1]),Ge?(ve=ve*w*T*b/Ht.x,nt=nt*w*T*b/Ht.y):(ve=ve*w*T*b/v,nt=nt*w*T*b/B);let _t=va();return Math.sign(M.a)!=Math.sign(M.d)&&(_t=Ar(_t,Ca())),Math.sign(M.c)!=Math.sign(M.b)&&(_t=Ar(_t,ya())),_t=Ar(Os(dt,ce.x,ce.y),gs(ve,nt,ce.x,ce.y),hi(Oe,rt)),_t}function Wt(M,ce,Ce){M.e=0,M.f=0;let Ge=Math.sqrt(M.a*M.a+M.b*M.b),ve=Math.sqrt(M.c*M.c+M.d*M.d),nt=Math.atan2(M.b,M.a)+x*(Math.PI/180),dt=L.x-ce.x,Oe=L.y-ce.y;Ce?(Ge=Ht.x/(Ge*w*T*b),ve=Ht.y/(ve*w*T*b)):(Ge=v/(Ge*w*T*b),ve=B/(ve*w*T*b));let rt=va();return Math.sign(M.a)!=Math.sign(M.d)&&(rt=Ar(rt,Ca())),Math.sign(M.c)!=Math.sign(M.b)&&(rt=Ar(rt,ya())),rt=Ar(hi(dt,Oe),gs(Ge,ve,ce.x,ce.y),Os(-nt,ce.x,ce.y)),rt}To(async()=>{r=await Rl(),i=await Ml(),_s.subscribe(M=>{v=M.tileWidth,B=M.tileHeight,e(21,be=[0,0,v,B]),p=M.sitePoints,u=M.siteSegments,L=M.tileCenter,Y=M.imageOffset}),$s.subscribe(M=>{e(10,q=M.image),K=M.imageData,ae=M.imageDataProcessed,e(2,g=!1)}),Ts.set(lt[Ie]),p=[new Qn(100,50),new Qn(300,50),new Qn(100,250),new Qn(300,250),new Qn(200,150)],e(4,m=[]),_s.set({sitePoints:h,siteSegments:m,tileWidth:v,tileHeight:B,tileCenter:L,imageOffset:Y}),T=lt[Ie].tilingScaleFactor});function Mt(M){M.offsetX,M.offsetY}const rn=()=>e(33,ut=Pe()),mn=()=>{jc()},sn=M=>Ae(M.detail.value),Xn=M=>Qe(M.detail.value),Wn=M=>le(M.detail.value),Dn=()=>{$()},Jt=()=>{oe()},tn=(M,ce)=>Z(ce.detail.value,M);function qt(){kt=this.checked,e(29,kt)}const jt=M=>e(32,At=Number(M.detail.value)),Pt=M=>e(34,Ye=Number(M.detail.value)),zt=M=>e(30,yt=Number(M.detail.value)),an=M=>e(31,st=Number(M.detail.value));function Zt(){Ee=this.checked,e(13,Ee)}function Gt(){pe=this.checked,e(14,pe)}function dn(){X=this.checked,e(15,X)}function on(){Me=this.checked,e(16,Me)}function In(){Ve=this.checked,e(17,Ve)}function An(){we=this.checked,e(18,we)}function at(M){ct=M,e(24,ct)}function wt(M){Nt=M,e(25,Nt)}function ue(M){Rt=M,e(26,Rt)}function Un(M){Se=M,e(27,Se)}function bt(M){Fe=M,e(28,Fe)}return[A,l,g,h,m,D,I,w,b,x,q,me,de,Ee,pe,X,Me,Ve,we,Ke,ee,be,Te,Ie,ct,Nt,Rt,Se,Fe,kt,yt,st,At,ut,Ye,o,lt,Pe,ke,U,V,oe,$,Z,le,Ae,Qe,gt,Mt,rn,mn,sn,Xn,Wn,Dn,Jt,tn,qt,jt,Pt,zt,an,Zt,Gt,dn,on,In,An,at,wt,ue,Un,bt]}class Wc extends Ln{constructor(t){super(),Pn(this,t,Xc,Jc,kn,{},null,[-1,-1,-1,-1])}}function Co(n){let t;return{c(){t=O("div"),t.innerHTML=`<p class="text-2xl font-sans text-sky-400 p-4">Help</p> <p class="pl-10">This tool is meant to generate escher like tilings from any Image. To generate a tiling follow the steps below:</p> <p class="text-xl font-sans text-sky-400 p-4">Step 1: Skeleton</p> <ul class="list-disc list-inside pl-10 pr-10"><li>Get an image to use for the tool in a common image format (png, jpg, ...).</li> <li>To be able to generate a tiling the tool has to know what the content and what the backgound of the image is. 
          It assumes that all black (#000000) pixels are the background and everything else is the subject.
          Use a tool like Photoshop, GIMP or MS Paint to fill the background with black pixels.</li> <li>Now use the &quot;Upload Image&quot; button to upload the Image to the tool.</li> <li>The Tool will automaticaly calculate a &quot;skelleton&quot; of the image.
          Use the &quot;Deviation Tolerance&quot; slider to adjust the skelleton, so it closely assembles the subject but does not have to many red lines.</li> <li>The tools next to the image can be used to manualy adjust the skelleton.</li> <li>The pink dot can be moved to adjust the center of the tiling. The skelloton will be drawn relative to this center in the next step.</li> <li>The steps above can be repeated anytime to readjust the skelleton. Changing the deviation tolerance will reset any manual changes.</li></ul> <p></p> <p class="text-xl font-sans text-sky-400 p-4">Step 2: Tiling</p> <ul class="list-disc list-inside pl-10"><li>Press the &quot;Update&quot; button to create the tiling. Update has to be pressed every time a setting is chaged.</li> <li>Now the settings on the right can be chaged to modify the tiling.</li> <li>The &quot;Tile Size&quot; changes the size of an individual tile</li> <li>The &quot;Tiling Size&quot; changes the scale of the whole tiling</li> <li>The &quot;Base Type&quot; of the tiling can be changed using the &quot;&lt;&quot; and &quot;&gt;&quot; buttons</li> <li>In the Morph Settings area image morphing (warping) can be disabled and the behaviour of the morph can be modified</li> <li>t - amount of warping (none vs. full)</li> <li>p - all lines influence the same vs. longer lines have greater influence</li> <li>a - precision vs. smoothness of the warping</li> <li>b - affection of all lines vs. closest line to a pixel</li> <li>The Display Settings area can be used to customize which parts of the output are displayed and in which colors</li> <li>Press the &quot;Download SVG&quot; button to save the generate tiling as an SVG file. SVGs can be displayed using most Web-Browsers and further Edited using Software like Incscape, Adobe Illustrator etc.</li></ul>`,d(t,"class","flex flex-col grow pb-10")},m(e,r){re(e,t,r)},d(e){e&&ne(t)}}}function qc(n){let t,e,r,i,o,A,p,u,l,g,h,m,v,B,Q,D,I,T,w,b,x,L,Y,q,K,ae,me,de,Ee=n[0]&&Co();return D=new Nl({}),Y=new Wc({}),{c(){t=O("link"),e=ie(),r=O("main"),i=O("link"),o=ie(),A=O("header"),p=O("h1"),p.textContent="Escherization",u=ie(),l=O("button"),l.innerHTML='<span class="material-symbols-outlined svelte-1g0vp1i">help</span>',g=ie(),Ee&&Ee.c(),h=ie(),m=O("div"),v=O("div"),B=O("p"),B.textContent="Skeleton",Q=ie(),It(D.$$.fragment),I=ie(),T=O("div"),w=ie(),b=O("div"),x=O("p"),x.textContent="Tiling",L=ie(),It(Y.$$.fragment),q=ie(),K=O("div"),K.innerHTML='<footer class="flex flex-col items-center text-center"><div class="w-full p-1 text-center"><a class="text-white" href="https://www.tum.de/en/">Julian Eder - TUM</a></div></footer>',d(t,"rel","stylesheet"),d(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"),d(i,"href","https://fonts.googleapis.com/icon?family=Material+Icons"),d(i,"rel","stylesheet"),d(p,"class","text-4xl font-sans text-center text-white"),d(l,"class","absolute right-3 top-3 min-h-12 min-w-12 bg-sky-500 rounded"),d(A,"class","sticky z-50 bg-sky-500 top-0 p-4"),d(B,"class","text-2xl font-sans text-center text-sky-400 p-4"),d(v,"class","flex-grow flex-1 min-w-fit"),d(T,"class","col-start-2 min-h-[1em] w-px self-stretch bg-gradient-to-tr from-transparent via-neutral-500 to-transparent opacity-20 dark:opacity-100"),d(x,"class","text-2xl font-sans text-center text-sky-400 p-4"),d(b,"class","flex-grow flex-1 min-w-fit"),d(m,"class","flex flex-row flex-wrap flex-grow"),d(K,"class","sticky z-50 bottom-0 w-screen bg-sky-900"),d(r,"class","flex flex-col min-h-screen")},m(pe,X){re(pe,t,X),re(pe,e,X),re(pe,r,X),k(r,i),k(r,o),k(r,A),k(A,p),k(A,u),k(A,l),k(r,g),Ee&&Ee.m(r,null),k(r,h),k(r,m),k(m,v),k(v,B),k(v,Q),pt(D,v,null),k(m,I),k(m,T),k(m,w),k(m,b),k(b,x),k(b,L),pt(Y,b,null),k(r,q),k(r,K),ae=!0,me||(de=fe(l,"click",n[2]),me=!0)},p(pe,[X]){pe[0]?Ee||(Ee=Co(),Ee.c(),Ee.m(r,h)):Ee&&(Ee.d(1),Ee=null)},i(pe){ae||(Be(D.$$.fragment,pe),Be(Y.$$.fragment,pe),ae=!0)},o(pe){Re(D.$$.fragment,pe),Re(Y.$$.fragment,pe),ae=!1},d(pe){pe&&(ne(t),ne(e),ne(r)),Ee&&Ee.d(),mt(D),mt(Y),me=!1,de()}}}function zc(n,t,e){let r=!1;function i(){e(0,r=!r)}return[r,i,()=>{i()}]}class Kc extends Ln{constructor(t){super(),Pn(this,t,zc,qc,kn,{})}}new Kc({target:document.getElementById("app")});
